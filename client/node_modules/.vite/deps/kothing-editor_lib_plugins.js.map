{
  "version": 3,
  "sources": ["../../kothing-editor/lib/plugins/command/blockquote.js", "../../kothing-editor/lib/plugins/submenu/align.js", "../../kothing-editor/lib/plugins/submenu/font.js", "../../kothing-editor/lib/plugins/submenu/fontSize.js", "../../kothing-editor/lib/plugins/modules/colorPicker.js", "../../kothing-editor/lib/plugins/submenu/fontColor.js", "../../kothing-editor/lib/plugins/submenu/hiliteColor.js", "../../kothing-editor/lib/plugins/submenu/horizontalRule.js", "../../kothing-editor/lib/plugins/submenu/list.js", "../../kothing-editor/lib/plugins/submenu/table.js", "../../kothing-editor/lib/plugins/submenu/formatBlock.js", "../../kothing-editor/lib/plugins/submenu/lineHeight.js", "../../kothing-editor/lib/plugins/submenu/template.js", "../../kothing-editor/lib/plugins/submenu/paragraphStyle.js", "../../kothing-editor/lib/plugins/submenu/textStyle.js", "../../kothing-editor/lib/plugins/modules/dialog.js", "../../kothing-editor/lib/plugins/modules/selectMenu.js", "../../kothing-editor/lib/plugins/modules/anchor.js", "../../kothing-editor/lib/plugins/dialog/link.js", "../../kothing-editor/lib/plugins/modules/component.js", "../../kothing-editor/lib/plugins/modules/resizing.js", "../../kothing-editor/lib/plugins/modules/fileManager.js", "../../kothing-editor/lib/plugins/dialog/image.js", "../../kothing-editor/lib/plugins/dialog/video.js", "../../kothing-editor/lib/plugins/dialog/audio.js", "../../kothing-editor/lib/plugins/dialog/math.js", "../../kothing-editor/lib/plugins/modules/fileBrowser.js", "../../kothing-editor/lib/plugins/fileBrowser/imageGallery.js", "../../kothing-editor/lib/plugins/index.js", "dep:kothing-editor_lib_plugins"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"blockquote\",\n  display: \"command\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.blockquote = {\n      targetButton: targetElement,\n      tag: core.util.createElement(\"BLOCKQUOTE\")\n    };\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    if (!element) {\n      this.util.removeClass(this.context.blockquote.targetButton, \"active\");\n    } else if (/blockquote/i.test(element.nodeName)) {\n      this.util.addClass(this.context.blockquote.targetButton, \"active\");\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  action: function action() {\n    var currentBlockquote = this.util.getParentElement(this.getSelectionNode(), \"blockquote\");\n\n    if (currentBlockquote) {\n      this.detachRangeFormatElement(currentBlockquote, null, null, false, false);\n    } else {\n      this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(false));\n    }\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"align\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var icons = core.icons;\n    var context = core.context;\n    context.align = {\n      targetButton: targetElement,\n      _alignList: null,\n      currentAlign: \"\",\n      defaultDir: core.options.rtl ? \"right\" : \"left\",\n      icons: {\n        justify: icons.align_justify,\n        left: icons.align_left,\n        right: icons.align_right,\n        center: icons.align_center\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.align._alignList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var listDiv = core.util.createElement(\"DIV\");\n    var leftDir = core.context.align.defaultDir === \"left\";\n    var leftMenu = \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyleft\" data-value=\"left\" title=\"' + lang.toolbar.alignLeft + '\">' + '<span class=\"ke-list-icon\">' + icons.align_left + \"</span>\" + lang.toolbar.alignLeft + \"</button>\" + \"</li>\";\n    var rightMenu = \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyright\" data-value=\"right\" title=\"' + lang.toolbar.alignRight + '\">' + '<span class=\"ke-list-icon\">' + icons.align_right + \"</span>\" + lang.toolbar.alignRight + \"</button>\" + \"</li>\";\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-align\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + (leftDir ? leftMenu : rightMenu) + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifycenter\" data-value=\"center\" title=\"' + lang.toolbar.alignCenter + '\">' + '<span class=\"ke-list-icon\">' + icons.align_center + \"</span>\" + lang.toolbar.alignCenter + \"</button>\" + \"</li>\" + (leftDir ? rightMenu : leftMenu) + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list ke-btn-align\" data-command=\"justifyfull\" data-value=\"justify\" title=\"' + lang.toolbar.alignJustify + '\">' + '<span class=\"ke-list-icon\">' + icons.align_justify + \"</span>\" + lang.toolbar.alignJustify + \"</button>\" + \"</li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var alignContext = this.context.align;\n    var targetButton = alignContext.targetButton;\n    var target = targetButton.firstElementChild;\n\n    if (!element) {\n      this.util.changeElement(target, alignContext.icons[alignContext.defaultDir]);\n      targetButton.removeAttribute(\"data-focus\");\n    } else if (this.util.isFormatElement(element)) {\n      var textAlign = element.style.textAlign;\n\n      if (textAlign) {\n        this.util.changeElement(target, alignContext.icons[textAlign] || alignContext.icons[alignContext.defaultDir]);\n        targetButton.setAttribute(\"data-focus\", textAlign);\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var alignContext = this.context.align;\n    var alignList = alignContext._alignList;\n    var currentAlign = alignContext.targetButton.getAttribute(\"data-focus\") || alignContext.defaultDir;\n\n    if (currentAlign !== alignContext.currentAlign) {\n      for (var i = 0, len = alignList.length; i < len; i++) {\n        if (currentAlign === alignList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(alignList[i], \"active\");\n        } else {\n          this.util.removeClass(alignList[i], \"active\");\n        }\n      }\n\n      alignContext.currentAlign = currentAlign;\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var defaultDir = this.context.align.defaultDir;\n    var selectedFormsts = this.getSelectedElements();\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      this.util.setStyle(selectedFormsts[i], \"textAlign\", value === defaultDir ? \"\" : value);\n    }\n\n    this.effectNode = null;\n    this.submenuOff();\n    this.focus(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"font\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.font = {\n      targetText: targetElement.querySelector(\".txt\"),\n      targetTooltip: targetElement.parentNode.querySelector(\".ke-tooltip-text\"),\n      _fontList: null,\n      currentFont: \"\",\n      icon: icons.font\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\".ke-list-inner\").addEventListener(\"click\", this.pickup.bind(core));\n    context.font._fontList = listDiv.querySelectorAll(\"ul li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-font-family\";\n    var font, text, i, len;\n    var fontList = !option.font ? [\"Arial\", \"Comic Sans MS\", \"Courier New\", \"Impact\", \"Georgia\", \"tahoma\", \"Trebuchet MS\", \"Verdana\"] : option.font;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (i = 0, len = fontList.length; i < len; i++) {\n      font = fontList[i];\n      text = font.split(\",\")[0];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + font + '\" data-txt=\"' + text + '\" title=\"' + text + '\" style=\"font-family:' + font + ';\">' + text + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    // const target = this.context.font.targetText;\n    var target = this.context.font.targetText.firstElementChild;\n    var tooltip = this.context.font.targetTooltip;\n    var icon = this.context.font.icon;\n\n    if (!element) {\n      var fontElement = this.hasFocus ? this.wwComputedStyle.fontFamily ? \"<span>\".concat(JSON.parse(this.wwComputedStyle.fontFamily), \"</span>\") : \"\" : icon;\n      this.util.changeElement(target, fontElement);\n      var font = this.hasFocus ? this.wwComputedStyle.fontFamily ? JSON.parse(this.wwComputedStyle.fontFamily) : \"\" : this.lang.toolbar.font;\n      this.util.changeTxt(tooltip, this.hasFocus ? this.lang.toolbar.font + \" (\" + font + \")\" : font);\n    } else if (element.style && element.style.fontFamily.length > 0) {\n      var selectFont = element.style.fontFamily.replace(/[\"']/g, \"\");\n      this.util.changeElement(target, \"<span>\".concat(selectFont, \"</span>\"));\n      this.util.changeTxt(tooltip, this.lang.toolbar.font + \" (\" + selectFont + \")\");\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var fontContext = this.context.font;\n    var fontList = fontContext._fontList;\n    var currentFont = fontContext.targetText.textContent;\n\n    if (currentFont !== fontContext.currentFont) {\n      for (var i = 0, len = fontList.length; i < len; i++) {\n        if (currentFont === fontList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(fontList[i], \"active\");\n        } else {\n          this.util.removeClass(fontList[i], \"active\");\n        }\n      }\n\n      fontContext.currentFont = currentFont;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\");\n\n    if (value) {\n      var newNode = this.util.createElement(\"SPAN\");\n      newNode.style.fontFamily = value;\n      this.nodeChange(newNode, [\"font-family\"], null, null);\n    } else {\n      this.nodeChange(null, [\"font-family\"], [\"span\"], true);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"fontSize\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.fontSize = {\n      targetText: targetElement.querySelector(\".txt\"),\n      _sizeList: null,\n      currentSize: \"\",\n      icon: icons.font_size\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.fontSize._sizeList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-font-size\";\n    var sizeList = !option.fontSize ? [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72] : option.fontSize;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (var i = 0, unit = option.fontSizeUnit, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + size + unit + '\" title=\"' + size + unit + '\" style=\"font-size:' + size + unit + ';\">' + size + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var target = this.context.fontSize.targetText.firstElementChild;\n    var icon = this.context.fontSize.icon;\n\n    if (!element) {\n      // this.util.changeTxt(\n      //   this.context.fontSize.targetText,\n      //   this.hasFocus\n      //     ? this.wwComputedStyle.fontSize\n      //     : this.lang.toolbar.fontSize\n      // );\n      var sizeIcon = this.hasFocus ? this.wwComputedStyle.fontSize ? \"<span>\".concat(this.wwComputedStyle.fontSize, \"</span>\") : \"\" : icon;\n      this.util.changeElement(target, sizeIcon);\n    } else if (element.style && element.style.fontSize.length > 0) {\n      // this.util.changeTxt(\n      //   this.context.fontSize.targetText,\n      //   element.style.fontSize\n      // );\n      this.util.changeElement(target, \"<span>\".concat(element.style.fontSize, \"</span>\"));\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var fontSizeContext = this.context.fontSize;\n    var sizeList = fontSizeContext._sizeList;\n    var currentSize = fontSizeContext.targetText.textContent;\n\n    if (currentSize !== fontSizeContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(sizeList[i], \"active\");\n        } else {\n          this.util.removeClass(sizeList[i], \"active\");\n        }\n      }\n\n      fontSizeContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\");\n\n    if (value) {\n      var newNode = this.util.createElement(\"SPAN\");\n      newNode.style.fontSize = value;\n      this.nodeChange(newNode, [\"font-size\"], null, null);\n    } else {\n      this.nodeChange(null, [\"font-size\"], [\"span\"], true);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"colorPicker\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    var context = core.context;\n    context.colorPicker = {\n      colorListHTML: \"\",\n      _colorInput: \"\",\n      _defaultColor: \"#000\",\n      _styleProperty: \"color\",\n      _currentColor: \"\",\n      _colorList: []\n    };\n    /** set submenu */\n\n    context.colorPicker.colorListHTML = this.createColorList(core, this._makeColorList);\n  },\n\n  /**\r\n   * @description Create color list\r\n   * @param {Object} core Core object\r\n   * @param {Function} makeColor this._makeColorList\r\n   * @returns {String} HTML string\r\n   */\n  createColorList: function createColorList(core, makeColor) {\n    var option = core.options;\n    var lang = core.lang;\n    var colorList = !option.colorList || option.colorList.length === 0 ? [\"#ff0000\", \"#ff5e00\", \"#ffe400\", \"#abf200\", \"#00d8ff\", \"#0055ff\", \"#6600ff\", \"#ff00dd\", \"#000000\", \"#ffd8d8\", \"#fae0d4\", \"#faf4c0\", \"#e4f7ba\", \"#d4f4fa\", \"#d9e5ff\", \"#e8d9ff\", \"#ffd9fa\", \"#f1f1f1\", \"#ffa7a7\", \"#ffc19e\", \"#faed7d\", \"#cef279\", \"#b2ebf4\", \"#b2ccff\", \"#d1b2ff\", \"#ffb2f5\", \"#bdbdbd\", \"#f15f5f\", \"#f29661\", \"#e5d85c\", \"#bce55c\", \"#5cd1e5\", \"#6699ff\", \"#a366ff\", \"#f261df\", \"#8c8c8c\", \"#980000\", \"#993800\", \"#998a00\", \"#6b9900\", \"#008299\", \"#003399\", \"#3d0099\", \"#990085\", \"#353535\", \"#670000\", \"#662500\", \"#665c00\", \"#476600\", \"#005766\", \"#002266\", \"#290066\", \"#660058\", \"#222222\"] : option.colorList;\n    var colorArr = [];\n    var list = '<div class=\"ke-list-inner\">';\n\n    for (var i = 0, len = colorList.length, color; i < len; i++) {\n      color = colorList[i];\n\n      if (!color) {\n        continue;\n      }\n\n      if (typeof color === \"string\") {\n        colorArr.push(color);\n\n        if (i < len - 1) {\n          continue;\n        }\n      }\n\n      if (colorArr.length > 0) {\n        list += '<div class=\"ke-selector-color\">' + makeColor(colorArr) + \"</div>\";\n        colorArr = [];\n      }\n\n      if (_typeof(color) === \"object\") {\n        list += '<div class=\"ke-selector-color\">' + makeColor(color) + \"</div>\";\n      }\n    }\n\n    list += \"\" + '<form class=\"ke-submenu-form-group\">' + '<input type=\"text\" maxlength=\"9\" class=\"_ke_color_picker_input ke-color-input\"/>' + '<button type=\"submit\" class=\"ke-btn-primary _ke_color_picker_submit\" title=\"' + lang.dialogBox.submitButton + '\">' + core.icons.checked + \"</button>\" + '<button type=\"button\" class=\"ke-btn _ke_color_picker_remove\" title=\"' + lang.toolbar.removeFormat + '\">' + core.icons.erase + \"</button>\" + \"</form>\" + \"</div>\";\n    return list;\n  },\n\n  /**\r\n   * @description Internal function used by this.createColorList\r\n   * @param {Array} colorList Color list\r\n   * @private\r\n   */\n  _makeColorList: function _makeColorList(colorList) {\n    var list = \"\";\n    list += '<ul class=\"ke-color-pallet\">';\n\n    for (var i = 0, len = colorList.length, color; i < len; i++) {\n      color = colorList[i];\n\n      if (typeof color === \"string\") {\n        list += \"<li>\" + '<button type=\"button\" data-value=\"' + color + '\" title=\"' + color + '\" style=\"background-color:' + color + ';\"></button>' + \"</li>\";\n      }\n    }\n\n    list += \"</ul>\";\n    return list;\n  },\n\n  /**\r\n   * @description Displays or resets the currently selected color at color list.\r\n   * @param {Node} node Current Selected node\r\n   * @param {String|null} color Color value\r\n   */\n  init: function init(node, color) {\n    var colorPicker = this.plugins.colorPicker;\n    var fillColor = color ? color : colorPicker.getColorInNode.call(this, node) || this.context.colorPicker._defaultColor;\n    fillColor = colorPicker.isHexColor(fillColor) ? fillColor : colorPicker.rgb2hex(fillColor) || fillColor;\n    var colorList = this.context.colorPicker._colorList;\n\n    if (colorList) {\n      for (var i = 0, len = colorList.length; i < len; i++) {\n        if (fillColor.toLowerCase() === colorList[i].getAttribute(\"data-value\").toLowerCase()) {\n          this.util.addClass(colorList[i], \"active\");\n        } else {\n          this.util.removeClass(colorList[i], \"active\");\n        }\n      }\n    }\n\n    colorPicker.setInputText.call(this, colorPicker.colorName2hex.call(this, fillColor));\n  },\n\n  /**\r\n   * @description Store color values\r\n   * @param {String} hexColorStr Hax color value\r\n   */\n  setCurrentColor: function setCurrentColor(hexColorStr) {\n    this.context.colorPicker._currentColor = hexColorStr;\n    this.context.colorPicker._colorInput.style.borderColor = hexColorStr;\n  },\n\n  /**\r\n   * @description Set color at input element\r\n   * @param {String} hexColorStr Hax color value\r\n   */\n  setInputText: function setInputText(hexColorStr) {\n    hexColorStr = /^#/.test(hexColorStr) ? hexColorStr : \"#\" + hexColorStr;\n    this.context.colorPicker._colorInput.value = hexColorStr;\n    this.plugins.colorPicker.setCurrentColor.call(this, hexColorStr);\n  },\n\n  /**\r\n   * @description Gets color value at color property of node\r\n   * @param {Node} node Selected node\r\n   * @returns {String}\r\n   */\n  getColorInNode: function getColorInNode(node) {\n    var findColor = \"\";\n    var styleProperty = this.context.colorPicker._styleProperty;\n\n    while (node && !this.util.isWysiwygDiv(node) && findColor.length === 0) {\n      if (node.nodeType === 1 && node.style[styleProperty]) {\n        findColor = node.style[styleProperty];\n      }\n\n      node = node.parentNode;\n    }\n\n    return findColor;\n  },\n\n  /**\r\n   * @description Function to check hex format color\r\n   * @param {String} str Color value\r\n   */\n  isHexColor: function isHexColor(str) {\n    return /^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(str);\n  },\n\n  /**\r\n   * @description Function to convert hex format to a rgb color\r\n   * @param {String} rgb RGB color format\r\n   * @returns {String}\r\n   */\n  rgb2hex: function rgb2hex(rgb) {\n    var rgbMatch = rgb.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return rgbMatch && rgbMatch.length === 4 ? \"#\" + (\"0\" + parseInt(rgbMatch[1], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[2], 10).toString(16)).slice(-2) + (\"0\" + parseInt(rgbMatch[3], 10).toString(16)).slice(-2) : \"\";\n  },\n\n  /**\r\n   * @description Converts color values of other formats to hex color values and returns.\r\n   * @param {String} colorName Color value\r\n   * @returns {String}\r\n   */\n  colorName2hex: function colorName2hex(colorName) {\n    if (/^#/.test(colorName)) {\n      return colorName;\n    }\n\n    var temp = this.util.createElement(\"div\");\n    temp.style.display = \"none\";\n    temp.style.color = colorName;\n\n    var colors = this._w.getComputedStyle(this._d.body.appendChild(temp)).color.match(/\\d+/g).map(function (a) {\n      return parseInt(a, 10);\n    });\n\n    this.util.removeItem(temp);\n    return colors.length >= 3 ? \"#\" + ((1 << 24) + (colors[0] << 16) + (colors[1] << 8) + colors[2]).toString(16).substr(1) : false;\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _colorPicker = _interopRequireDefault(require(\"../modules/colorPicker\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"fontColor\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.addModule([_colorPicker.default]);\n    var context = core.context;\n    context.fontColor = {\n      previewEl: null,\n      colorInput: null,\n      colorList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    context.fontColor.colorInput = listDiv.querySelector(\"._ke_color_picker_input\");\n    /** add event listeners */\n\n    context.fontColor.colorInput.addEventListener(\"keyup\", this.onChangeInput.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_submit\").addEventListener(\"click\", this.submit.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_remove\").addEventListener(\"click\", this.remove.bind(core));\n    listDiv.addEventListener(\"click\", this.pickup.bind(core));\n    context.fontColor.colorList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var colorArea = core.context.colorPicker.colorListHTML;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = colorArea;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var contextPicker = this.context.colorPicker;\n    var contextFontColor = this.context.fontColor;\n    contextPicker._colorInput = contextFontColor.colorInput;\n    var color = this.wwComputedStyle.color;\n    contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#333333\";\n    contextPicker._styleProperty = \"color\";\n    contextPicker._colorList = contextFontColor.colorList;\n    this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n  },\n\n  /**\r\n   * @Override colorPicker\r\n   */\n  onChangeInput: function onChangeInput(e) {\n    this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n  },\n  submit: function submit() {\n    this.plugins.fontColor.applyColor.call(this, this.context.colorPicker._currentColor);\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.fontColor.applyColor.call(this, e.target.getAttribute(\"data-value\"));\n  },\n  remove: function remove() {\n    this.nodeChange(null, [\"color\"], [\"span\"], true);\n    this.submenuOff();\n  },\n  applyColor: function applyColor(color) {\n    if (!color) {\n      return;\n    }\n\n    var newNode = this.util.createElement(\"SPAN\");\n    newNode.style.color = color;\n    this.nodeChange(newNode, [\"color\"], null, null);\n    this.submenuOff();\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _colorPicker = _interopRequireDefault(require(\"../modules/colorPicker\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"hiliteColor\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.addModule([_colorPicker.default]);\n    var context = core.context;\n    context.hiliteColor = {\n      previewEl: null,\n      colorInput: null,\n      colorList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    context.hiliteColor.colorInput = listDiv.querySelector(\"._ke_color_picker_input\");\n    /** add event listeners */\n\n    context.hiliteColor.colorInput.addEventListener(\"keyup\", this.onChangeInput.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_submit\").addEventListener(\"click\", this.submit.bind(core));\n    listDiv.querySelector(\"._ke_color_picker_remove\").addEventListener(\"click\", this.remove.bind(core));\n    listDiv.addEventListener(\"click\", this.pickup.bind(core));\n    context.hiliteColor.colorList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var colorArea = core.context.colorPicker.colorListHTML;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = colorArea;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var contextPicker = this.context.colorPicker;\n    var contextHiliteColor = this.context.hiliteColor;\n    contextPicker._colorInput = contextHiliteColor.colorInput;\n    var color = this.wwComputedStyle.backgroundColor;\n    contextPicker._defaultColor = color ? this.plugins.colorPicker.isHexColor(color) ? color : this.plugins.colorPicker.rgb2hex(color) : \"#ffffff\";\n    contextPicker._styleProperty = \"backgroundColor\";\n    contextPicker._colorList = contextHiliteColor.colorList;\n    this.plugins.colorPicker.init.call(this, this.getSelectionNode(), null);\n  },\n\n  /**\r\n   * @Override colorPicker\r\n   */\n  onChangeInput: function onChangeInput(e) {\n    this.plugins.colorPicker.setCurrentColor.call(this, e.target.value);\n  },\n  submit: function submit() {\n    this.plugins.hiliteColor.applyColor.call(this, this.context.colorPicker._currentColor);\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    this.plugins.hiliteColor.applyColor.call(this, e.target.getAttribute(\"data-value\"));\n  },\n  remove: function remove() {\n    this.nodeChange(null, [\"background-color\"], [\"span\"], true);\n    this.submenuOff();\n  },\n  applyColor: function applyColor(color) {\n    if (!color) {\n      return;\n    }\n\n    var newNode = this.util.createElement(\"SPAN\");\n    newNode.style.backgroundColor = color;\n    this.nodeChange(newNode, [\"background-color\"], null, null);\n    this.submenuOff();\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"horizontalRule\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    core.context.horizontalRule = {\n      currentHR: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.horizontalRulePick.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-line\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"solid\" title=\"' + lang.toolbar.hr_solid + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: solid none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dotted\" title=\"' + lang.toolbar.hr_dotted + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dotted none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"<li>\" + '<button type=\"button\" class=\"ke-btn-list btn_line\" data-command=\"horizontalRule\" data-value=\"dashed\" title=\"' + lang.toolbar.hr_dashed + '\">' + '<hr style=\"border-width: 1px 0 0; border-style: dashed none none; border-color: black; border-image: initial; height: 1px;\" />' + \"</button>\" + \"</li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n  active: function active(element) {\n    if (!element) {\n      if (this.util.hasClass(this.context.horizontalRule.currentHR, \"on\")) {\n        this.controllersOff();\n      }\n    } else if (/HR/i.test(element.nodeName)) {\n      this.context.horizontalRule.currentHR = element;\n\n      if (!this.util.hasClass(element, \"on\")) {\n        this.util.addClass(element, \"on\");\n        this.controllersOn(\"hr\", this.util.removeClass.bind(this.util, element, \"on\"));\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  appendHr: function appendHr(className) {\n    var oHr = this.util.createElement(\"HR\");\n    oHr.className = className;\n    this.focus();\n    return this.insertComponent(oHr, false, true, false);\n  },\n  horizontalRulePick: function horizontalRulePick(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!value && !/UL/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var oNode = this.plugins.horizontalRule.appendHr.call(this, \"__ke__\" + value);\n\n    if (oNode) {\n      this.setRange(oNode, 0, oNode, 0);\n      this.submenuOff();\n    }\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"list\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.list = {\n      targetButton: targetElement,\n      _list: null,\n      currentList: \"\",\n      icons: {\n        bullets: core.icons.list_bullets,\n        number: core.icons.list_number\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.list._list = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"OL\" title=\"' + lang.toolbar.orderList + '\">' + core.icons.list_number + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"UL\" title=\"' + lang.toolbar.unorderList + '\">' + core.icons.list_bullets + \"</button></li>\" + \"</ul>\" + \"</div>\";\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var button = this.context.list.targetButton;\n    var icon = button.firstElementChild;\n    var util = this.util;\n\n    if (!element) {\n      button.removeAttribute(\"data-focus\");\n      util.changeElement(icon, this.context.list.icons.number);\n      util.removeClass(button, \"active\");\n    } else if (util.isList(element)) {\n      var nodeName = element.nodeName;\n      button.setAttribute(\"data-focus\", nodeName);\n      util.addClass(button, \"active\");\n\n      if (/UL/i.test(nodeName)) {\n        util.changeElement(icon, this.context.list.icons.bullets);\n      } else {\n        util.changeElement(icon, this.context.list.icons.number);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var listContext = this.context.list;\n    var list = listContext._list;\n    var currentList = listContext.targetButton.getAttribute(\"data-focus\") || \"\";\n\n    if (currentList !== listContext.currentList) {\n      for (var i = 0, len = list.length; i < len; i++) {\n        if (currentList === list[i].getAttribute(\"data-command\")) {\n          this.util.addClass(list[i], \"active\");\n        } else {\n          this.util.removeClass(list[i], \"active\");\n        }\n      }\n\n      listContext.currentList = currentList;\n    }\n  },\n  editList: function editList(command, selectedCells, detach) {\n    var range = this.getRange();\n    var selectedFormats = !selectedCells ? this.getSelectedElementsAndComponents(false) : selectedCells;\n\n    if (selectedFormats.length === 0) {\n      if (selectedCells) {\n        return;\n      }\n\n      range = this.getRange_addLine(range, null);\n      selectedFormats = this.getSelectedElementsAndComponents(false);\n\n      if (selectedFormats.length === 0) {\n        return;\n      }\n    }\n\n    var util = this.util;\n    util.sortByDepth(selectedFormats, true); // merge\n\n    var firstSel = selectedFormats[0];\n    var lastSel = selectedFormats[selectedFormats.length - 1];\n    var topEl = (util.isListCell(firstSel) || util.isComponent(firstSel)) && !firstSel.previousElementSibling ? firstSel.parentNode.previousElementSibling : firstSel.previousElementSibling;\n    var bottomEl = (util.isListCell(lastSel) || util.isComponent(lastSel)) && !lastSel.nextElementSibling ? lastSel.parentNode.nextElementSibling : lastSel.nextElementSibling;\n    var originRange = {\n      sc: range.startContainer,\n      so: range.startOffset,\n      ec: range.endContainer,\n      eo: range.endOffset\n    };\n    var isRemove = true;\n\n    var _loop = function _loop(i, len) {\n      if (!util.isList(util.getRangeFormatElement(selectedFormats[i], function (current) {\n        return this.getRangeFormatElement(current) && current !== selectedFormats[i];\n      }.bind(util)))) {\n        isRemove = false;\n        return \"break\";\n      }\n    };\n\n    for (var i = 0, len = selectedFormats.length; i < len; i++) {\n      var _ret = _loop(i, len);\n\n      if (_ret === \"break\") break;\n    }\n\n    if (isRemove && (!topEl || firstSel.tagName !== topEl.tagName || command !== topEl.tagName.toUpperCase()) && (!bottomEl || lastSel.tagName !== bottomEl.tagName || command !== bottomEl.tagName.toUpperCase())) {\n      if (detach) {\n        for (var _i = 0, _len = selectedFormats.length; _i < _len; _i++) {\n          for (var j = _i - 1; j >= 0; j--) {\n            if (selectedFormats[j].contains(selectedFormats[_i])) {\n              selectedFormats.splice(_i, 1);\n              _i--;\n              _len--;\n              break;\n            }\n          }\n        }\n      }\n\n      var currentFormat = util.getRangeFormatElement(firstSel);\n      var cancel = currentFormat && currentFormat.tagName === command;\n      var rangeArr, tempList;\n\n      var passComponent = function (current) {\n        return !this.isComponent(current);\n      }.bind(util);\n\n      if (!cancel) {\n        tempList = util.createElement(command);\n      }\n\n      for (var _i2 = 0, _len2 = selectedFormats.length, r, o; _i2 < _len2; _i2++) {\n        o = util.getRangeFormatElement(selectedFormats[_i2], passComponent);\n\n        if (!o || !util.isList(o)) {\n          continue;\n        }\n\n        if (!r) {\n          r = o;\n          rangeArr = {\n            r: r,\n            f: [util.getParentElement(selectedFormats[_i2], \"LI\")]\n          };\n        } else {\n          if (r !== o) {\n            if (detach && util.isListCell(o.parentNode)) {\n              this.plugins.list._detachNested.call(this, rangeArr.f);\n            } else {\n              this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n            }\n\n            o = selectedFormats[_i2].parentNode;\n\n            if (!cancel) {\n              tempList = util.createElement(command);\n            }\n\n            r = o;\n            rangeArr = {\n              r: r,\n              f: [util.getParentElement(selectedFormats[_i2], \"LI\")]\n            };\n          } else {\n            rangeArr.f.push(util.getParentElement(selectedFormats[_i2], \"LI\"));\n          }\n        }\n\n        if (_i2 === _len2 - 1) {\n          if (detach && util.isListCell(o.parentNode)) {\n            this.plugins.list._detachNested.call(this, rangeArr.f);\n          } else {\n            this.detachRangeFormatElement(rangeArr.f[0].parentNode, rangeArr.f, tempList, false, true);\n          }\n        }\n      }\n    } else {\n      var topElParent = topEl ? topEl.parentNode : topEl;\n      var bottomElParent = bottomEl ? bottomEl.parentNode : bottomEl;\n      topEl = topElParent && !util.isWysiwygDiv(topElParent) && topElParent.nodeName === command ? topElParent : topEl;\n      bottomEl = bottomElParent && !util.isWysiwygDiv(bottomElParent) && bottomElParent.nodeName === command ? bottomElParent : bottomEl;\n      var mergeTop = topEl && topEl.tagName === command;\n      var mergeBottom = bottomEl && bottomEl.tagName === command;\n      var list = mergeTop ? topEl : util.createElement(command);\n      var firstList = null; // let lastList = null;\n\n      var topNumber = null; // let bottomNumber = null;\n\n      var _passComponent = function (current) {\n        return !this.isComponent(current) && !this.isList(current);\n      }.bind(util);\n\n      for (var _i3 = 0, _len3 = selectedFormats.length, newCell, fTag, isCell, next, originParent, nextParent, parentTag, siblingTag, rangeTag; _i3 < _len3; _i3++) {\n        fTag = selectedFormats[_i3];\n\n        if (fTag.childNodes.length === 0 && !util._isIgnoreNodeChange(fTag)) {\n          util.removeItem(fTag);\n          continue;\n        }\n\n        next = selectedFormats[_i3 + 1];\n        originParent = fTag.parentNode;\n        nextParent = next ? next.parentNode : null;\n        isCell = util.isListCell(fTag);\n        rangeTag = util.isRangeFormatElement(originParent) ? originParent : null;\n        parentTag = isCell && !util.isWysiwygDiv(originParent) ? originParent.parentNode : originParent;\n        siblingTag = isCell && !util.isWysiwygDiv(originParent) ? !next || util.isListCell(parentTag) ? originParent : originParent.nextSibling : fTag.nextSibling;\n        newCell = util.createElement(\"LI\");\n        util.copyFormatAttributes(newCell, fTag);\n\n        if (util.isComponent(fTag)) {\n          var isHR = /^HR$/i.test(fTag.nodeName);\n\n          if (!isHR) {\n            newCell.innerHTML = \"<br>\";\n          }\n\n          newCell.innerHTML += fTag.outerHTML;\n\n          if (isHR) {\n            newCell.innerHTML += \"<br>\";\n          }\n        } else {\n          var fChildren = fTag.childNodes;\n\n          while (fChildren[0]) {\n            newCell.appendChild(fChildren[0]);\n          }\n        }\n\n        list.appendChild(newCell); // if (!next) {\n        //   lastList = list;\n        // }\n\n        if (!next || parentTag !== nextParent || util.isRangeFormatElement(siblingTag)) {\n          if (!firstList) {\n            firstList = list;\n          }\n\n          if ((!mergeTop || !next || parentTag !== nextParent) && !(next && util.isList(nextParent) && nextParent === originParent)) {\n            if (list.parentNode !== parentTag) {\n              parentTag.insertBefore(list, siblingTag);\n            }\n          }\n        }\n\n        util.removeItem(fTag);\n\n        if (mergeTop && topNumber === null) {\n          topNumber = list.children.length - 1;\n        }\n\n        if (next && (util.getRangeFormatElement(nextParent, _passComponent) !== util.getRangeFormatElement(originParent, _passComponent) || util.isList(nextParent) && util.isList(originParent) && util.getElementDepth(nextParent) !== util.getElementDepth(originParent))) {\n          list = util.createElement(command);\n        }\n\n        if (rangeTag && rangeTag.children.length === 0) {\n          util.removeItem(rangeTag);\n        }\n      }\n\n      if (topNumber) {\n        firstList = firstList.children[topNumber];\n      }\n\n      if (mergeBottom) {\n        // bottomNumber = list.children.length - 1;\n        list.innerHTML += bottomEl.innerHTML; // lastList = list.children[bottomNumber];\n\n        util.removeItem(bottomEl);\n      }\n    }\n\n    this.effectNode = null;\n    return originRange;\n  },\n  _detachNested: function _detachNested(cells) {\n    var first = cells[0];\n    var last = cells[cells.length - 1];\n    var next = last.nextElementSibling;\n    var originList = first.parentNode;\n    var sibling = originList.parentNode.nextElementSibling;\n    var parentNode = originList.parentNode.parentNode;\n\n    for (var c = 0, cLen = cells.length; c < cLen; c++) {\n      parentNode.insertBefore(cells[c], sibling);\n    }\n\n    if (next && originList.children.length > 0) {\n      var newList = originList.cloneNode(false);\n      var children = originList.childNodes;\n      var index = this.util.getPositionIndex(next);\n\n      while (children[index]) {\n        newList.appendChild(children[index]);\n      }\n\n      last.appendChild(newList);\n    }\n\n    if (originList.children.length === 0) {\n      this.util.removeItem(originList);\n    }\n\n    this.util.mergeSameTags(parentNode);\n    var edge = this.util.getEdgeChildNodes(first, last);\n    return {\n      cc: first.parentNode,\n      sc: edge.sc,\n      ec: edge.ec\n    };\n  },\n  editInsideList: function editInsideList(remove, selectedCells) {\n    selectedCells = !selectedCells ? this.getSelectedElements().filter(function (el) {\n      return this.isListCell(el);\n    }.bind(this.util)) : selectedCells;\n    var cellsLen = selectedCells.length;\n\n    if (cellsLen === 0 || !remove && !this.util.isListCell(selectedCells[0].previousElementSibling) && !this.util.isListCell(selectedCells[cellsLen - 1].nextElementSibling)) {\n      return {\n        sc: selectedCells[0],\n        so: 0,\n        ec: selectedCells[cellsLen - 1],\n        eo: 1\n      };\n    }\n\n    var originList = selectedCells[0].parentNode;\n    var lastCell = selectedCells[cellsLen - 1];\n    var range = null;\n\n    if (remove) {\n      if (originList !== lastCell.parentNode && this.util.isList(lastCell.parentNode.parentNode) && lastCell.nextElementSibling) {\n        lastCell = lastCell.nextElementSibling;\n\n        while (lastCell) {\n          selectedCells.push(lastCell);\n          lastCell = lastCell.nextElementSibling;\n        }\n      }\n\n      range = this.plugins.list.editList.call(this, originList.nodeName.toUpperCase(), selectedCells, true);\n    } else {\n      var innerList = this.util.createElement(originList.nodeName);\n      var prev = selectedCells[0].previousElementSibling;\n      var next = lastCell.nextElementSibling;\n      var nodePath = {\n        s: null,\n        e: null,\n        sl: originList,\n        el: originList\n      };\n\n      for (var i = 0, len = cellsLen, c; i < len; i++) {\n        c = selectedCells[i];\n\n        if (c.parentNode !== originList) {\n          this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n          originList = c.parentNode;\n          innerList = this.util.createElement(originList.nodeName);\n        }\n\n        prev = c.previousElementSibling;\n        next = c.nextElementSibling;\n        innerList.appendChild(c);\n      }\n\n      this.plugins.list._insiedList.call(this, originList, innerList, prev, next, nodePath);\n\n      var sc = this.util.getNodeFromPath(nodePath.s, nodePath.sl);\n      var ec = this.util.getNodeFromPath(nodePath.e, nodePath.el);\n      range = {\n        sc: sc,\n        so: 0,\n        ec: ec,\n        eo: ec.textContent.length\n      };\n    }\n\n    return range;\n  },\n  _insiedList: function _insiedList(originList, innerList, prev, next, nodePath) {\n    var insertPrev = false;\n\n    if (prev && innerList.tagName === prev.tagName) {\n      var children = innerList.children;\n\n      while (children[0]) {\n        prev.appendChild(children[0]);\n      }\n\n      innerList = prev;\n      insertPrev = true;\n    }\n\n    if (next && innerList.tagName === next.tagName) {\n      var _children = next.children;\n\n      while (_children[0]) {\n        innerList.appendChild(_children[0]);\n      }\n\n      var temp = next.nextElementSibling;\n      next.parentNode.removeChild(next);\n      next = temp;\n    }\n\n    if (!insertPrev) {\n      if (this.util.isListCell(prev)) {\n        originList = prev;\n        next = null;\n      }\n\n      originList.insertBefore(innerList, next);\n\n      if (!nodePath.s) {\n        nodePath.s = this.util.getNodePath(innerList.firstElementChild.firstChild, originList, null);\n        nodePath.sl = originList;\n      }\n\n      var slPath = originList.contains(nodePath.sl) ? this.util.getNodePath(nodePath.sl, originList) : null;\n      nodePath.e = this.util.getNodePath(innerList.lastElementChild.firstChild, originList, null);\n      nodePath.el = originList;\n      this.util.mergeSameTags(originList, [nodePath.s, nodePath.e, slPath], false);\n      this.util.mergeNestedTags(originList);\n\n      if (slPath) {\n        nodePath.sl = this.util.getNodeFromPath(slPath, originList);\n      }\n    }\n\n    return innerList;\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = \"\";\n\n    while (!command && !/^UL$/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    }\n\n    var range = this.plugins.list.editList.call(this, command, null, false);\n\n    if (range) {\n      this.setRange(range.sc, range.so, range.ec, range.eo);\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"table\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var contextTable = context.table = {\n      _element: null,\n      _tdElement: null,\n      _trElement: null,\n      _trElements: null,\n      _tableXY: [],\n      _maxWidth: true,\n      _fixedColumn: false,\n      _rtl: core.options.rtl,\n      cellControllerTop: core.options.tableCellControllerPosition === \"top\",\n      resizeText: null,\n      headerButton: null,\n      mergeButton: null,\n      splitButton: null,\n      splitMenu: null,\n      maxText: core.lang.controller.maxSize,\n      minText: core.lang.controller.minSize,\n      _physical_cellCnt: 0,\n      _logical_cellCnt: 0,\n      _rowCnt: 0,\n      _rowIndex: 0,\n      _physical_cellIndex: 0,\n      _logical_cellIndex: 0,\n      _current_colSpan: 0,\n      _current_rowSpan: 0,\n      icons: {\n        expansion: core.icons.expansion,\n        reduction: core.icons.reduction\n      }\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var tablePicker = listDiv.querySelector(\".ke-controller-table-picker\");\n    contextTable.tableHighlight = listDiv.querySelector(\".ke-table-size-highlighted\");\n    contextTable.tableUnHighlight = listDiv.querySelector(\".ke-table-size-unhighlighted\");\n    contextTable.tableDisplay = listDiv.querySelector(\".ke-table-size-display\");\n\n    if (core.options.rtl) {\n      contextTable.tableHighlight.style.left = 10 * 18 - 13 + \"px\";\n    }\n    /** set table controller */\n\n\n    var tableController = this.setController_table(core);\n    contextTable.tableController = tableController;\n    contextTable.resizeButton = tableController.querySelector(\"._ke_table_resize\");\n    contextTable.resizeText = tableController.querySelector(\"._ke_table_resize > span > span\");\n    contextTable.columnFixedButton = tableController.querySelector(\"._ke_table_fixed_column\");\n    contextTable.headerButton = tableController.querySelector(\"._ke_table_header\");\n    /** set resizing */\n\n    var resizeDiv = this.setController_tableEditor(core, contextTable.cellControllerTop);\n    contextTable.resizeDiv = resizeDiv;\n    contextTable.splitMenu = resizeDiv.querySelector(\".ke-btn-group-sub\");\n    contextTable.mergeButton = resizeDiv.querySelector(\"._ke_table_merge_button\");\n    contextTable.splitButton = resizeDiv.querySelector(\"._ke_table_split_button\");\n    contextTable.insertRowAboveButton = resizeDiv.querySelector(\"._ke_table_insert_row_a\");\n    contextTable.insertRowBelowButton = resizeDiv.querySelector(\"._ke_table_insert_row_b\");\n    /** add event listeners */\n\n    tablePicker.addEventListener(\"mousemove\", this.onMouseMove_tablePicker.bind(core, contextTable));\n    tablePicker.addEventListener(\"click\", this.appendTable.bind(core));\n    resizeDiv.addEventListener(\"click\", this.onClick_tableController.bind(core));\n    tableController.addEventListener(\"click\", this.onClick_tableController.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** append controller */\n\n    context.element.relative.appendChild(resizeDiv);\n    context.element.relative.appendChild(tableController);\n    /** empty memory */\n\n    listDiv = null, tablePicker = null, resizeDiv = null, tableController = null, contextTable = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-selector-table\";\n    listDiv.innerHTML = \"\" + '<div class=\"ke-table-size\">' + '<div class=\"ke-table-size-picker ke-controller-table-picker\"></div>' + '<div class=\"ke-table-size-highlighted\"></div>' + '<div class=\"ke-table-size-unhighlighted\"></div>' + \"</div>\" + '<div class=\"ke-table-size-display\">1 x 1</div>';\n    return listDiv;\n  },\n  setController_table: function setController_table(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var tableResize = core.util.createElement(\"DIV\");\n    tableResize.className = \"ke-controller ke-controller-table\";\n    tableResize.innerHTML = \"\" + \"<div>\" + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"resize\" class=\"ke-btn ke-tooltip _ke_table_resize\">' + icons.expansion + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.maxSize + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"layout\" class=\"ke-btn ke-tooltip _ke_table_fixed_column\">' + icons.fixed_column_width + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.fixedColumnWidth + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"header\" class=\"ke-btn ke-tooltip _ke_table_header\">' + icons.table_header + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.tableHeader + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"remove\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return tableResize;\n  },\n  setController_tableEditor: function setController_tableEditor(core, cellControllerTop) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var tableResize = core.util.createElement(\"DIV\");\n    tableResize.className = \"ke-controller ke-controller-table-cell\";\n    tableResize.innerHTML = (cellControllerTop ? \"\" : '<div class=\"ke-arrow ke-arrow-up\"></div>') + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"up\" class=\"ke-btn ke-tooltip _ke_table_insert_row_a\">' + icons.insert_row_above + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertRowAbove + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"insert\" data-value=\"row\" data-option=\"down\" class=\"ke-btn ke-tooltip _ke_table_insert_row_b\">' + icons.insert_row_below + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertRowBelow + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" data-value=\"row\" class=\"ke-btn ke-tooltip\">' + icons.delete_row + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.deleteRow + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"merge\" class=\"_ke_table_merge_button ke-btn ke-tooltip\" disabled>' + icons.merge_cell + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mergeCells + \"</span></span>\" + \"</button>\" + \"</div>\" + '<div class=\"ke-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"left\" class=\"ke-btn ke-tooltip\">' + icons.insert_column_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertColumnBefore + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"insert\" data-value=\"cell\" data-option=\"right\" class=\"ke-btn ke-tooltip\">' + icons.insert_column_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.insertColumnAfter + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" data-value=\"cell\" class=\"ke-btn ke-tooltip\">' + icons.delete_column + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.deleteColumn + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"onsplit\" class=\"_ke_table_split_button ke-btn ke-tooltip\">' + icons.split_cell + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.splitCells + \"</span></span>\" + \"</button>\" + '<div class=\"ke-btn-group-sub kothing-editor-common ke-list-layer ke-table-split\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li class=\"ke-btn-list\" data-command=\"split\" data-value=\"vertical\" style=\"line-height:32px;\" title=\"' + lang.controller.VerticalSplit + '\">' + lang.controller.VerticalSplit + \"</li>\" + '<li class=\"ke-btn-list\" data-command=\"split\" data-value=\"horizontal\" style=\"line-height:32px;\" title=\"' + lang.controller.HorizontalSplit + '\">' + lang.controller.HorizontalSplit + \"</li>\" + \"</ul>\" + \"</div>\" + \"</div>\" + \"</div>\";\n    return tableResize;\n  },\n  appendTable: function appendTable() {\n    var oTable = this.util.createElement(\"TABLE\");\n    var createCells = this.plugins.table.createCells;\n    var x = this.context.table._tableXY[0];\n    var y = this.context.table._tableXY[1];\n    var tableHTML = \"<tbody>\";\n\n    while (y > 0) {\n      tableHTML += \"<tr>\" + createCells.call(this, \"td\", x) + \"</tr>\";\n      --y;\n    }\n\n    tableHTML += \"</tbody>\";\n    oTable.innerHTML = tableHTML;\n    var changed = this.insertComponent(oTable, false, true, false);\n\n    if (changed) {\n      var firstTd = oTable.querySelector(\"td div\");\n      this.setRange(firstTd, 0, firstTd, 0);\n      this.plugins.table.reset_table_picker.call(this);\n    }\n  },\n  createCells: function createCells(nodeName, cnt, returnElement) {\n    nodeName = nodeName.toLowerCase();\n\n    if (!returnElement) {\n      var cellsHTML = \"\";\n\n      while (cnt > 0) {\n        cellsHTML += \"<\" + nodeName + \"><div><br></div></\" + nodeName + \">\";\n        cnt--;\n      }\n\n      return cellsHTML;\n    } else {\n      var cell = this.util.createElement(nodeName);\n      cell.innerHTML = \"<div><br></div>\";\n      return cell;\n    }\n  },\n  onMouseMove_tablePicker: function onMouseMove_tablePicker(contextTable, e) {\n    e.stopPropagation();\n\n    var x = this._w.Math.ceil(e.offsetX / 18);\n\n    var y = this._w.Math.ceil(e.offsetY / 18);\n\n    x = x < 1 ? 1 : x;\n    y = y < 1 ? 1 : y;\n\n    if (contextTable._rtl) {\n      contextTable.tableHighlight.style.left = x * 18 - 13 + \"px\";\n      x = 11 - x;\n    }\n\n    contextTable.tableHighlight.style.width = x + \"em\";\n    contextTable.tableHighlight.style.height = y + \"em\"; // let x_u = x < 5 ? 5 : (x > 9 ? 10 : x + 1);\n    // let y_u = y < 5 ? 5 : (y > 9 ? 10 : y + 1);\n    // contextTable.tableUnHighlight.style.width = x_u + 'em';\n    // contextTable.tableUnHighlight.style.height = y_u + 'em';\n\n    this.util.changeTxt(contextTable.tableDisplay, x + \" x \" + y);\n    contextTable._tableXY = [x, y];\n  },\n  reset_table_picker: function reset_table_picker() {\n    if (!this.context.table.tableHighlight) {\n      return;\n    }\n\n    var highlight = this.context.table.tableHighlight.style;\n    var unHighlight = this.context.table.tableUnHighlight.style;\n    highlight.width = \"1em\";\n    highlight.height = \"1em\";\n    unHighlight.width = \"10em\";\n    unHighlight.height = \"10em\";\n    this.util.changeTxt(this.context.table.tableDisplay, \"1 x 1\");\n    this.submenuOff();\n  },\n  init: function init() {\n    var contextTable = this.context.table;\n    var tablePlugin = this.plugins.table;\n\n    tablePlugin._removeEvents.call(this);\n\n    if (tablePlugin._selectedTable) {\n      var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n      for (var i = 0, len = selectedCells.length; i < len; i++) {\n        this.util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n      }\n    }\n\n    tablePlugin._toggleEditor.call(this, true);\n\n    contextTable._element = null;\n    contextTable._tdElement = null;\n    contextTable._trElement = null;\n    contextTable._trElements = null;\n    contextTable._tableXY = [];\n    contextTable._maxWidth = true;\n    contextTable._fixedColumn = false;\n    contextTable._physical_cellCnt = 0;\n    contextTable._logical_cellCnt = 0;\n    contextTable._rowCnt = 0;\n    contextTable._rowIndex = 0;\n    contextTable._physical_cellIndex = 0;\n    contextTable._logical_cellIndex = 0;\n    contextTable._current_colSpan = 0;\n    contextTable._current_rowSpan = 0;\n    tablePlugin._shift = false;\n    tablePlugin._selectedCells = null;\n    tablePlugin._selectedTable = null;\n    tablePlugin._ref = null;\n    tablePlugin._fixedCell = null;\n    tablePlugin._selectedCell = null;\n    tablePlugin._fixedCellName = null;\n  },\n\n  /** table edit controller */\n  call_controller_tableEdit: function call_controller_tableEdit(tdElement) {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n\n    if (!this.getSelection().isCollapsed && !tablePlugin._selectedCell) {\n      this.controllersOff();\n      this.util.removeClass(tdElement, \"ke-table-selected-cell\");\n      return;\n    }\n\n    var tableElement = contextTable._element || this.plugins.table._selectedTable || this.util.getParentElement(tdElement, \"TABLE\");\n    contextTable._maxWidth = this.util.hasClass(tableElement, \"ke-table-size-100\") || tableElement.style.width === \"100%\" || !tableElement.style.width && !this.util.hasClass(tableElement, \"ke-table-size-auto\");\n    contextTable._fixedColumn = this.util.hasClass(tableElement, \"ke-table-layout-fixed\") || tableElement.style.tableLayout === \"fixed\";\n    tablePlugin.setTableStyle.call(this, contextTable._maxWidth ? \"width|column\" : \"width\");\n    tablePlugin.setPositionControllerTop.call(this, tableElement);\n    tablePlugin.setPositionControllerDiv.call(this, tdElement, tablePlugin._shift);\n\n    if (!tablePlugin._shift) {\n      this.controllersOn(contextTable.resizeDiv, contextTable.tableController, tablePlugin.init.bind(this), tdElement, \"table\");\n    }\n  },\n  setPositionControllerTop: function setPositionControllerTop(tableElement) {\n    this.setControllerPosition(this.context.table.tableController, tableElement, \"top\", {\n      left: 0,\n      top: 0\n    });\n  },\n  setPositionControllerDiv: function setPositionControllerDiv(tdElement, reset) {\n    var contextTable = this.context.table;\n    var resizeDiv = contextTable.resizeDiv;\n    this.plugins.table.setCellInfo.call(this, tdElement, reset);\n\n    if (contextTable.cellControllerTop) {\n      this.setControllerPosition(resizeDiv, contextTable._element, \"top\", {\n        left: contextTable.tableController.offsetWidth,\n        top: 0\n      });\n    } else {\n      this.setControllerPosition(resizeDiv, tdElement, \"bottom\", {\n        left: 0,\n        top: 0\n      });\n    }\n  },\n  setCellInfo: function setCellInfo(tdElement, reset) {\n    var contextTable = this.context.table;\n    var table = contextTable._element = this.plugins.table._selectedTable || this.util.getParentElement(tdElement, \"TABLE\");\n\n    if (/THEAD/i.test(table.firstElementChild.nodeName)) {\n      this.util.addClass(contextTable.headerButton, \"active\");\n    } else {\n      this.util.removeClass(contextTable.headerButton, \"active\");\n    }\n\n    if (reset || contextTable._physical_cellCnt === 0) {\n      if (contextTable._tdElement !== tdElement) {\n        contextTable._tdElement = tdElement;\n        contextTable._trElement = tdElement.parentNode;\n      }\n\n      var rows = contextTable._trElements = table.rows;\n      var cellIndex = tdElement.cellIndex;\n      var cellCnt = 0;\n\n      for (var i = 0, cells = rows[0].cells, len = rows[0].cells.length; i < len; i++) {\n        cellCnt += cells[i].colSpan;\n      } // row cnt, row index\n\n\n      var rowIndex = contextTable._rowIndex = contextTable._trElement.rowIndex;\n      contextTable._rowCnt = rows.length; // cell cnt, physical cell index\n\n      contextTable._physical_cellCnt = contextTable._trElement.cells.length;\n      contextTable._logical_cellCnt = cellCnt;\n      contextTable._physical_cellIndex = cellIndex; // span\n\n      contextTable._current_colSpan = contextTable._tdElement.colSpan - 1;\n      contextTable._current_rowSpan - contextTable._trElement.cells[cellIndex].rowSpan - 1; // find logcal cell index\n\n      var rowSpanArr = [];\n      var spanIndex = [];\n\n      for (var _i = 0, _cells, colSpan; _i <= rowIndex; _i++) {\n        _cells = rows[_i].cells;\n        colSpan = 0;\n\n        for (var c = 0, cLen = _cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n          cell = _cells[c];\n          cs = cell.colSpan - 1;\n          rs = cell.rowSpan - 1;\n          logcalIndex = c + colSpan;\n\n          if (spanIndex.length > 0) {\n            for (var r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n\n              if (arr.row > _i) {\n                continue;\n              }\n\n              if (logcalIndex >= arr.index) {\n                colSpan += arr.cs;\n                logcalIndex += arr.cs;\n                arr.rs -= 1;\n                arr.row = _i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              } else if (c === cLen - 1) {\n                arr.rs -= 1;\n                arr.row = _i + 1;\n\n                if (arr.rs < 1) {\n                  spanIndex.splice(r, 1);\n                  r--;\n                }\n              }\n            }\n          } // logcal cell index\n\n\n          if (_i === rowIndex && c === cellIndex) {\n            contextTable._logical_cellIndex = logcalIndex;\n            break;\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              index: logcalIndex,\n              cs: cs + 1,\n              rs: rs,\n              row: -1\n            });\n          }\n\n          colSpan += cs;\n        }\n\n        spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n          return a.index - b.index;\n        });\n        rowSpanArr = [];\n      }\n\n      rowSpanArr = null;\n      spanIndex = null;\n    }\n  },\n  editTable: function editTable(type, option) {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n    var table = contextTable._element;\n    var isRow = type === \"row\";\n\n    if (isRow) {\n      var tableAttr = contextTable._trElement.parentNode;\n\n      if (/^THEAD$/i.test(tableAttr.nodeName)) {\n        if (option === \"up\") {\n          return;\n        } else if (!tableAttr.nextElementSibling || !/^TBODY$/i.test(tableAttr.nextElementSibling.nodeName)) {\n          table.innerHTML += \"<tbody><tr>\" + tablePlugin.createCells.call(this, \"td\", contextTable._logical_cellCnt, false) + \"</tr></tbody>\";\n          return;\n        }\n      }\n    } // multi\n\n\n    if (tablePlugin._ref) {\n      var positionCell = contextTable._tdElement;\n      var selectedCells = tablePlugin._selectedCells; // multi - row\n\n      if (isRow) {\n        // remove row\n        if (!option) {\n          var row = selectedCells[0].parentNode;\n          var removeCells = [selectedCells[0]];\n\n          for (var i = 1, len = selectedCells.length, cell; i < len; i++) {\n            cell = selectedCells[i];\n\n            if (row !== cell.parentNode) {\n              removeCells.push(cell);\n              row = cell.parentNode;\n            }\n          }\n\n          for (var _i2 = 0, _len = removeCells.length; _i2 < _len; _i2++) {\n            tablePlugin.setCellInfo.call(this, removeCells[_i2], true);\n            tablePlugin.editRow.call(this, option);\n          }\n        } else {\n          // edit row\n          tablePlugin.setCellInfo.call(this, option === \"up\" ? selectedCells[0] : selectedCells[selectedCells.length - 1], true);\n          tablePlugin.editRow.call(this, option, positionCell);\n        }\n      } else {\n        // multi - cell\n        var firstRow = selectedCells[0].parentNode; // remove cell\n\n        if (!option) {\n          var _removeCells = [selectedCells[0]];\n\n          for (var _i3 = 1, _len2 = selectedCells.length, _cell; _i3 < _len2; _i3++) {\n            _cell = selectedCells[_i3];\n\n            if (firstRow === _cell.parentNode) {\n              _removeCells.push(_cell);\n            } else {\n              break;\n            }\n          }\n\n          for (var _i4 = 0, _len3 = _removeCells.length; _i4 < _len3; _i4++) {\n            tablePlugin.setCellInfo.call(this, _removeCells[_i4], true);\n            tablePlugin.editCell.call(this, option);\n          }\n        } else {\n          // edit cell\n          var rightCell = null;\n\n          for (var _i5 = 0, _len4 = selectedCells.length - 1; _i5 < _len4; _i5++) {\n            if (firstRow !== selectedCells[_i5 + 1].parentNode) {\n              rightCell = selectedCells[_i5];\n              break;\n            }\n          }\n\n          tablePlugin.setCellInfo.call(this, option === \"left\" ? selectedCells[0] : rightCell || selectedCells[0], true);\n          tablePlugin.editCell.call(this, option, positionCell);\n        }\n      }\n\n      if (!option) {\n        tablePlugin.init.call(this);\n      }\n    } else {\n      // one\n      tablePlugin[isRow ? \"editRow\" : \"editCell\"].call(this, option);\n    } // after remove\n\n\n    if (!option) {\n      var children = table.children;\n\n      for (var _i6 = 0; _i6 < children.length; _i6++) {\n        if (children[_i6].children.length === 0) {\n          this.util.removeItem(children[_i6]);\n          _i6--;\n        }\n      }\n\n      if (table.children.length === 0) {\n        this.util.removeItem(table);\n      }\n    }\n  },\n  editRow: function editRow(option, positionResetElement) {\n    var contextTable = this.context.table;\n    var remove = !option;\n    var up = option === \"up\";\n    var originRowIndex = contextTable._rowIndex;\n    var rowIndex = remove || up ? originRowIndex : originRowIndex + contextTable._current_rowSpan + 1;\n    var sign = remove ? -1 : 1;\n    var rows = contextTable._trElements;\n    var cellCnt = contextTable._logical_cellCnt;\n\n    for (var i = 0, len = originRowIndex + (remove ? -1 : 0), cell; i <= len; i++) {\n      cell = rows[i].cells;\n\n      if (cell.length === 0) {\n        return;\n      }\n\n      for (var c = 0, cLen = cell.length, rs, cs; c < cLen; c++) {\n        rs = cell[c].rowSpan;\n        cs = cell[c].colSpan;\n\n        if (rs < 2 && cs < 2) {\n          continue;\n        }\n\n        if (rs + i > rowIndex && rowIndex > i) {\n          cell[c].rowSpan = rs + sign;\n          cellCnt -= cs;\n        }\n      }\n    }\n\n    if (remove) {\n      var next = rows[originRowIndex + 1];\n\n      if (next) {\n        var spanCells = [];\n        var cells = rows[originRowIndex].cells;\n        var colSpan = 0;\n\n        for (var _i7 = 0, _len5 = cells.length, _cell2, logcalIndex; _i7 < _len5; _i7++) {\n          _cell2 = cells[_i7];\n          logcalIndex = _i7 + colSpan;\n          colSpan += _cell2.colSpan - 1;\n\n          if (_cell2.rowSpan > 1) {\n            _cell2.rowSpan -= 1;\n            spanCells.push({\n              cell: _cell2.cloneNode(false),\n              index: logcalIndex\n            });\n          }\n        }\n\n        if (spanCells.length > 0) {\n          var spanCell = spanCells.shift();\n          cells = next.cells;\n          colSpan = 0;\n\n          for (var _i8 = 0, _len6 = cells.length, _cell3, _logcalIndex; _i8 < _len6; _i8++) {\n            _cell3 = cells[_i8];\n            _logcalIndex = _i8 + colSpan;\n            colSpan += _cell3.colSpan - 1;\n\n            if (_logcalIndex >= spanCell.index) {\n              _i8--, colSpan--;\n              colSpan += spanCell.cell.colSpan - 1;\n              next.insertBefore(spanCell.cell, _cell3);\n              spanCell = spanCells.shift();\n\n              if (!spanCell) {\n                break;\n              }\n            }\n          }\n\n          if (spanCell) {\n            next.appendChild(spanCell.cell);\n\n            for (var _i9 = 0, _len7 = spanCells.length; _i9 < _len7; _i9++) {\n              next.appendChild(spanCells[_i9].cell);\n            }\n          }\n        }\n      }\n\n      contextTable._element.deleteRow(rowIndex);\n    } else {\n      var newRow = contextTable._element.insertRow(rowIndex);\n\n      newRow.innerHTML = this.plugins.table.createCells.call(this, \"td\", cellCnt, false);\n    }\n\n    if (!remove) {\n      this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n    } else {\n      this.controllersOff();\n    }\n  },\n  editCell: function editCell(option, positionResetElement) {\n    var contextTable = this.context.table;\n    var util = this.util;\n    var remove = !option;\n    var left = option === \"left\";\n    var colSpan = contextTable._current_colSpan;\n    var cellIndex = remove || left ? contextTable._logical_cellIndex : contextTable._logical_cellIndex + colSpan + 1;\n    var rows = contextTable._trElements;\n    var rowSpanArr = [];\n    var spanIndex = [];\n    var passCell = 0;\n    var removeCell = [];\n    var removeSpanArr = [];\n\n    for (var i = 0, len = contextTable._rowCnt, row, insertIndex, cells, newCell, applySpan, cellColSpan; i < len; i++) {\n      row = rows[i];\n      insertIndex = cellIndex;\n      applySpan = false;\n      cells = row.cells;\n      cellColSpan = 0;\n\n      for (var c = 0, cell, cLen = cells.length, rs, cs, removeIndex; c < cLen; c++) {\n        cell = cells[c];\n\n        if (!cell) {\n          break;\n        }\n\n        rs = cell.rowSpan - 1;\n        cs = cell.colSpan - 1;\n\n        if (!remove) {\n          if (c >= insertIndex) {\n            break;\n          }\n\n          if (cs > 0) {\n            if (passCell < 1 && cs + c >= insertIndex) {\n              cell.colSpan += 1;\n              insertIndex = null;\n              passCell = rs + 1;\n              break;\n            }\n\n            insertIndex -= cs;\n          }\n\n          if (!applySpan) {\n            for (var r = 0, arr; r < spanIndex.length; r++) {\n              arr = spanIndex[r];\n              insertIndex -= arr.cs;\n              arr.rs -= 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            }\n\n            applySpan = true;\n          }\n        } else {\n          removeIndex = c + cellColSpan;\n\n          if (spanIndex.length > 0) {\n            var lastCell = !cells[c + 1];\n\n            for (var _r = 0, _arr; _r < spanIndex.length; _r++) {\n              _arr = spanIndex[_r];\n\n              if (_arr.row > i) {\n                continue;\n              }\n\n              if (removeIndex >= _arr.index) {\n                cellColSpan += _arr.cs;\n                removeIndex = c + cellColSpan;\n                _arr.rs -= 1;\n                _arr.row = i + 1;\n\n                if (_arr.rs < 1) {\n                  spanIndex.splice(_r, 1);\n                  _r--;\n                }\n              } else if (lastCell) {\n                _arr.rs -= 1;\n                _arr.row = i + 1;\n\n                if (_arr.rs < 1) {\n                  spanIndex.splice(_r, 1);\n                  _r--;\n                }\n              }\n            }\n          }\n\n          if (rs > 0) {\n            rowSpanArr.push({\n              rs: rs,\n              cs: cs + 1,\n              index: removeIndex,\n              row: -1\n            });\n          }\n\n          if (removeIndex >= insertIndex && removeIndex + cs <= insertIndex + colSpan) {\n            removeCell.push(cell);\n          } else if (removeIndex <= insertIndex + colSpan && removeIndex + cs >= insertIndex) {\n            cell.colSpan -= util.getOverlapRangeAtIndex(cellIndex, cellIndex + colSpan, removeIndex, removeIndex + cs);\n          } else if (rs > 0 && (removeIndex < insertIndex || removeIndex + cs > insertIndex + colSpan)) {\n            removeSpanArr.push({\n              cell: cell,\n              i: i,\n              rs: i + rs\n            });\n          }\n\n          cellColSpan += cs;\n        }\n      }\n\n      spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n        return a.index - b.index;\n      });\n      rowSpanArr = [];\n\n      if (!remove) {\n        if (passCell > 0) {\n          passCell -= 1;\n          continue;\n        }\n\n        if (insertIndex !== null && cells.length > 0) {\n          newCell = this.plugins.table.createCells.call(this, cells[0].nodeName, 0, true);\n          newCell = row.insertBefore(newCell, cells[insertIndex]);\n        }\n      }\n    }\n\n    if (remove) {\n      var removeFirst, removeEnd;\n\n      for (var _r2 = 0, rLen = removeCell.length, _row; _r2 < rLen; _r2++) {\n        _row = removeCell[_r2].parentNode;\n        util.removeItem(removeCell[_r2]);\n\n        if (_row.cells.length === 0) {\n          if (!removeFirst) {\n            removeFirst = util.getArrayIndex(rows, _row);\n          }\n\n          removeEnd = util.getArrayIndex(rows, _row);\n          util.removeItem(_row);\n        }\n      }\n\n      for (var _c = 0, _cLen = removeSpanArr.length, rowSpanCell; _c < _cLen; _c++) {\n        rowSpanCell = removeSpanArr[_c];\n        rowSpanCell.cell.rowSpan = util.getOverlapRangeAtIndex(removeFirst, removeEnd, rowSpanCell.i, rowSpanCell.rs);\n      }\n\n      this.controllersOff();\n    } else {\n      this.plugins.table.setPositionControllerDiv.call(this, positionResetElement || contextTable._tdElement, true);\n    }\n  },\n  _closeSplitMenu: null,\n  openSplitMenu: function openSplitMenu() {\n    this.util.addClass(this.context.table.splitButton, \"on\");\n    this.context.table.splitMenu.style.display = \"inline-table\";\n\n    this.plugins.table._closeSplitMenu = function () {\n      this.util.removeClass(this.context.table.splitButton, \"on\");\n      this.context.table.splitMenu.style.display = \"none\";\n      this.removeDocEvent(\"click\", this.plugins.table._closeSplitMenu);\n      this.plugins.table._closeSplitMenu = null;\n    }.bind(this);\n\n    this.addDocEvent(\"click\", this.plugins.table._closeSplitMenu);\n  },\n  splitCells: function splitCells(direction) {\n    var util = this.util;\n    var vertical = direction === \"vertical\";\n    var contextTable = this.context.table;\n    var currentCell = contextTable._tdElement;\n    var rows = contextTable._trElements;\n    var currentRow = contextTable._trElement;\n    var index = contextTable._logical_cellIndex;\n    var rowIndex = contextTable._rowIndex;\n    var newCell = this.plugins.table.createCells.call(this, currentCell.nodeName, 0, true); // vertical\n\n    if (vertical) {\n      var currentColSpan = currentCell.colSpan;\n      newCell.rowSpan = currentCell.rowSpan; // colspan > 1\n\n      if (currentColSpan > 1) {\n        newCell.colSpan = this._w.Math.floor(currentColSpan / 2);\n        currentCell.colSpan = currentColSpan - newCell.colSpan;\n        currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n      } else {\n        // colspan - 1\n        var rowSpanArr = [];\n        var spanIndex = [];\n\n        for (var i = 0, len = contextTable._rowCnt, cells, colSpan; i < len; i++) {\n          cells = rows[i].cells;\n          colSpan = 0;\n\n          for (var c = 0, cLen = cells.length, cell, cs, rs, logcalIndex; c < cLen; c++) {\n            cell = cells[c];\n            cs = cell.colSpan - 1;\n            rs = cell.rowSpan - 1;\n            logcalIndex = c + colSpan;\n\n            if (spanIndex.length > 0) {\n              for (var r = 0, arr; r < spanIndex.length; r++) {\n                arr = spanIndex[r];\n\n                if (arr.row > i) {\n                  continue;\n                }\n\n                if (logcalIndex >= arr.index) {\n                  colSpan += arr.cs;\n                  logcalIndex += arr.cs;\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                } else if (c === cLen - 1) {\n                  arr.rs -= 1;\n                  arr.row = i + 1;\n\n                  if (arr.rs < 1) {\n                    spanIndex.splice(r, 1);\n                    r--;\n                  }\n                }\n              }\n            }\n\n            if (logcalIndex <= index && rs > 0) {\n              rowSpanArr.push({\n                index: logcalIndex,\n                cs: cs + 1,\n                rs: rs,\n                row: -1\n              });\n            }\n\n            if (cell !== currentCell && logcalIndex <= index && logcalIndex + cs >= index + currentColSpan - 1) {\n              cell.colSpan += 1;\n              break;\n            }\n\n            if (logcalIndex > index) {\n              break;\n            }\n\n            colSpan += cs;\n          }\n\n          spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n            return a.index - b.index;\n          });\n          rowSpanArr = [];\n        }\n\n        currentRow.insertBefore(newCell, currentCell.nextElementSibling);\n      }\n    } else {\n      // horizontal\n      var currentRowSpan = currentCell.rowSpan;\n      newCell.colSpan = currentCell.colSpan; // rowspan > 1\n\n      if (currentRowSpan > 1) {\n        newCell.rowSpan = this._w.Math.floor(currentRowSpan / 2);\n        var newRowSpan = currentRowSpan - newCell.rowSpan;\n        var _rowSpanArr = [];\n        var nextRowIndex = util.getArrayIndex(rows, currentRow) + newRowSpan;\n\n        for (var _i10 = 0, _cells2, _colSpan; _i10 < nextRowIndex; _i10++) {\n          _cells2 = rows[_i10].cells;\n          _colSpan = 0;\n\n          for (var _c2 = 0, _cLen2 = _cells2.length, _cell4, _cs, _logcalIndex2; _c2 < _cLen2; _c2++) {\n            _logcalIndex2 = _c2 + _colSpan;\n\n            if (_logcalIndex2 >= index) {\n              break;\n            }\n\n            _cell4 = _cells2[_c2];\n            _cs = _cell4.rowSpan - 1;\n\n            if (_cs > 0 && _cs + _i10 >= nextRowIndex && _logcalIndex2 < index) {\n              _rowSpanArr.push({\n                index: _logcalIndex2,\n                cs: _cell4.colSpan\n              });\n            }\n\n            _colSpan += _cell4.colSpan - 1;\n          }\n        }\n\n        var nextRow = rows[nextRowIndex];\n        var nextCells = nextRow.cells;\n\n        var _rs = _rowSpanArr.shift();\n\n        for (var _c3 = 0, _cLen3 = nextCells.length, _colSpan2 = 0, _cell5, _cs2, _logcalIndex3, insertIndex; _c3 < _cLen3; _c3++) {\n          _logcalIndex3 = _c3 + _colSpan2;\n          _cell5 = nextCells[_c3];\n          _cs2 = _cell5.colSpan - 1;\n          insertIndex = _logcalIndex3 + _cs2 + 1;\n\n          if (_rs && insertIndex >= _rs.index) {\n            _colSpan2 += _rs.cs;\n            insertIndex += _rs.cs;\n            _rs = _rowSpanArr.shift();\n          }\n\n          if (insertIndex >= index || _c3 === _cLen3 - 1) {\n            nextRow.insertBefore(newCell, _cell5.nextElementSibling);\n            break;\n          }\n\n          _colSpan2 += _cs2;\n        }\n\n        currentCell.rowSpan = newRowSpan;\n      } else {\n        // rowspan - 1\n        newCell.rowSpan = currentCell.rowSpan;\n        var newRow = util.createElement(\"TR\");\n        newRow.appendChild(newCell);\n\n        for (var _i11 = 0, _cells4; _i11 < rowIndex; _i11++) {\n          _cells4 = rows[_i11].cells;\n\n          if (_cells4.length === 0) {\n            return;\n          }\n\n          for (var _c4 = 0, _cLen4 = _cells4.length; _c4 < _cLen4; _c4++) {\n            if (_i11 + _cells4[_c4].rowSpan - 1 >= rowIndex) {\n              _cells4[_c4].rowSpan += 1;\n            }\n          }\n        }\n\n        var physicalIndex = contextTable._physical_cellIndex;\n        var _cells3 = currentRow.cells;\n\n        for (var _c5 = 0, _cLen5 = _cells3.length; _c5 < _cLen5; _c5++) {\n          if (_c5 === physicalIndex) {\n            continue;\n          }\n\n          _cells3[_c5].rowSpan += 1;\n        }\n\n        currentRow.parentNode.insertBefore(newRow, currentRow.nextElementSibling);\n      }\n    }\n\n    this.focusEdge(currentCell);\n    this.plugins.table.setPositionControllerDiv.call(this, currentCell, true);\n  },\n  mergeCells: function mergeCells() {\n    var tablePlugin = this.plugins.table;\n    var contextTable = this.context.table;\n    var util = this.util;\n    var ref = tablePlugin._ref;\n    var selectedCells = tablePlugin._selectedCells;\n    var mergeCell = selectedCells[0];\n    var emptyRowFirst = null;\n    var emptyRowLast = null;\n    var cs = ref.ce - ref.cs + 1;\n    var rs = ref.re - ref.rs + 1;\n    var mergeHTML = \"\";\n    var row = null;\n\n    for (var i = 1, len = selectedCells.length, cell, ch; i < len; i++) {\n      cell = selectedCells[i];\n\n      if (row !== cell.parentNode) {\n        row = cell.parentNode;\n      }\n\n      ch = cell.children;\n\n      for (var c = 0, cLen = ch.length; c < cLen; c++) {\n        if (util.isFormatElement(ch[c]) && util.onlyZeroWidthSpace(ch[c].textContent)) {\n          util.removeItem(ch[c]);\n        }\n      }\n\n      mergeHTML += cell.innerHTML;\n      util.removeItem(cell);\n\n      if (row.cells.length === 0) {\n        if (!emptyRowFirst) {\n          emptyRowFirst = row;\n        } else {\n          emptyRowLast = row;\n        }\n\n        rs -= 1;\n      }\n    }\n\n    if (emptyRowFirst) {\n      var rows = contextTable._trElements;\n      var rowIndexFirst = util.getArrayIndex(rows, emptyRowFirst);\n      var rowIndexLast = util.getArrayIndex(rows, emptyRowLast || emptyRowFirst);\n      var removeRows = [];\n\n      for (var _i12 = 0, cells; _i12 <= rowIndexLast; _i12++) {\n        cells = rows[_i12].cells;\n\n        if (cells.length === 0) {\n          removeRows.push(rows[_i12]);\n          continue;\n        }\n\n        for (var _c6 = 0, _cLen6 = cells.length, _cell6, _rs2; _c6 < _cLen6; _c6++) {\n          _cell6 = cells[_c6];\n          _rs2 = _cell6.rowSpan - 1;\n\n          if (_rs2 > 0 && _i12 + _rs2 >= rowIndexFirst) {\n            _cell6.rowSpan -= util.getOverlapRangeAtIndex(rowIndexFirst, rowIndexLast, _i12, _i12 + _rs2);\n          }\n        }\n      }\n\n      for (var _i13 = 0, _len8 = removeRows.length; _i13 < _len8; _i13++) {\n        util.removeItem(removeRows[_i13]);\n      }\n    }\n\n    mergeCell.innerHTML += mergeHTML;\n    mergeCell.colSpan = cs;\n    mergeCell.rowSpan = rs;\n    this.controllersOff();\n    tablePlugin.setActiveButton.call(this, true, false);\n    tablePlugin.call_controller_tableEdit.call(this, mergeCell);\n    util.addClass(mergeCell, \"ke-table-selected-cell\");\n    this.focusEdge(mergeCell);\n  },\n  toggleHeader: function toggleHeader() {\n    var util = this.util;\n    var headerButton = this.context.table.headerButton;\n    var active = util.hasClass(headerButton, \"active\");\n    var table = this.context.table._element;\n\n    if (!active) {\n      var header = util.createElement(\"THEAD\");\n      header.innerHTML = \"<tr>\" + this.plugins.table.createCells.call(this, \"th\", this.context.table._logical_cellCnt, false) + \"</tr>\";\n      table.insertBefore(header, table.firstElementChild);\n    } else {\n      util.removeItem(table.querySelector(\"thead\"));\n    }\n\n    util.toggleClass(headerButton, \"active\");\n\n    if (/TH/i.test(this.context.table._tdElement.nodeName)) {\n      this.controllersOff();\n    } else {\n      this.plugins.table.setPositionControllerDiv.call(this, this.context.table._tdElement, false);\n    }\n  },\n  setTableStyle: function setTableStyle(styles) {\n    var contextTable = this.context.table;\n    var tableElement = contextTable._element;\n    var icon, span, sizeIcon, text;\n\n    if (styles.indexOf(\"width\") > -1) {\n      icon = contextTable.resizeButton.firstElementChild;\n      span = contextTable.resizeText;\n\n      if (!contextTable._maxWidth) {\n        sizeIcon = contextTable.icons.expansion;\n        text = contextTable.maxText;\n        contextTable.columnFixedButton.style.display = \"none\";\n        this.util.removeClass(tableElement, \"ke-table-size-100\");\n        this.util.addClass(tableElement, \"ke-table-size-auto\");\n      } else {\n        sizeIcon = contextTable.icons.reduction;\n        text = contextTable.minText;\n        contextTable.columnFixedButton.style.display = \"block\";\n        this.util.removeClass(tableElement, \"ke-table-size-auto\");\n        this.util.addClass(tableElement, \"ke-table-size-100\");\n      }\n\n      this.util.changeElement(icon, sizeIcon);\n      this.util.changeTxt(span, text);\n    }\n\n    if (styles.indexOf(\"column\") > -1) {\n      if (!contextTable._fixedColumn) {\n        this.util.removeClass(tableElement, \"ke-table-layout-fixed\");\n        this.util.addClass(tableElement, \"ke-table-layout-auto\");\n        this.util.removeClass(contextTable.columnFixedButton, \"active\");\n      } else {\n        this.util.removeClass(tableElement, \"ke-table-layout-auto\");\n        this.util.addClass(tableElement, \"ke-table-layout-fixed\");\n        this.util.addClass(contextTable.columnFixedButton, \"active\");\n      }\n    }\n  },\n  setActiveButton: function setActiveButton(fixedCell, selectedCell) {\n    var contextTable = this.context.table;\n\n    if (/^TH$/i.test(fixedCell.nodeName)) {\n      contextTable.insertRowAboveButton.setAttribute(\"disabled\", true);\n      contextTable.insertRowBelowButton.setAttribute(\"disabled\", true);\n    } else {\n      contextTable.insertRowAboveButton.removeAttribute(\"disabled\");\n      contextTable.insertRowBelowButton.removeAttribute(\"disabled\");\n    }\n\n    if (!selectedCell || fixedCell === selectedCell) {\n      contextTable.splitButton.removeAttribute(\"disabled\");\n      contextTable.mergeButton.setAttribute(\"disabled\", true);\n    } else {\n      contextTable.splitButton.setAttribute(\"disabled\", true);\n      contextTable.mergeButton.removeAttribute(\"disabled\");\n    }\n  },\n  // multi selecte\n  _bindOnSelect: null,\n  _bindOffSelect: null,\n  _bindOffShift: null,\n  _selectedCells: null,\n  _shift: false,\n  _fixedCell: null,\n  _fixedCellName: null,\n  _selectedCell: null,\n  _selectedTable: null,\n  _ref: null,\n  _toggleEditor: function _toggleEditor(enabled) {\n    this.context.element.wysiwyg.setAttribute(\"contenteditable\", enabled);\n\n    if (enabled) {\n      this.util.removeClass(this.context.element.wysiwyg, \"ke-disabled\");\n    } else {\n      this.util.addClass(this.context.element.wysiwyg, \"ke-disabled\");\n    }\n  },\n  _offCellMultiSelect: function _offCellMultiSelect(e) {\n    e.stopPropagation();\n    var tablePlugin = this.plugins.table;\n\n    if (!tablePlugin._shift) {\n      tablePlugin._removeEvents.call(this);\n\n      tablePlugin._toggleEditor.call(this, true);\n    } else if (tablePlugin._initBind) {\n      this._wd.removeEventListener(\"touchmove\", tablePlugin._initBind);\n\n      tablePlugin._initBind = null;\n    }\n\n    if (!tablePlugin._fixedCell || !tablePlugin._selectedTable) {\n      return;\n    }\n\n    tablePlugin.setActiveButton.call(this, tablePlugin._fixedCell, tablePlugin._selectedCell);\n    tablePlugin.call_controller_tableEdit.call(this, tablePlugin._selectedCell || tablePlugin._fixedCell);\n    tablePlugin._selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    if (tablePlugin._selectedCell && tablePlugin._fixedCell) {\n      this.focusEdge(tablePlugin._selectedCell);\n    }\n\n    if (!tablePlugin._shift) {\n      tablePlugin._fixedCell = null;\n      tablePlugin._selectedCell = null;\n      tablePlugin._fixedCellName = null;\n    }\n  },\n  _onCellMultiSelect: function _onCellMultiSelect(e) {\n    this._antiBlur = true;\n    var tablePlugin = this.plugins.table;\n    var target = this.util.getParentElement(e.target, this.util.isCell);\n\n    if (tablePlugin._shift) {\n      if (target === tablePlugin._fixedCell) {\n        tablePlugin._toggleEditor.call(this, true);\n      } else {\n        tablePlugin._toggleEditor.call(this, false);\n      }\n    } else if (!tablePlugin._ref) {\n      if (target === tablePlugin._fixedCell) {\n        return;\n      } else {\n        tablePlugin._toggleEditor.call(this, false);\n      }\n    }\n\n    if (!target || target === tablePlugin._selectedCell || tablePlugin._fixedCellName !== target.nodeName || tablePlugin._selectedTable !== this.util.getParentElement(target, \"TABLE\")) {\n      return;\n    }\n\n    tablePlugin._selectedCell = target;\n\n    tablePlugin._setMultiCells.call(this, tablePlugin._fixedCell, target);\n  },\n  _setMultiCells: function _setMultiCells(startCell, endCell) {\n    var tablePlugin = this.plugins.table;\n    var rows = tablePlugin._selectedTable.rows;\n    var util = this.util;\n\n    var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    for (var i = 0, len = selectedCells.length; i < len; i++) {\n      util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n    }\n\n    if (startCell === endCell) {\n      util.addClass(startCell, \"ke-table-selected-cell\");\n\n      if (!tablePlugin._shift) {\n        return;\n      }\n    }\n\n    var findSelectedCell = true;\n    var spanIndex = [];\n    var rowSpanArr = [];\n    var ref = tablePlugin._ref = {\n      _i: 0,\n      cs: null,\n      ce: null,\n      rs: null,\n      re: null\n    };\n\n    for (var _i14 = 0, _len9 = rows.length, cells, colSpan; _i14 < _len9; _i14++) {\n      cells = rows[_i14].cells;\n      colSpan = 0;\n\n      for (var c = 0, cLen = cells.length, cell, logcalIndex, cs, rs; c < cLen; c++) {\n        cell = cells[c];\n        cs = cell.colSpan - 1;\n        rs = cell.rowSpan - 1;\n        logcalIndex = c + colSpan;\n\n        if (spanIndex.length > 0) {\n          for (var r = 0, arr; r < spanIndex.length; r++) {\n            arr = spanIndex[r];\n\n            if (arr.row > _i14) {\n              continue;\n            }\n\n            if (logcalIndex >= arr.index) {\n              colSpan += arr.cs;\n              logcalIndex += arr.cs;\n              arr.rs -= 1;\n              arr.row = _i14 + 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            } else if (c === cLen - 1) {\n              arr.rs -= 1;\n              arr.row = _i14 + 1;\n\n              if (arr.rs < 1) {\n                spanIndex.splice(r, 1);\n                r--;\n              }\n            }\n          }\n        }\n\n        if (findSelectedCell) {\n          if (cell === startCell || cell === endCell) {\n            ref.cs = ref.cs !== null && ref.cs < logcalIndex ? ref.cs : logcalIndex;\n            ref.ce = ref.ce !== null && ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n            ref.rs = ref.rs !== null && ref.rs < _i14 ? ref.rs : _i14;\n            ref.re = ref.re !== null && ref.re > _i14 + rs ? ref.re : _i14 + rs;\n            ref._i += 1;\n          }\n\n          if (ref._i === 2) {\n            findSelectedCell = false;\n            spanIndex = [];\n            rowSpanArr = [];\n            _i14 = -1;\n            break;\n          }\n        } else if (util.getOverlapRangeAtIndex(ref.cs, ref.ce, logcalIndex, logcalIndex + cs) && util.getOverlapRangeAtIndex(ref.rs, ref.re, _i14, _i14 + rs)) {\n          var newCs = ref.cs < logcalIndex ? ref.cs : logcalIndex;\n          var newCe = ref.ce > logcalIndex + cs ? ref.ce : logcalIndex + cs;\n          var newRs = ref.rs < _i14 ? ref.rs : _i14;\n          var newRe = ref.re > _i14 + rs ? ref.re : _i14 + rs;\n\n          if (ref.cs !== newCs || ref.ce !== newCe || ref.rs !== newRs || ref.re !== newRe) {\n            ref.cs = newCs;\n            ref.ce = newCe;\n            ref.rs = newRs;\n            ref.re = newRe;\n            _i14 = -1;\n            spanIndex = [];\n            rowSpanArr = [];\n            break;\n          }\n\n          util.addClass(cell, \"ke-table-selected-cell\");\n        }\n\n        if (rs > 0) {\n          rowSpanArr.push({\n            index: logcalIndex,\n            cs: cs + 1,\n            rs: rs,\n            row: -1\n          });\n        }\n\n        colSpan += cell.colSpan - 1;\n      }\n\n      spanIndex = spanIndex.concat(rowSpanArr).sort(function (a, b) {\n        return a.index - b.index;\n      });\n      rowSpanArr = [];\n    }\n  },\n  _removeEvents: function _removeEvents() {\n    var tablePlugin = this.plugins.table;\n\n    if (tablePlugin._initBind) {\n      this._wd.removeEventListener(\"touchmove\", tablePlugin._initBind);\n\n      tablePlugin._initBind = null;\n    }\n\n    if (tablePlugin._bindOnSelect) {\n      this._wd.removeEventListener(\"mousedown\", tablePlugin._bindOnSelect);\n\n      this._wd.removeEventListener(\"mousemove\", tablePlugin._bindOnSelect);\n\n      tablePlugin._bindOnSelect = null;\n    }\n\n    if (tablePlugin._bindOffSelect) {\n      this._wd.removeEventListener(\"mouseup\", tablePlugin._bindOffSelect);\n\n      tablePlugin._bindOffSelect = null;\n    }\n\n    if (tablePlugin._bindOffShift) {\n      this._wd.removeEventListener(\"keyup\", tablePlugin._bindOffShift);\n\n      tablePlugin._bindOffShift = null;\n    }\n  },\n  _initBind: null,\n  onTableCellMultiSelect: function onTableCellMultiSelect(tdElement, shift) {\n    var tablePlugin = this.plugins.table;\n\n    tablePlugin._removeEvents.call(this);\n\n    this.controllersOff();\n    tablePlugin._shift = shift;\n    tablePlugin._fixedCell = tdElement;\n    tablePlugin._fixedCellName = tdElement.nodeName;\n    tablePlugin._selectedTable = this.util.getParentElement(tdElement, \"TABLE\");\n\n    var selectedCells = tablePlugin._selectedTable.querySelectorAll(\".ke-table-selected-cell\");\n\n    for (var i = 0, len = selectedCells.length; i < len; i++) {\n      this.util.removeClass(selectedCells[i], \"ke-table-selected-cell\");\n    }\n\n    this.util.addClass(tdElement, \"ke-table-selected-cell\");\n    tablePlugin._bindOnSelect = tablePlugin._onCellMultiSelect.bind(this);\n    tablePlugin._bindOffSelect = tablePlugin._offCellMultiSelect.bind(this);\n\n    if (!shift) {\n      this._wd.addEventListener(\"mousemove\", tablePlugin._bindOnSelect, false);\n    } else {\n      tablePlugin._bindOffShift = function () {\n        this.controllersOn(this.context.table.resizeDiv, this.context.table.tableController, this.plugins.table.init.bind(this), tdElement, \"table\");\n\n        if (!tablePlugin._ref) {\n          this.controllersOff();\n        }\n      }.bind(this);\n\n      this._wd.addEventListener(\"keyup\", tablePlugin._bindOffShift, false);\n\n      this._wd.addEventListener(\"mousedown\", tablePlugin._bindOnSelect, false);\n    }\n\n    this._wd.addEventListener(\"mouseup\", tablePlugin._bindOffSelect, false);\n\n    tablePlugin._initBind = tablePlugin.init.bind(this);\n\n    this._wd.addEventListener(\"touchmove\", tablePlugin._initBind, false);\n  },\n  onClick_tableController: function onClick_tableController(e) {\n    e.stopPropagation();\n    var target = e.target.getAttribute(\"data-command\") ? e.target : e.target.parentNode;\n\n    if (target.getAttribute(\"disabled\")) {\n      return;\n    }\n\n    var command = target.getAttribute(\"data-command\");\n    var value = target.getAttribute(\"data-value\");\n    var option = target.getAttribute(\"data-option\");\n    var tablePlugin = this.plugins.table;\n\n    if (typeof tablePlugin._closeSplitMenu === \"function\") {\n      tablePlugin._closeSplitMenu();\n\n      if (command === \"onsplit\") {\n        return;\n      }\n    }\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n    var contextTable = this.context.table;\n\n    switch (command) {\n      case \"insert\":\n      case \"delete\":\n        tablePlugin.editTable.call(this, value, option);\n        break;\n\n      case \"header\":\n        tablePlugin.toggleHeader.call(this);\n        break;\n\n      case \"onsplit\":\n        tablePlugin.openSplitMenu.call(this);\n        break;\n\n      case \"split\":\n        tablePlugin.splitCells.call(this, value);\n        break;\n\n      case \"merge\":\n        tablePlugin.mergeCells.call(this);\n        break;\n\n      case \"resize\":\n        contextTable._maxWidth = !contextTable._maxWidth;\n        tablePlugin.setTableStyle.call(this, \"width\");\n        tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n        tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n        break;\n\n      case \"layout\":\n        contextTable._fixedColumn = !contextTable._fixedColumn;\n        tablePlugin.setTableStyle.call(this, \"column\");\n        tablePlugin.setPositionControllerTop.call(this, contextTable._element);\n        tablePlugin.setPositionControllerDiv.call(this, contextTable._tdElement, tablePlugin._shift);\n        break;\n\n      case \"remove\":\n        var emptyDiv = contextTable._element.parentNode;\n        this.util.removeItem(contextTable._element);\n        this.controllersOff();\n\n        if (emptyDiv !== this.context.element.wysiwyg) {\n          this.util.removeItemAllParents(emptyDiv, function (current) {\n            return current.childNodes.length === 0;\n          }, null);\n        }\n\n        this.focus();\n    } // history stack\n\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"formatBlock\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    var icons = core.icons;\n    context.formatBlock = {\n      targetText: targetElement.querySelector(\".txt\"),\n      targetTooltip: targetElement.parentNode.querySelector(\".ke-tooltip-text\"),\n      _formatList: null,\n      currentFormat: \"\",\n      icon: icons.format_block\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickUp.bind(core));\n    context.formatBlock._formatList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang_toolbar = core.lang.toolbar;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var defaultFormats = [\"p\", \"div\", \"blockquote\", \"pre\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"];\n    var formatList = !option.formats || option.formats.length === 0 ? defaultFormats : option.formats;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = formatList.length, format, tagName, command, name, h, attrs, className; i < len; i++) {\n      format = formatList[i];\n\n      if (typeof format === \"string\" && defaultFormats.indexOf(format) > -1) {\n        tagName = format.toLowerCase();\n        command = tagName === \"blockquote\" ? \"range\" : tagName === \"pre\" ? \"free\" : \"replace\";\n        h = /^h/.test(tagName) ? tagName.match(/\\d+/)[0] : \"\";\n        name = lang_toolbar[\"tag_\" + (h ? \"h\" : tagName)] + h;\n        className = \"\";\n        attrs = \"\";\n      } else {\n        tagName = format.tag.toLowerCase();\n        command = format.command;\n        name = format.name || tagName;\n        className = format.class;\n        attrs = className ? ' class=\"' + className + '\"' : \"\";\n      }\n\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list\" data-command=\"' + command + '\" data-value=\"' + tagName + '\" data-class=\"' + className + '\" title=\"' + name + '\">' + \"<\" + tagName + attrs + \">\" + name + \"</\" + tagName + \">\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    var formatTitle = this.lang.toolbar.formats; // const target = this.context.formatBlock.targetText;\n\n    var target = this.context.formatBlock.targetText.firstElementChild;\n    var icon = this.context.formatBlock.icon;\n\n    if (!element) {\n      // this.util.changeTxt(target, formatTitle);\n      this.util.changeElement(target, icon);\n    } else if (this.util.isFormatElement(element)) {\n      var formatContext = this.context.formatBlock;\n      var formatList = formatContext._formatList;\n      var nodeName = element.nodeName.toLowerCase();\n      var className = (element.className.match(/(\\s|^)__ke__format__[^\\s]+/) || [\"\"])[0].trim();\n\n      for (var i = 0, len = formatList.length, f; i < len; i++) {\n        f = formatList[i];\n\n        if (nodeName === f.getAttribute(\"data-value\") && className === f.getAttribute(\"data-class\")) {\n          formatTitle = f.title;\n          break;\n        }\n      } // this.util.changeTxt(target, formatTitle);\n\n\n      this.util.changeElement(target, \"<span>\".concat(formatTitle, \"</span>\"));\n      target.setAttribute(\"data-value\", nodeName);\n      target.setAttribute(\"data-class\", className);\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var formatContext = this.context.formatBlock;\n    var formatList = formatContext._formatList;\n    var target = formatContext.targetText;\n    var currentFormat = (target.getAttribute(\"data-value\") || \"\") + (target.getAttribute(\"data-class\") || \"\");\n\n    if (currentFormat !== formatContext.currentFormat) {\n      for (var i = 0, len = formatList.length, f; i < len; i++) {\n        f = formatList[i];\n\n        if (currentFormat === f.getAttribute(\"data-value\") + f.getAttribute(\"data-class\")) {\n          this.util.addClass(f, \"active\");\n        } else {\n          this.util.removeClass(f, \"active\");\n        }\n      }\n\n      formatContext.currentFormat = currentFormat;\n    }\n  },\n  pickUp: function pickUp(e) {\n    var _this = this;\n\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = null,\n        value = null,\n        tag = null,\n        className = \"\";\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n      value = target.getAttribute(\"data-value\");\n      className = target.getAttribute(\"data-class\");\n\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    } // blockquote\n\n\n    if (command === \"range\") {\n      var rangeElement = tag.cloneNode(false);\n      this.applyRangeFormatElement(rangeElement);\n    } else {\n      // free, replace\n      var range = this.getRange();\n      var selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n      if (selectedFormsts.length === 0) {\n        range = this.getRange_addLine(range, null);\n        selectedFormsts = this.getSelectedElementsAndComponents(false);\n\n        if (selectedFormsts.length === 0) {\n          return;\n        }\n      }\n\n      var startOffset = range.startOffset;\n      var endOffset = range.endOffset;\n      var util = this.util;\n      var first = selectedFormsts[0];\n      var last = selectedFormsts[selectedFormsts.length - 1];\n      var firstPath = util.getNodePath(range.startContainer, first, null, null);\n      var lastPath = util.getNodePath(range.endContainer, last, null, null); // remove selected list\n\n      var rlist = this.detachList(selectedFormsts, false);\n\n      if (rlist.sc) {\n        first = rlist.sc;\n      }\n\n      if (rlist.ec) {\n        last = rlist.ec;\n      } // change format tag\n\n\n      this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n      var modifiedFormsts = this.getSelectedElementsAndComponents(false); // free format\n\n      if (command === \"free\") {\n        (function () {\n          var len = modifiedFormsts.length - 1;\n          var parentNode = modifiedFormsts[len].parentNode;\n          var freeElement = tag.cloneNode(false);\n          var focusElement = freeElement;\n\n          for (var i = len, f, html, before, next, inner, isComp, _first = true; i >= 0; i--) {\n            f = modifiedFormsts[i];\n\n            if (f === (!modifiedFormsts[i + 1] ? null : modifiedFormsts[i + 1].parentNode)) {\n              continue;\n            }\n\n            isComp = util.isComponent(f);\n            html = isComp ? \"\" : f.innerHTML.replace(/(?!>)\\s+(?=<)|\\n/g, \" \");\n            before = util.getParentElement(f, function (current) {\n              return current.parentNode === parentNode;\n            });\n\n            if (parentNode !== f.parentNode || isComp) {\n              if (util.isFormatElement(parentNode)) {\n                parentNode.parentNode.insertBefore(freeElement, parentNode.nextSibling);\n                parentNode = parentNode.parentNode;\n              } else {\n                parentNode.insertBefore(freeElement, before ? before.nextSibling : null);\n                parentNode = f.parentNode;\n              }\n\n              next = freeElement.nextSibling;\n\n              if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                freeElement.innerHTML += \"<BR>\" + next.innerHTML;\n                util.removeItem(next);\n              }\n\n              freeElement = tag.cloneNode(false);\n              _first = true;\n            }\n\n            inner = freeElement.innerHTML;\n            freeElement.innerHTML = (_first || !html || !inner || /<br>$/i.test(html) ? html : html + \"<BR>\") + inner;\n\n            if (i === 0) {\n              parentNode.insertBefore(freeElement, f);\n              next = f.nextSibling;\n\n              if (next && freeElement.nodeName === next.nodeName && util.isSameAttributes(freeElement, next)) {\n                freeElement.innerHTML += \"<BR>\" + next.innerHTML;\n                util.removeItem(next);\n              }\n\n              var prev = freeElement.previousSibling;\n\n              if (prev && freeElement.nodeName === prev.nodeName && util.isSameAttributes(freeElement, prev)) {\n                prev.innerHTML += \"<BR>\" + freeElement.innerHTML;\n                util.removeItem(freeElement);\n              }\n            }\n\n            if (!isComp) {\n              util.removeItem(f);\n            }\n\n            if (html) {\n              _first = false;\n            }\n          }\n\n          _this.setRange(focusElement, 0, focusElement, 0);\n        })();\n      } else {\n        // replace format\n        for (var i = 0, len = modifiedFormsts.length, node, newFormat; i < len; i++) {\n          node = modifiedFormsts[i];\n\n          if ((node.nodeName.toLowerCase() !== value.toLowerCase() || (node.className.match(/(\\s|^)__ke__format__[^\\s]+/) || [\"\"])[0].trim() !== className) && !util.isComponent(node)) {\n            newFormat = tag.cloneNode(false);\n            util.copyFormatAttributes(newFormat, node);\n            newFormat.innerHTML = node.innerHTML;\n            node.parentNode.replaceChild(newFormat, node);\n          }\n\n          if (i === 0) {\n            first = newFormat || node;\n          }\n\n          if (i === len - 1) {\n            last = newFormat || node;\n          }\n\n          newFormat = null;\n        }\n\n        this.setRange(util.getNodeFromPath(firstPath, first), startOffset, util.getNodeFromPath(lastPath, last), endOffset);\n      } // history stack\n\n\n      this.history.push(false);\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"lineHeight\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.lineHeight = {\n      _sizeList: null,\n      currentSize: -1\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.lineHeight._sizeList = listUl.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer\";\n    var sizeList = !option.lineHeights ? [{\n      text: \"1\",\n      value: 1\n    }, {\n      text: \"1.15\",\n      value: 1.15\n    }, {\n      text: \"1.5\",\n      value: 1.5\n    }, {\n      text: \"2\",\n      value: 2\n    }] : option.lineHeights;\n    var list = '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"default_value ke-btn-list\" title=\"' + lang.toolbar.default + '\">(' + lang.toolbar.default + \")</button></li>\";\n\n    for (var i = 0, len = sizeList.length, size; i < len; i++) {\n      size = sizeList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + size.value + '\" title=\"' + size.text + '\">' + size.text + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var lineHeightContext = this.context.lineHeight;\n    var sizeList = lineHeightContext._sizeList;\n    var format = this.util.getFormatElement(this.getSelectionNode());\n    var currentSize = !format ? \"\" : format.style.lineHeight + \"\";\n\n    if (currentSize !== lineHeightContext.currentSize) {\n      for (var i = 0, len = sizeList.length; i < len; i++) {\n        if (currentSize === sizeList[i].getAttribute(\"data-value\")) {\n          this.util.addClass(sizeList[i], \"active\");\n        } else {\n          this.util.removeClass(sizeList[i], \"active\");\n        }\n      }\n\n      lineHeightContext.currentSize = currentSize;\n    }\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var value = e.target.getAttribute(\"data-value\") || \"\";\n    var formats = this.getSelectedElements();\n\n    for (var i = 0, len = formats.length; i < len; i++) {\n      formats[i].style.lineHeight = value;\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"template\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.template = {};\n    /** set submenu */\n\n    var templateDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    templateDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickup.bind(core));\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, templateDiv);\n    /** empty memory */\n\n    templateDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var templateList = core.options.templates;\n\n    if (!templateList || templateList.length === 0) {\n      throw Error('[KothingEditor.plugins.template.fail] To use the \"template\" plugin, please define the \"templates\" option.');\n    }\n\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-list-layer\";\n    var list = '<div class=\"ke-submenu ke-list-inner\">' + '<ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = templateList.length, t; i < len; i++) {\n      t = templateList[i];\n      list += '<li><button type=\"button\" class=\"ke-btn-list\" data-value=\"' + i + '\" title=\"' + t.name + '\">' + t.name + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n  pickup: function pickup(e) {\n    if (!/^BUTTON$/i.test(e.target.tagName)) {\n      return false;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    var temp = this.options.templates[e.target.getAttribute(\"data-value\")];\n\n    if (temp.html) {\n      this.setContents(temp.html);\n    } else {\n      this.submenuOff();\n      throw Error('[KothingEditor.template.fail] cause : \"templates[i].html not found\"');\n    }\n\n    this.submenuOff();\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"paragraphStyle\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.paragraphStyle = {\n      _classList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    /** add event listeners */\n\n    listDiv.querySelector(\"ul\").addEventListener(\"click\", this.pickUp.bind(core));\n    context.paragraphStyle._classList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var menuLang = core.lang.menu;\n    var defaultList = {\n      spaced: {\n        name: menuLang.spaced,\n        class: \"__ke__p-spaced\",\n        _class: \"\"\n      },\n      bordered: {\n        name: menuLang.bordered,\n        class: \"__ke__p-bordered\",\n        _class: \"\"\n      },\n      neon: {\n        name: menuLang.neon,\n        class: \"__ke__p-neon\",\n        _class: \"\"\n      }\n    };\n    var paragraphStyles = !option.paragraphStyles || option.paragraphStyles.length === 0 ? [\"spaced\", \"bordered\", \"neon\"] : option.paragraphStyles;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = paragraphStyles.length, p, name, attrs, _class; i < len; i++) {\n      p = paragraphStyles[i];\n\n      if (typeof p === \"string\") {\n        var defaultStyle = defaultList[p.toLowerCase()];\n\n        if (!defaultStyle) {\n          continue;\n        }\n\n        p = defaultStyle;\n      }\n\n      name = p.name;\n      attrs = p.class ? ' class=\"' + p.class + '\"' : \"\";\n      _class = p._class;\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list' + (_class ? \" \" + _class : \"\") + '\" data-value=\"' + p.class + '\" title=\"' + name + '\">' + \"<div\" + attrs + \">\" + name + \"</div>\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var paragraphContext = this.context.paragraphStyle;\n    var paragraphList = paragraphContext._classList;\n    var currentFormat = this.util.getFormatElement(this.getSelectionNode());\n\n    for (var i = 0, len = paragraphList.length; i < len; i++) {\n      if (this.util.hasClass(currentFormat, paragraphList[i].getAttribute(\"data-value\"))) {\n        this.util.addClass(paragraphList[i], \"active\");\n      } else {\n        this.util.removeClass(paragraphList[i], \"active\");\n      }\n    }\n  },\n  pickUp: function pickUp(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var value = null;\n\n    while (!/^UL$/i.test(target.tagName)) {\n      value = target.getAttribute(\"data-value\");\n\n      if (value) {\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!value) {\n      return;\n    }\n\n    var selectedFormsts = this.getSelectedElements();\n\n    if (selectedFormsts.length === 0) {\n      this.getRange_addLine(this.getRange(), null);\n      selectedFormsts = this.getSelectedElements();\n\n      if (selectedFormsts.length === 0) {\n        return;\n      }\n    } // change format class\n\n\n    var toggleClass = this.util.hasClass(target, \"active\") ? this.util.removeClass.bind(this.util) : this.util.addClass.bind(this.util);\n\n    for (var i = 0, len = selectedFormsts.length; i < len; i++) {\n      toggleClass(selectedFormsts[i], value);\n    }\n\n    this.submenuOff(); // history stack\n\n    this.history.push(false);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"textStyle\",\n  display: \"submenu\",\n  add: function add(core, targetElement) {\n    var context = core.context;\n    context.textStyle = {\n      _styleList: null\n    };\n    /** set submenu */\n\n    var listDiv = this.setSubmenu(core);\n    var listUl = listDiv.querySelector(\"ul\");\n    /** add event listeners */\n\n    listUl.addEventListener(\"click\", this.pickup.bind(core));\n    context.textStyle._styleList = listDiv.querySelectorAll(\"li button\");\n    /** append target button menu */\n\n    core.initMenuTarget(this.name, targetElement, listDiv);\n    /** empty memory */\n\n    listDiv = null, listUl = null;\n  },\n  setSubmenu: function setSubmenu(core) {\n    var option = core.options;\n    var listDiv = core.util.createElement(\"DIV\");\n    listDiv.className = \"ke-submenu ke-list-layer ke-list-format\";\n    var defaultList = {\n      code: {\n        name: core.lang.menu.code,\n        class: \"__ke__t-code\",\n        tag: \"code\"\n      },\n      translucent: {\n        name: core.lang.menu.translucent,\n        style: \"opacity: 0.5;\",\n        tag: \"span\"\n      },\n      shadow: {\n        name: core.lang.menu.shadow,\n        class: \"__ke__t-shadow\",\n        tag: \"span\"\n      }\n    };\n    var styleList = !option.textStyles ? core._w.Object.keys(defaultList) : option.textStyles;\n    var list = '<div class=\"ke-list-inner\"><ul class=\"ke-list-basic\">';\n\n    for (var i = 0, len = styleList.length, t, tag, name, attrs, command, value, _class; i < len; i++) {\n      t = styleList[i];\n      attrs = \"\", value = \"\", command = [];\n\n      if (typeof t === \"string\") {\n        var defaultStyle = defaultList[t.toLowerCase()];\n\n        if (!defaultStyle) {\n          continue;\n        }\n\n        t = defaultStyle;\n      }\n\n      name = t.name;\n      tag = t.tag || \"span\";\n      _class = t._class;\n\n      if (t.style) {\n        attrs += ' style=\"' + t.style + '\"';\n        value += t.style.replace(/:[^;]+(;|$)\\s*/g, \",\");\n        command.push(\"style\");\n      }\n\n      if (t.class) {\n        attrs += ' class=\"' + t.class + '\"';\n        value += \".\" + t.class.trim().replace(/\\s+/g, \",.\");\n        command.push(\"class\");\n      }\n\n      value = value.replace(/,$/, \"\");\n      list += \"<li>\" + '<button type=\"button\" class=\"ke-btn-list' + (_class ? \" \" + _class : \"\") + '\" data-command=\"' + tag + '\" data-value=\"' + value + '\" title=\"' + name + '\">' + \"<\" + tag + attrs + \">\" + name + \"</\" + tag + \">\" + \"</button></li>\";\n    }\n\n    list += \"</ul></div>\";\n    listDiv.innerHTML = list;\n    return listDiv;\n  },\n\n  /**\r\n   * @Override submenu\r\n   */\n  on: function on() {\n    var util = this.util;\n    var textStyleContext = this.context.textStyle;\n    var styleToolbarItem = textStyleContext._styleList;\n    var selectionNode = this.getSelectionNode();\n\n    for (var i = 0, len = styleToolbarItem.length, btn, data, active; i < len; i++) {\n      btn = styleToolbarItem[i];\n      data = btn.getAttribute(\"data-value\").split(\",\");\n\n      for (var v = 0, node, value; v < data.length; v++) {\n        node = selectionNode;\n        active = false;\n\n        while (node && !util.isFormatElement(node) && !util.isComponent(node)) {\n          if (node.nodeName.toLowerCase() === btn.getAttribute(\"data-command\").toLowerCase()) {\n            value = data[v];\n\n            if (/^\\./.test(value) ? util.hasClass(node, value.replace(/^\\./, \"\")) : !!node.style[value]) {\n              active = true;\n              break;\n            }\n          }\n\n          node = node.parentNode;\n        }\n\n        if (!active) {\n          break;\n        }\n      }\n\n      active ? util.addClass(btn, \"active\") : util.removeClass(btn, \"active\");\n    }\n  },\n  pickup: function pickup(e) {\n    e.preventDefault();\n    e.stopPropagation();\n    var target = e.target;\n    var command = null,\n        tag = null;\n\n    while (!command && !/UL/i.test(target.tagName)) {\n      command = target.getAttribute(\"data-command\");\n\n      if (command) {\n        tag = target.firstChild;\n        break;\n      }\n\n      target = target.parentNode;\n    }\n\n    if (!command) {\n      return;\n    }\n\n    var checkStyles = tag.style.cssText.replace(/:.+(;|$)/g, \",\").split(\",\");\n    checkStyles.pop();\n    var classes = tag.classList;\n\n    for (var i = 0, len = classes.length; i < len; i++) {\n      checkStyles.push(\".\" + classes[i]);\n    }\n\n    var newNode = this.util.hasClass(target, \"active\") ? null : tag.cloneNode(false);\n    var removeNodes = newNode ? null : [tag.nodeName];\n    this.nodeChange(newNode, checkStyles, removeNodes, true);\n    this.submenuOff();\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util2 = _interopRequireDefault(require(\"../../lib/util\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\n * Rich Text Editor\n *\n * kothing-ditor.js\n * Copyright Kothing.\n * MIT license.\n */\nvar _default = {\n  name: \"dialog\",\n\n  /**\n   * @description Constructor\n   * @param {Object} core Core object\n   */\n  util: _util2.default,\n  add: function add(core) {\n    var context = core.context;\n    context.dialog = {\n      kind: \"\",\n      updateModal: false,\n      _closeSignal: false\n    };\n    /** dialog */\n\n    var dialog_div = core.util.createElement(\"DIV\");\n    dialog_div.className = \"ke-dialog kothing-editor-common\";\n    var dialog_back = core.util.createElement(\"DIV\");\n    dialog_back.className = \"ke-dialog-back\";\n    dialog_back.style.display = \"none\";\n    var dialog_area = core.util.createElement(\"DIV\");\n    dialog_area.className = \"ke-dialog-inner\";\n    dialog_area.style.display = \"none\";\n    dialog_div.appendChild(dialog_back);\n    dialog_div.appendChild(dialog_area);\n    context.dialog.modalArea = dialog_div;\n    context.dialog.back = dialog_back;\n    context.dialog.modal = dialog_area;\n    /** add event listeners */\n\n    context.dialog.modal.addEventListener(\"mousedown\", this._onMouseDown_dialog.bind(core));\n    context.dialog.modal.addEventListener(\"click\", this._onClick_dialog.bind(core));\n    /** append html */\n\n    context.element.relative.appendChild(dialog_div);\n    /** empty memory */\n\n    dialog_div = null, dialog_back = null, dialog_area = null;\n  },\n\n  /**\n   * @description Event to control the behavior of closing the dialog\n   * @param {MouseEvent} e Event object\n   * @private\n   */\n  _onMouseDown_dialog: function _onMouseDown_dialog(e) {\n    if (/ke-dialog-inner/.test(e.target.className)) {\n      this.context.dialog._closeSignal = true;\n    } else {\n      this.context.dialog._closeSignal = false;\n    }\n  },\n\n  /**\n   * @description Event to close the window when the outside area of the dialog or close button is click\n   * @param {MouseEvent} e Event object\n   * @private\n   */\n  _onClick_dialog: function _onClick_dialog(e) {\n    e.stopPropagation();\n\n    if (/close/.test(e.target.getAttribute(\"data-command\")) || this.context.dialog._closeSignal) {\n      this.plugins.dialog.close.call(this);\n    }\n  },\n\n  /**\n   * @description Open a Dialog plugin\n   * @param {String} kind Dialog plugin name\n   * @param {Boolean} update Whether it will open for update ('image' === this.currentControllerName)\n   */\n  open: function open(kind, update) {\n    if (this.modalForm) {\n      return false;\n    }\n\n    if (this.plugins.dialog._bindClose) {\n      this._d.removeEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n      this.plugins.dialog._bindClose = null;\n    }\n\n    this.plugins.dialog._bindClose = function (e) {\n      if (!/27/.test(e.keyCode)) {\n        return;\n      }\n\n      this.plugins.dialog.close.call(this);\n    }.bind(this);\n\n    this._d.addEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n    this.context.dialog.updateModal = update;\n\n    if (this.context.option.popupDisplay === \"full\") {\n      this.context.dialog.modalArea.style.position = \"fixed\";\n    } else {\n      this.context.dialog.modalArea.style.position = \"absolute\";\n    }\n\n    this.context.dialog.kind = kind;\n    this.modalForm = this.context[kind].modal;\n    var focusElement = this.context[kind].focusElement;\n\n    if (typeof this.plugins[kind].on === \"function\") {\n      this.plugins[kind].on.call(this, update);\n    }\n\n    _util2.default.addClass(this.context.dialog.modalArea, \"dialog--open\");\n\n    this.context.dialog.modalArea.style.display = \"block\";\n    this.context.dialog.back.style.display = \"block\";\n    this.context.dialog.modal.style.display = \"block\";\n    this.modalForm.style.display = \"block\";\n\n    if (focusElement) {\n      focusElement.focus();\n    }\n  },\n  _bindClose: null,\n\n  /**\n   * @description Close a Dialog plugin\n   * The plugin's \"init\" method is called.\n   */\n  close: function close() {\n    var _this = this;\n\n    if (this.plugins.dialog._bindClose) {\n      this._d.removeEventListener(\"keydown\", this.plugins.dialog._bindClose);\n\n      this.plugins.dialog._bindClose = null;\n    }\n\n    var contextDialog = this.context.dialog;\n    var kind = this.context.dialog.kind;\n\n    _util2.default.removeClass(contextDialog.modalArea, \"dialog--open\");\n\n    _util2.default.addClass(contextDialog.modalArea, \"dialog--close\");\n\n    setTimeout(function () {\n      _util2.default.removeClass(contextDialog.modalArea, \"dialog--close\");\n\n      contextDialog.back.style.display = \"none\";\n      contextDialog.modalArea.style.display = \"none\";\n      _this.modalForm.style.display = \"none\";\n      contextDialog.updateModal = false;\n      contextDialog.kind = \"\";\n      _this.modalForm = null;\n\n      _this.focus();\n    }, 200);\n\n    if (typeof this.plugins[kind].init === \"function\") {\n      this.plugins[kind].init.call(this);\n    }\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"selectMenu\",\n  add: function add(core) {\n    core.context.selectMenu = {\n      caller: {},\n      callerContext: null\n    };\n  },\n  setForm: function setForm() {\n    return '<div class=\"ke-select-list\"></div>';\n  },\n  createList: function createList(listContext, items, html) {\n    listContext.form.innerHTML = \"<ul>\" + html + \"</ul>\";\n    listContext.items = items;\n    listContext.menus = listContext.form.querySelectorAll(\"li\");\n  },\n  initEvent: function initEvent(pluginName, forms) {\n    var form = forms.querySelector(\".ke-select-list\");\n    var context = this.context.selectMenu.caller[pluginName] = {\n      form: form,\n      items: [],\n      menus: [],\n      index: -1,\n      item: null,\n      clickMethod: null,\n      callerName: pluginName\n    };\n    form.addEventListener(\"mousedown\", this.plugins.selectMenu.onMousedown_list);\n    form.addEventListener(\"mousemove\", this.plugins.selectMenu.onMouseMove_list.bind(this, context));\n    form.addEventListener(\"click\", this.plugins.selectMenu.onClick_list.bind(this, context));\n  },\n  onMousedown_list: function onMousedown_list(e) {\n    e.preventDefault();\n    e.stopPropagation();\n  },\n  onMouseMove_list: function onMouseMove_list(context, e) {\n    this.util.addClass(context.form, \"__ke_select-menu-mouse-move\");\n    var index = e.target.getAttribute(\"data-index\");\n\n    if (!index) {\n      return;\n    }\n\n    context.index = index * 1;\n  },\n  onClick_list: function onClick_list(context, e) {\n    var index = e.target.getAttribute(\"data-index\");\n\n    if (!index) {\n      return;\n    }\n\n    context.clickMethod.call(this, context.items[index]);\n  },\n  moveItem: function moveItem(listContext, num) {\n    this.util.removeClass(listContext.form, \"__ke_select-menu-mouse-move\");\n    num = listContext.index + num;\n    var menus = listContext.menus;\n    var len = menus.length;\n    var selectIndex = listContext.index = num >= len ? 0 : num < 0 ? len - 1 : num;\n\n    for (var i = 0; i < len; i++) {\n      if (i === selectIndex) {\n        this.util.addClass(menus[i], \"active\");\n      } else {\n        this.util.removeClass(menus[i], \"active\");\n      }\n    }\n\n    listContext.item = listContext.items[selectIndex];\n  },\n  getItem: function getItem(listContext, index) {\n    index = !index || index < 0 ? listContext.index : index;\n    return listContext.items[index];\n  },\n  on: function on(callerName, clickMethod) {\n    var listContext = this.context.selectMenu.caller[callerName];\n    this.context.selectMenu.callerContext = listContext;\n    listContext.clickMethod = clickMethod;\n    listContext.callerName = callerName;\n  },\n  open: function open(listContext, positionHandler) {\n    var form = listContext.form;\n    form.style.visibility = \"hidden\";\n    form.style.display = \"block\";\n    positionHandler(form);\n    form.style.visibility = \"\";\n  },\n  close: function close(listContext) {\n    listContext.form.style.display = \"none\";\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n  },\n  init: function init(listContext) {\n    if (!listContext) {\n      return;\n    }\n\n    listContext.items = [];\n    listContext.menus = [];\n    listContext.index = -1;\n    listContext.item = null;\n    listContext.callerName = \"\";\n    this.context.selectMenu.callerContext = null;\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _selectMenu = _interopRequireDefault(require(\"./selectMenu\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"anchor\",\n  add: function add(core) {\n    core.addModule([_selectMenu.default]);\n    core.context.anchor = {\n      caller: {},\n      forms: this.setDialogForm(core),\n      host: (core._w.location.origin + core._w.location.pathname).replace(/\\/$/, \"\"),\n      callerContext: null\n    };\n  },\n\n  /** dialog */\n  setDialogForm: function setDialogForm(core) {\n    var lang = core.lang;\n    var relList = core.options.linkRel;\n    var defaultRel = (core.options.linkRelDefault.default || \"\").split(\" \");\n    var icons = core.icons;\n    var forms = core.util.createElement(\"DIV\");\n    var html = '<div class=\"ke-dialog-body\">' + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.linkBox.url + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form ke-input-url\" type=\"text\" placeholder=\"' + (core.options.protocol || \"\") + '\" />' + '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button _ke_bookmark_button\" title=\"' + lang.dialogBox.linkBox.bookmark + '\">' + icons.bookmark + \"</button>\" + core.plugins.selectMenu.setForm() + \"</div>\" + '<div class=\"ke-anchor-preview-form\">' + '<span class=\"ke-svg ke-anchor-preview-icon _ke_anchor_bookmark_icon\">' + icons.bookmark + \"</span>\" + '<span class=\"ke-svg ke-anchor-preview-icon _ke_anchor_download_icon\">' + icons.download + \"</span>\" + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\" + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.linkBox.text + '</label><input class=\"ke-input-form _ke_anchor_text\" type=\"text\" />' + \"</div>\" + '<div class=\"ke-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_anchor_check\" />&nbsp;' + lang.dialogBox.linkBox.newWindowCheck + \"</label>\" + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_anchor_download\" />&nbsp;' + lang.dialogBox.linkBox.downloadLinkCheck + \"</label>\";\n\n    if (relList.length > 0) {\n      html += '<div class=\"ke-anchor-rel\"><button type=\"button\" class=\"ke-btn ke-btn-select ke-anchor-rel-btn\">&lt;rel&gt;</button>' + '<div class=\"ke-anchor-rel-wrapper\"><pre class=\"ke-link-preview ke-anchor-rel-preview\"></pre></div>' + '<div class=\"ke-list-layer\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic ke-list-checked\">';\n\n      for (var i = 0, len = relList.length, rel; i < len; i++) {\n        rel = relList[i];\n        html += '<li><button type=\"button\" class=\"ke-btn-list' + (defaultRel.indexOf(rel) > -1 ? \" ke-checked\" : \"\") + '\" data-command=\"' + rel + '\" title=\"' + rel + '\"><span class=\"ke-svg\">' + icons.checked + \"</span>\" + rel + \"</button></li>\";\n      }\n\n      html += \"</ul></div></div></div>\";\n    }\n\n    html += \"</div></div>\";\n    forms.innerHTML = html;\n    return forms;\n  },\n  initEvent: function initEvent(pluginName, forms) {\n    var anchorPlugin = this.plugins.anchor;\n    var context = this.context.anchor.caller[pluginName] = {\n      modal: forms,\n      urlInput: null,\n      linkDefaultRel: this.options.linkRelDefault,\n      defaultRel: this.options.linkRelDefault.default || \"\",\n      currentRel: [],\n      linkAnchor: null,\n      linkValue: \"\",\n      _change: false,\n      callerName: pluginName\n    };\n\n    if (typeof context.linkDefaultRel.default === \"string\") {\n      context.linkDefaultRel.default = context.linkDefaultRel.default.trim();\n    }\n\n    if (typeof context.linkDefaultRel.check_new_window === \"string\") {\n      context.linkDefaultRel.check_new_window = context.linkDefaultRel.check_new_window.trim();\n    }\n\n    if (typeof context.linkDefaultRel.check_bookmark === \"string\") {\n      context.linkDefaultRel.check_bookmark = context.linkDefaultRel.check_bookmark.trim();\n    }\n\n    context.urlInput = forms.querySelector(\".ke-input-url\");\n    context.anchorText = forms.querySelector(\"._ke_anchor_text\");\n    context.newWindowCheck = forms.querySelector(\"._ke_anchor_check\");\n    context.downloadCheck = forms.querySelector(\"._ke_anchor_download\");\n    context.download = forms.querySelector(\"._ke_anchor_download_icon\");\n    context.preview = forms.querySelector(\".ke-link-preview\");\n    context.bookmark = forms.querySelector(\"._ke_anchor_bookmark_icon\");\n    context.bookmarkButton = forms.querySelector(\"._ke_bookmark_button\");\n    this.plugins.selectMenu.initEvent.call(this, pluginName, forms);\n    var listContext = this.context.selectMenu.caller[pluginName];\n    /** rel */\n\n    if (this.options.linkRel.length > 0) {\n      context.relButton = forms.querySelector(\".ke-anchor-rel-btn\");\n      context.relList = forms.querySelector(\".ke-list-layer\");\n      context.relPreview = forms.querySelector(\".ke-anchor-rel-preview\");\n      context.relButton.addEventListener(\"click\", anchorPlugin.onClick_relButton.bind(this, context));\n      context.relList.addEventListener(\"click\", anchorPlugin.onClick_relList.bind(this, context));\n    }\n\n    context.newWindowCheck.addEventListener(\"change\", anchorPlugin.onChange_newWindowCheck.bind(this, context));\n    context.downloadCheck.addEventListener(\"change\", anchorPlugin.onChange_downloadCheck.bind(this, context));\n    context.anchorText.addEventListener(\"input\", anchorPlugin.onChangeAnchorText.bind(this, context));\n    context.urlInput.addEventListener(\"input\", anchorPlugin.onChangeUrlInput.bind(this, context));\n    context.urlInput.addEventListener(\"keydown\", anchorPlugin.onKeyDownUrlInput.bind(this, listContext));\n    context.urlInput.addEventListener(\"focus\", anchorPlugin.onFocusUrlInput.bind(this, context, listContext));\n    context.urlInput.addEventListener(\"blur\", anchorPlugin.onBlurUrlInput.bind(this, listContext));\n    context.bookmarkButton.addEventListener(\"click\", anchorPlugin.onClick_bookmarkButton.bind(this, context));\n  },\n  on: function on(contextAnchor, update) {\n    if (!update) {\n      this.plugins.anchor.init.call(this, contextAnchor);\n      contextAnchor.anchorText.value = this.getSelection().toString();\n    } else if (contextAnchor.linkAnchor) {\n      this.context.dialog.updateModal = true;\n      var href = contextAnchor.linkAnchor.href;\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = /#.+$/.test(href) ? href.substr(href.lastIndexOf(\"#\")) : href;\n      contextAnchor.anchorText.value = contextAnchor.linkAnchor.textContent.trim() || contextAnchor.linkAnchor.getAttribute(\"alt\");\n      contextAnchor.newWindowCheck.checked = /_blank/i.test(contextAnchor.linkAnchor.target) ? true : false;\n      contextAnchor.downloadCheck.checked = contextAnchor.linkAnchor.download;\n    }\n\n    this.context.anchor.callerContext = contextAnchor;\n    this.plugins.anchor.setRel.call(this, contextAnchor, update && contextAnchor.linkAnchor ? contextAnchor.linkAnchor.rel : contextAnchor.defaultRel);\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.linkValue);\n    this.plugins.selectMenu.on.call(this, contextAnchor.callerName, this.plugins.anchor.setHeaderBookmark);\n  },\n  _closeRelMenu: null,\n  toggleRelList: function toggleRelList(contextAnchor, show) {\n    if (!show) {\n      if (this.plugins.anchor._closeRelMenu) {\n        this.plugins.anchor._closeRelMenu();\n      }\n    } else {\n      var target = contextAnchor.relButton;\n      var relList = contextAnchor.relList;\n      this.util.addClass(target, \"active\");\n      relList.style.visibility = \"hidden\";\n      relList.style.display = \"block\";\n\n      if (!this.options.rtl) {\n        relList.style.left = target.offsetLeft + target.offsetWidth + 1 + \"px\";\n      } else {\n        relList.style.left = target.offsetLeft - relList.offsetWidth - 1 + \"px\";\n      }\n\n      relList.style.top = target.offsetTop + target.offsetHeight / 2 - relList.offsetHeight / 2 + \"px\";\n      relList.style.visibility = \"\";\n\n      this.plugins.anchor._closeRelMenu = function (context, target, e) {\n        if (e && (context.relButton.contains(e.target) || context.relList.contains(e.target))) {\n          return;\n        }\n\n        this.util.removeClass(target, \"active\");\n        context.relList.style.display = \"none\";\n        this.modalForm.removeEventListener(\"click\", this.plugins.anchor._closeRelMenu);\n        this.plugins.anchor._closeRelMenu = null;\n      }.bind(this, contextAnchor, target);\n\n      this.modalForm.addEventListener(\"click\", this.plugins.anchor._closeRelMenu);\n    }\n  },\n  onClick_relButton: function onClick_relButton(contextAnchor, e) {\n    this.plugins.anchor.toggleRelList.call(this, contextAnchor, !this.util.hasClass(e.target, \"active\"));\n  },\n  onClick_relList: function onClick_relList(contextAnchor, e) {\n    var target = e.target;\n    var cmd = target.getAttribute(\"data-command\");\n\n    if (!cmd) {\n      return;\n    }\n\n    var current = contextAnchor.currentRel;\n    var checked = this.util.toggleClass(target, \"ke-checked\");\n    var index = current.indexOf(cmd);\n\n    if (checked) {\n      if (index === -1) {\n        current.push(cmd);\n      }\n    } else {\n      if (index > -1) {\n        current.splice(index, 1);\n      }\n    }\n\n    contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = current.join(\" \");\n  },\n  setRel: function setRel(contextAnchor, relAttr) {\n    var relListEl = contextAnchor.relList;\n    var rels = contextAnchor.currentRel = !relAttr ? [] : relAttr.split(\" \");\n\n    if (!relListEl) {\n      return;\n    }\n\n    var checkedRel = relListEl.querySelectorAll(\"button\");\n\n    for (var i = 0, len = checkedRel.length, cmd; i < len; i++) {\n      cmd = checkedRel[i].getAttribute(\"data-command\");\n\n      if (rels.indexOf(cmd) > -1) {\n        this.util.addClass(checkedRel[i], \"ke-checked\");\n      } else {\n        this.util.removeClass(checkedRel[i], \"ke-checked\");\n      }\n    }\n\n    contextAnchor.relPreview.title = contextAnchor.relPreview.textContent = rels.join(\" \");\n  },\n  createHeaderList: function createHeaderList(contextAnchor, contextList, urlValue) {\n    var headers = this.util.getListChildren(this.context.element.wysiwyg, function (current) {\n      return /h[1-6]/i.test(current.nodeName);\n    });\n\n    if (headers.length === 0) {\n      return;\n    }\n\n    var valueRegExp = new this._w.RegExp(\"^\" + urlValue.replace(/^#/, \"\"), \"i\");\n    var list = [];\n    var html = \"\";\n\n    for (var i = 0, len = headers.length, h; i < len; i++) {\n      h = headers[i];\n\n      if (!valueRegExp.test(h.textContent)) {\n        continue;\n      }\n\n      list.push(h);\n      html += '<li class=\"ke-select-item\" data-index=\"' + i + '\">' + h.textContent + \"</li>\";\n    }\n\n    if (list.length === 0) {\n      this.plugins.selectMenu.close.call(this, contextList);\n    } else {\n      this.plugins.selectMenu.createList(contextList, list, html);\n      this.plugins.selectMenu.open.call(this, contextList, this.plugins.anchor._setMenuListPosition.bind(this, contextAnchor));\n    }\n  },\n  _setMenuListPosition: function _setMenuListPosition(contextAnchor, list) {\n    list.style.top = contextAnchor.urlInput.offsetHeight + 1 + \"px\";\n  },\n  onKeyDownUrlInput: function onKeyDownUrlInput(contextList, e) {\n    var keyCode = e.keyCode;\n\n    switch (keyCode) {\n      case 38:\n        // up\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.selectMenu.moveItem.call(this, contextList, -1);\n        break;\n\n      case 40:\n        // down\n        e.preventDefault();\n        e.stopPropagation();\n        this.plugins.selectMenu.moveItem.call(this, contextList, 1);\n        break;\n\n      case 13:\n        // enter\n        if (contextList.index > -1) {\n          e.preventDefault();\n          e.stopPropagation();\n          this.plugins.anchor.setHeaderBookmark.call(this, this.plugins.selectMenu.getItem(contextList, null));\n        }\n\n        break;\n    }\n  },\n  setHeaderBookmark: function setHeaderBookmark(header) {\n    var contextAnchor = this.context.anchor.callerContext;\n\n    var id = header.id || \"h_\" + this._w.Math.random().toString().replace(/.+\\./, \"\");\n\n    header.id = id;\n    contextAnchor.urlInput.value = \"#\" + id;\n\n    if (!contextAnchor.anchorText.value.trim() || !contextAnchor._change) {\n      contextAnchor.anchorText.value = header.textContent;\n    }\n\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, contextAnchor.urlInput.value);\n    this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    this.context.anchor.callerContext.urlInput.focus();\n  },\n  onChangeAnchorText: function onChangeAnchorText(contextAnchor, e) {\n    contextAnchor._change = !!e.target.value.trim();\n  },\n  onChangeUrlInput: function onChangeUrlInput(contextAnchor, e) {\n    var value = e.target.value.trim();\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, value);\n\n    if (/^#/.test(value)) {\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, value);\n    } else {\n      this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    }\n  },\n  onFocusUrlInput: function onFocusUrlInput(contextAnchor, contextLink) {\n    var value = contextAnchor.urlInput.value;\n\n    if (/^#/.test(value)) {\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, contextLink, value);\n    }\n  },\n  onBlurUrlInput: function onBlurUrlInput(contextList) {\n    this.plugins.selectMenu.close.call(this, contextList);\n  },\n  setLinkPreview: function setLinkPreview(context, value) {\n    var preview = context.preview;\n    var protocol = this.options.linkProtocol;\n    var reservedProtocol = /^(mailto:|tel:|sms:|https*:\\/\\/|#)/.test(value);\n    var sameProtocol = !protocol ? false : this._w.RegExp(\"^\" + value.substr(0, protocol.length)).test(protocol);\n    context.linkValue = preview.textContent = !value ? \"\" : protocol && !reservedProtocol && !sameProtocol ? protocol + value : reservedProtocol ? value : /^www\\./.test(value) ? \"http://\" + value : this.context.anchor.host + (/^\\//.test(value) ? \"\" : \"/\") + value;\n\n    if (value.indexOf(\"#\") === 0) {\n      context.bookmark.style.display = \"inline-block\";\n      this.util.addClass(context.bookmarkButton, \"active\");\n    } else {\n      context.bookmark.style.display = \"none\";\n      this.util.removeClass(context.bookmarkButton, \"active\");\n    }\n\n    if (value.indexOf(\"#\") === -1 && context.downloadCheck.checked) {\n      context.download.style.display = \"block\";\n    } else {\n      context.download.style.display = \"none\";\n    }\n  },\n  setCtx: function setCtx(anchor, contextAnchor) {\n    if (!anchor) {\n      return;\n    }\n\n    contextAnchor.linkAnchor = anchor;\n    contextAnchor.linkValue = anchor.href;\n    contextAnchor.currentRel = anchor.rel.split(\" \");\n  },\n  updateAnchor: function updateAnchor(anchor, url, alt, contextAnchor, notText) {\n    // download\n    if (!/^#/.test(url) && contextAnchor.downloadCheck.checked) {\n      anchor.setAttribute(\"download\", alt || url);\n    } else {\n      anchor.removeAttribute(\"download\");\n    } // new window\n\n\n    if (contextAnchor.newWindowCheck.checked) {\n      anchor.target = \"_blank\";\n    } else {\n      anchor.removeAttribute(\"target\");\n    } // rel\n\n\n    var rel = contextAnchor.currentRel.join(\" \");\n\n    if (!rel) {\n      anchor.removeAttribute(\"rel\");\n    } else {\n      anchor.rel = rel;\n    } // est url, alt\n\n\n    anchor.href = url;\n    anchor.setAttribute(\"alt\", alt);\n\n    if (notText) {\n      if (anchor.children.length === 0) {\n        anchor.textContent = \"\";\n      }\n    } else {\n      anchor.textContent = alt;\n    }\n  },\n  createAnchor: function createAnchor(contextAnchor, notText) {\n    if (contextAnchor.linkValue.length === 0) {\n      return null;\n    }\n\n    var url = contextAnchor.linkValue;\n    var anchor = contextAnchor.anchorText;\n    var anchorText = anchor.value.length === 0 ? url : anchor.value;\n    var oA = contextAnchor.linkAnchor || this.util.createElement(\"A\");\n    this.plugins.anchor.updateAnchor(oA, url, anchorText, contextAnchor, notText);\n    contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.anchorText.value = \"\";\n    return oA;\n  },\n  onClick_bookmarkButton: function onClick_bookmarkButton(contextAnchor) {\n    var url = contextAnchor.urlInput.value;\n\n    if (/^#/.test(url)) {\n      url = url.substr(1);\n      contextAnchor.bookmark.style.display = \"none\";\n      this.util.removeClass(contextAnchor.bookmarkButton, \"active\");\n      this.plugins.selectMenu.close.call(this, this.context.selectMenu.callerContext);\n    } else {\n      url = \"#\" + url;\n      contextAnchor.bookmark.style.display = \"block\";\n      this.util.addClass(contextAnchor.bookmarkButton, \"active\");\n      contextAnchor.downloadCheck.checked = false;\n      contextAnchor.download.style.display = \"none\";\n      this.plugins.anchor.createHeaderList.call(this, contextAnchor, this.context.selectMenu.callerContext, url);\n    }\n\n    contextAnchor.urlInput.value = url;\n    this.plugins.anchor.setLinkPreview.call(this, contextAnchor, url);\n    contextAnchor.urlInput.focus();\n  },\n  onChange_newWindowCheck: function onChange_newWindowCheck(contextAnchor, e) {\n    if (typeof contextAnchor.linkDefaultRel.check_new_window !== \"string\") {\n      return;\n    }\n\n    if (e.target.checked) {\n      this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n    } else {\n      this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_new_window));\n    }\n  },\n  onChange_downloadCheck: function onChange_downloadCheck(contextAnchor, e) {\n    if (e.target.checked) {\n      contextAnchor.download.style.display = \"block\";\n      contextAnchor.bookmark.style.display = \"none\";\n      this.util.removeClass(contextAnchor.bookmarkButton, \"active\");\n      contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = contextAnchor.urlInput.value.replace(/^#+/, \"\");\n\n      if (typeof contextAnchor.linkDefaultRel.check_bookmark === \"string\") {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relMerge.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n      }\n    } else {\n      contextAnchor.download.style.display = \"none\";\n\n      if (typeof contextAnchor.linkDefaultRel.check_bookmark === \"string\") {\n        this.plugins.anchor.setRel.call(this, contextAnchor, this.plugins.anchor._relDelete.call(this, contextAnchor, contextAnchor.linkDefaultRel.check_bookmark));\n      }\n    }\n  },\n  _relMerge: function _relMerge(contextAnchor, relAttr) {\n    var current = contextAnchor.currentRel;\n\n    if (!relAttr) {\n      return current.join(\" \");\n    }\n\n    if (/^only:/.test(relAttr)) {\n      relAttr = relAttr.replace(/^only:/, \"\").trim();\n      contextAnchor.currentRel = relAttr.split(\" \");\n      return relAttr;\n    }\n\n    var rels = relAttr.split(\" \");\n\n    for (var i = 0, len = rels.length, index; i < len; i++) {\n      index = current.indexOf(rels[i]);\n\n      if (index === -1) {\n        current.push(rels[i]);\n      }\n    }\n\n    return current.join(\" \");\n  },\n  _relDelete: function _relDelete(contextAnchor, relAttr) {\n    if (!relAttr) {\n      return contextAnchor.currentRel.join(\" \");\n    }\n\n    if (/^only:/.test(relAttr)) {\n      relAttr = relAttr.replace(/^only:/, \"\").trim();\n    }\n\n    var rels = contextAnchor.currentRel.join(\" \").replace(this._w.RegExp(relAttr + \"\\\\s*\"), \"\");\n    contextAnchor.currentRel = rels.split(\" \");\n    return rels;\n  },\n  init: function init(contextAnchor) {\n    contextAnchor.linkAnchor = null;\n    contextAnchor.linkValue = contextAnchor.preview.textContent = contextAnchor.urlInput.value = \"\";\n    contextAnchor.anchorText.value = \"\";\n    contextAnchor.newWindowCheck.checked = false;\n    contextAnchor.downloadCheck.checked = false;\n    contextAnchor._change = false;\n    this.plugins.anchor.setRel.call(this, contextAnchor, contextAnchor.defaultRel);\n\n    if (contextAnchor.relList) {\n      this.plugins.anchor.toggleRelList.call(this, contextAnchor, false);\n    }\n\n    this.context.anchor.callerContext = null;\n    this.plugins.selectMenu.init.call(this, this.context.selectMenu.callerContext);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _anchor = _interopRequireDefault(require(\"../modules/anchor\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"link\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _anchor.default]);\n    var context = core.context;\n    var contextLink = context.link = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      _linkAnchor: null,\n      anchorCtx: null\n    };\n    /** link dialog */\n\n    var link_dialog = this.setDialog(core);\n    contextLink.modal = link_dialog;\n    /** link controller */\n\n    var link_controller = this.setController_LinkButton(core);\n    contextLink.linkController = link_controller;\n    link_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n    link_controller.addEventListener(\"click\", this.onClick_linkController.bind(core));\n    /** append html */\n\n    context.dialog.modal.appendChild(link_dialog);\n    /** append controller */\n\n    context.element.relative.appendChild(link_controller);\n    /** link event */\n\n    core.plugins.anchor.initEvent.call(core, \"link\", link_dialog);\n    contextLink.focusElement = context.anchor.caller.link.urlInput;\n    /** empty memory */\n\n    link_dialog = null, link_controller = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    var icons = core.icons;\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + \"<form>\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.linkBox.title + \"</span>\" + \"</div>\" + core.context.anchor.forms.innerHTML + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** modify controller button */\n  setController_LinkButton: function setController_LinkButton(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var link_btn = core.util.createElement(\"DIV\");\n    link_btn.className = \"ke-controller ke-controller-link\";\n    link_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\"><span><a target=\"_blank\" href=\"\"></a>&nbsp;</span>' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"unlink\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.unlink + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.unlink + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return link_btn;\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"link\", \"link\" === this.currentControllerName);\n  },\n  submit: function submit(e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      var oA = this.plugins.anchor.createAnchor.call(this, this.context.anchor.caller.link, false);\n\n      if (!this.context.dialog.updateModal) {\n        var selectedFormats = this.getSelectedElements();\n\n        if (selectedFormats.length > 1) {\n          var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(oA);\n\n          if (!this.insertNode(oFormat, null, true)) {\n            return;\n          }\n        } else {\n          if (!this.insertNode(oA, null, true)) {\n            return;\n          }\n        }\n\n        this.setRange(oA.childNodes[0], 0, oA.childNodes[0], oA.textContent.length);\n      } else {\n        // set range\n        var textNode = this.context.link._linkAnchor.childNodes[0];\n        this.setRange(textNode, 0, textNode, textNode.textContent.length);\n      }\n    } finally {\n      this.plugins.dialog.close.call(this);\n      this.closeLoading(); // history stack\n\n      this.history.push(false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override core\r\n   */\n  active: function active(element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) > -1) {\n        this.controllersOff();\n      }\n    } else if (this.util.isAnchor(element) && element.getAttribute(\"data-image-link\") === null) {\n      if (this.controllerArray.indexOf(this.context.link.linkController) < 0) {\n        this.plugins.link.call_controller.call(this, element);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  on: function on(update) {\n    this.plugins.anchor.on.call(this, this.context.anchor.caller.link, update);\n  },\n  call_controller: function call_controller(selectionATag) {\n    this.editLink = this.context.link._linkAnchor = this.context.anchor.caller.link.linkAnchor = selectionATag;\n    var linkBtn = this.context.link.linkController;\n    var link = linkBtn.querySelector(\"a\");\n    link.href = selectionATag.href;\n    link.title = selectionATag.textContent;\n    link.textContent = selectionATag.textContent;\n    this.util.addClass(selectionATag, \"on\");\n    this.setControllerPosition(linkBtn, selectionATag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(linkBtn, selectionATag, \"link\", this.util.removeClass.bind(this.util, this.context.link._linkAnchor, \"on\"));\n  },\n  onClick_linkController: function onClick_linkController(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\") || e.target.parentNode.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.plugins.dialog.open.call(this, \"link\", true);\n    } else if (/unlink/.test(command)) {\n      var sc = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, false);\n      var ec = this.util.getChildElement(this.context.link._linkAnchor, function (current) {\n        return current.childNodes.length === 0 || current.nodeType === 3;\n      }, true);\n      this.setRange(sc, 0, ec, ec.textContent.length);\n      this.nodeChange(null, null, [\"A\"], false);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.link._linkAnchor);\n      this.context.anchor.caller.link.linkAnchor = null;\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n\n    this.controllersOff();\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    this.context.link.linkController.style.display = \"none\";\n    this.plugins.anchor.init.call(this, this.context.anchor.caller.link);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var component = {\n    name: \"component\",\n\n    /**\r\n     * @description Create a container for the resizing component and insert the element.\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {String} className Class name of container (fixed: ke-component)\r\n     * @returns {Element} Created container element\r\n     */\n    set_container: function set_container(cover, className) {\n      var container = this.util.createElement(\"DIV\");\n      container.className = \"ke-component \" + className;\n      container.setAttribute(\"contenteditable\", false);\n      container.appendChild(cover);\n      return container;\n    },\n\n    /**\r\n     * @description Cover the target element with a FIGURE element.\r\n     * @param {Element} element Target element\r\n     */\n    set_cover: function set_cover(element) {\n      var cover = this.util.createElement(\"FIGURE\");\n      cover.appendChild(element);\n      return cover;\n    },\n\n    /**\r\n     * @description Return HTML string of caption(FIGCAPTION) element\r\n     * @returns {String}\r\n     */\n    create_caption: function create_caption() {\n      var caption = this.util.createElement(\"FIGCAPTION\");\n      caption.setAttribute(\"contenteditable\", true);\n      caption.innerHTML = \"<div>\" + this.lang.dialogBox.caption + \"</div>\";\n      return caption;\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"component\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: component\n    });\n  }\n\n  return component;\n});", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var resizing = {\n    name: \"resizing\",\n\n    /**\r\n         * @description Constructor\r\n         * Require context properties when resizing module\r\n            inputX: Element,\r\n            inputY: Element,\r\n            _container: null,\r\n            _cover: null,\r\n            _element: null,\r\n            _element_w: 1,\r\n            _element_h: 1,\r\n            _element_l: 0,\r\n            _element_t: 0,\r\n            _defaultSizeX: 'auto',\r\n            _defaultSizeY: 'auto',\r\n            _origin_w: core.options.imageWidth === 'auto' ? '' : core.options.imageWidth,\r\n            _origin_h: core.options.imageHeight === 'auto' ? '' : core.options.imageHeight,\r\n            _proportionChecked: true,\r\n            // -- select function --\r\n            _resizing: core.options.imageResizing,\r\n            _resizeDotHide: !core.options.imageHeightShow,\r\n            _rotation: core.options.imageRotation,\r\n            _onlyPercentage: core.options.imageSizeOnlyPercentage,\r\n            _ratio: false,\r\n            _ratioX: 1,\r\n            _ratioY: 1\r\n            _captionShow: true,\r\n            // -- when used caption (_captionShow: true) --\r\n            _caption: null,\r\n            _captionChecked: false,\r\n            captionCheckEl: null,\r\n         * @param {Object} core Core object \r\n         */\n    add: function add(core) {\n      var icons = core.icons;\n      var context = core.context;\n      context.resizing = {\n        _resizeClientX: 0,\n        _resizeClientY: 0,\n        _resize_plugin: \"\",\n        _resize_w: 0,\n        _resize_h: 0,\n        _origin_w: 0,\n        _origin_h: 0,\n        _rotateVertical: false,\n        _resize_direction: \"\",\n        _move_path: null,\n        _isChange: false,\n        alignIcons: {\n          basic: icons.align_justify,\n          left: icons.align_left,\n          right: icons.align_right,\n          center: icons.align_center\n        }\n      };\n      /** resize controller, button */\n\n      var resize_div_container = this.setController_resize(core);\n      context.resizing.resizeContainer = resize_div_container;\n      context.resizing.resizeDiv = resize_div_container.querySelector(\".ke-modal-resize\");\n      context.resizing.resizeDot = resize_div_container.querySelector(\".ke-resize-dot\");\n      context.resizing.resizeDisplay = resize_div_container.querySelector(\".ke-resize-display\");\n      var resize_button = this.setController_button(core);\n      context.resizing.resizeButton = resize_button;\n      var resize_handles = context.resizing.resizeHandles = context.resizing.resizeDot.querySelectorAll(\"span\");\n      context.resizing.resizeButtonGroup = resize_button.querySelector(\"._ke_resizing_btn_group\");\n      context.resizing.rotationButtons = resize_button.querySelectorAll(\"._ke_resizing_btn_group ._ke_rotation\");\n      context.resizing.percentageButtons = resize_button.querySelectorAll(\"._ke_resizing_btn_group ._ke_percentage\");\n      context.resizing.alignMenu = resize_button.querySelector(\".ke-resizing-align-list\");\n      context.resizing.alignMenuList = context.resizing.alignMenu.querySelectorAll(\"button\");\n      context.resizing.alignButton = resize_button.querySelector(\"._ke_resizing_align_button\");\n      context.resizing.autoSizeButton = resize_button.querySelector(\"._ke_resizing_btn_group ._ke_auto_size\");\n      context.resizing.captionButton = resize_button.querySelector(\"._ke_resizing_caption_button\");\n      /** add event listeners */\n\n      resize_div_container.addEventListener(\"mousedown\", function (e) {\n        e.preventDefault();\n      });\n      resize_handles[0].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[1].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[2].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[3].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[4].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[5].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[6].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_handles[7].addEventListener(\"mousedown\", this.onMouseDown_resize_handle.bind(core));\n      resize_button.addEventListener(\"click\", this.onClick_resizeButton.bind(core));\n      /** append html */\n\n      context.element.relative.appendChild(resize_div_container);\n      context.element.relative.appendChild(resize_button);\n      /** empty memory */\n\n      resize_div_container = null, resize_button = null, resize_handles = null;\n    },\n\n    /** resize controller, button (image, iframe, video) */\n    setController_resize: function setController_resize(core) {\n      var resize_container = core.util.createElement(\"DIV\");\n      resize_container.className = \"ke-controller ke-resizing-container\";\n      resize_container.style.display = \"none\";\n      resize_container.innerHTML = \"\" + '<div class=\"ke-modal-resize\"></div>' + '<div class=\"ke-resize-dot\">' + '<span class=\"tl\"></span>' + '<span class=\"tr\"></span>' + '<span class=\"bl\"></span>' + '<span class=\"br\"></span>' + '<span class=\"lw\"></span>' + '<span class=\"th\"></span>' + '<span class=\"rw\"></span>' + '<span class=\"bh\"></span>' + '<div class=\"ke-resize-display\"></div>' + \"</div>\";\n      return resize_container;\n    },\n    setController_button: function setController_button(core) {\n      var lang = core.lang;\n      var icons = core.icons;\n      var resize_button = core.util.createElement(\"DIV\");\n      resize_button.className = \"ke-controller ke-controller-resizing\";\n      resize_button.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"ke-btn-group _ke_resizing_btn_group\">' + '<button type=\"button\" data-command=\"percent\" data-value=\"1\" class=\"ke-tooltip _ke_percentage\">' + \"<span>100%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize100 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"percent\" data-value=\"0.75\" class=\"ke-tooltip _ke_percentage\">' + \"<span>75%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize75 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"percent\" data-value=\"0.5\" class=\"ke-tooltip _ke_percentage\">' + \"<span>50%</span>\" + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.resize50 + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"auto\" class=\"ke-btn ke-tooltip _ke_auto_size\">' + icons.auto_size + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.autoSize + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"rotate\" data-value=\"-90\" class=\"ke-btn ke-tooltip _ke_rotation\">' + icons.rotate_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.rotateLeft + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"rotate\" data-value=\"90\" class=\"ke-btn ke-tooltip _ke_rotation\">' + icons.rotate_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.rotateRight + \"</span></span>\" + \"</button>\" + \"</div>\" + '<div class=\"ke-btn-group\" style=\"padding-top: 0;\">' + '<button type=\"button\" data-command=\"mirror\" data-value=\"h\" class=\"ke-btn ke-tooltip\">' + icons.mirror_horizontal + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mirrorHorizontal + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"mirror\" data-value=\"v\" class=\"ke-btn ke-tooltip\">' + icons.mirror_vertical + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.mirrorVertical + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"onalign\" class=\"ke-btn ke-tooltip _ke_resizing_align_button\">' + icons.align_justify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.toolbar.align + \"</span></span>\" + \"</button>\" + '<div class=\"ke-btn-group-sub kothing-editor-common ke-list-layer ke-resizing-align-list\">' + '<div class=\"ke-list-inner\">' + '<ul class=\"ke-list-basic\">' + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"basic\">' + icons.align_justify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.basic + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"left\">' + icons.align_left + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.left + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"center\">' + icons.align_center + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.center + \"</span></span>\" + \"</button></li>\" + '<li><button type=\"button\" class=\"ke-btn-list ke-tooltip\" data-command=\"align\" data-value=\"right\">' + icons.align_right + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.right + \"</span></span>\" + \"</button></li>\" + \"</ul>\" + \"</div>\" + \"</div>\" + '<button type=\"button\" data-command=\"caption\" class=\"ke-btn ke-tooltip _ke_resizing_caption_button\">' + icons.caption + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.caption + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"revert\" class=\"ke-btn ke-tooltip\">' + icons.revert + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.dialogBox.revertButton + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"update\" class=\"ke-btn ke-tooltip\">' + icons.modify + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" class=\"ke-btn ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\";\n      return resize_button;\n    },\n\n    /**\r\n     * @description Gets the width size\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Element} element Target element\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {Element} container Container element (DIV.ke-component)\r\n     * @returns {String}\r\n     */\n    _module_getSizeX: function _module_getSizeX(contextPlugin, element, cover, container) {\n      if (!element) {\n        element = contextPlugin._element;\n      }\n\n      if (!cover) {\n        cover = contextPlugin._cover;\n      }\n\n      if (!container) {\n        container = contextPlugin._container;\n      }\n\n      if (!element) {\n        return \"\";\n      }\n\n      return !/%$/.test(element.style.width) ? element.style.width : (container && this.util.getNumber(container.style.width, 2) || 100) + \"%\";\n    },\n\n    /**\r\n     * @description Gets the height size\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Element} element Target element\r\n     * @param {Element} cover Cover element (FIGURE)\r\n     * @param {Element} container Container element (DIV.ke-component)\r\n     * @returns {String}\r\n     */\n    _module_getSizeY: function _module_getSizeY(contextPlugin, element, cover, container) {\n      if (!element) {\n        element = contextPlugin._element;\n      }\n\n      if (!cover) {\n        cover = contextPlugin._cover;\n      }\n\n      if (!container) {\n        container = contextPlugin._container;\n      }\n\n      if (!container || !cover) {\n        return element && element.style.height || \"\";\n      }\n\n      return this.util.getNumber(cover.style.paddingBottom, 0) > 0 && !this.context.resizing._rotateVertical ? cover.style.height : !/%$/.test(element.style.height) || !/%$/.test(element.style.width) ? element.style.height : (container && this.util.getNumber(container.style.height, 2) || 100) + \"%\";\n    },\n\n    /**\r\n     * @description Called at the \"openModify\" to put the size of the current target into the size input element.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {Object} pluginObj Plugin object\r\n     */\n    _module_setModifyInputSize: function _module_setModifyInputSize(contextPlugin, pluginObj) {\n      var percentageRotation = contextPlugin._onlyPercentage && this.context.resizing._rotateVertical;\n      contextPlugin.proportion.checked = contextPlugin._proportionChecked = contextPlugin._element.getAttribute(\"data-proportion\") !== \"false\";\n      var x = percentageRotation ? \"\" : this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n      if (x === contextPlugin._defaultSizeX) {\n        x = \"\";\n      }\n\n      if (contextPlugin._onlyPercentage) {\n        x = this.util.getNumber(x, 2);\n      }\n\n      contextPlugin.inputX.value = x;\n      pluginObj.setInputSize.call(this, \"x\");\n\n      if (!contextPlugin._onlyPercentage) {\n        var y = percentageRotation ? \"\" : this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n        if (y === contextPlugin._defaultSizeY) {\n          y = \"\";\n        }\n\n        if (contextPlugin._onlyPercentage) {\n          y = this.util.getNumber(y, 2);\n        }\n\n        contextPlugin.inputY.value = y;\n      }\n\n      contextPlugin.inputX.disabled = percentageRotation ? true : false;\n      contextPlugin.inputY.disabled = percentageRotation ? true : false;\n      contextPlugin.proportion.disabled = percentageRotation ? true : false;\n      pluginObj.setRatio.call(this);\n    },\n\n    /**\r\n     * @description It is called in \"setInputSize\" (input tag keyupEvent),\r\n     * checks the value entered in the input tag,\r\n     * calculates the ratio, and sets the calculated value in the input tag of the opposite size.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     * @param {String} xy 'x': width, 'y': height\r\n     */\n    _module_setInputSize: function _module_setInputSize(contextPlugin, xy) {\n      if (contextPlugin._onlyPercentage) {\n        if (xy === \"x\" && contextPlugin.inputX.value > 100) {\n          contextPlugin.inputX.value = 100;\n        }\n\n        return;\n      }\n\n      if (contextPlugin.proportion.checked && contextPlugin._ratio && /\\d/.test(contextPlugin.inputX.value) && /\\d/.test(contextPlugin.inputY.value)) {\n        var xUnit = contextPlugin.inputX.value.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n        var yUnit = contextPlugin.inputY.value.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n\n        if (xUnit !== yUnit) {\n          return;\n        }\n\n        var dec = xUnit === \"%\" ? 2 : 0;\n\n        if (xy === \"x\") {\n          contextPlugin.inputY.value = this.util.getNumber(contextPlugin._ratioY * this.util.getNumber(contextPlugin.inputX.value, dec), dec) + yUnit;\n        } else {\n          contextPlugin.inputX.value = this.util.getNumber(contextPlugin._ratioX * this.util.getNumber(contextPlugin.inputY.value, dec), dec) + xUnit;\n        }\n      }\n    },\n\n    /**\r\n     * @description It is called in \"setRatio\" (input and proportionCheck tags changeEvent),\r\n     * checks the value of the input tag, calculates the ratio, and resets it in the input tag.\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_setRatio: function _module_setRatio(contextPlugin) {\n      var xValue = contextPlugin.inputX.value;\n      var yValue = contextPlugin.inputY.value;\n\n      if (contextPlugin.proportion.checked && /\\d+/.test(xValue) && /\\d+/.test(yValue)) {\n        var xUnit = xValue.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n        var yUnit = yValue.replace(/\\d+|\\./g, \"\") || contextPlugin.sizeUnit;\n\n        if (xUnit !== yUnit) {\n          contextPlugin._ratio = false;\n        } else if (!contextPlugin._ratio) {\n          var x = this.util.getNumber(xValue, 0);\n          var y = this.util.getNumber(yValue, 0);\n          contextPlugin._ratio = true;\n          contextPlugin._ratioX = x / y;\n          contextPlugin._ratioY = y / x;\n        }\n      } else {\n        contextPlugin._ratio = false;\n      }\n    },\n\n    /**\r\n     * @description Revert size of element to origin size (plugin._origin_w, plugin._origin_h)\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_sizeRevert: function _module_sizeRevert(contextPlugin) {\n      if (contextPlugin._onlyPercentage) {\n        contextPlugin.inputX.value = contextPlugin._origin_w > 100 ? 100 : contextPlugin._origin_w;\n      } else {\n        contextPlugin.inputX.value = contextPlugin._origin_w;\n        contextPlugin.inputY.value = contextPlugin._origin_h;\n      }\n    },\n\n    /**\r\n     * @description Save the size data (element.setAttribute(\"data-size\"))\r\n     * Used at the \"setSize\" method\r\n     * @param {Object} contextPlugin context object of plugin (core.context[plugin])\r\n     */\n    _module_saveCurrentSize: function _module_saveCurrentSize(contextPlugin) {\n      var x = this.plugins.resizing._module_getSizeX.call(this, contextPlugin);\n\n      var y = this.plugins.resizing._module_getSizeY.call(this, contextPlugin);\n\n      contextPlugin._element.setAttribute(\"data-size\", x + \",\" + y);\n\n      if (contextPlugin._videoRatio) {\n        contextPlugin._videoRatio = y;\n      }\n    },\n\n    /**\r\n     * @description Call the resizing module\r\n     * @param {Element} targetElement Resizing target element\r\n     * @param {string} plugin Plugin name\r\n     * @returns {Object} Size of resizing div {w, h, t, l}\r\n     */\n    call_controller_resize: function call_controller_resize(targetElement, plugin) {\n      var contextResizing = this.context.resizing;\n      var contextPlugin = this.context[plugin];\n      contextResizing._resize_plugin = plugin;\n      var resizeContainer = contextResizing.resizeContainer;\n      var resizeDiv = contextResizing.resizeDiv;\n      var offset = this.util.getOffset(targetElement, this.context.element.wysiwygFrame);\n      var isVertical = contextResizing._rotateVertical = /^(90|270)$/.test(Math.abs(targetElement.getAttribute(\"data-rotate\")).toString());\n      var w = isVertical ? targetElement.offsetHeight : targetElement.offsetWidth;\n      var h = isVertical ? targetElement.offsetWidth : targetElement.offsetHeight;\n      var t = offset.top;\n      var l = offset.left - this.context.element.wysiwygFrame.scrollLeft;\n      resizeContainer.style.top = t + \"px\";\n      resizeContainer.style.left = l + \"px\";\n      resizeContainer.style.width = w + \"px\";\n      resizeContainer.style.height = h + \"px\";\n      resizeDiv.style.top = \"0px\";\n      resizeDiv.style.left = \"0px\";\n      resizeDiv.style.width = w + \"px\";\n      resizeDiv.style.height = h + \"px\";\n      var align = targetElement.getAttribute(\"data-align\") || \"basic\";\n      align = align === \"none\" ? \"basic\" : align; // text\n\n      var container = this.util.getParentElement(targetElement, this.util.isComponent);\n      var cover = this.util.getParentElement(targetElement, \"FIGURE\");\n      var displayX = this.plugins.resizing._module_getSizeX.call(this, contextPlugin, targetElement, cover, container) || \"auto\";\n      var displayY = contextPlugin._onlyPercentage && plugin === \"image\" ? \"\" : \", \" + (this.plugins.resizing._module_getSizeY.call(this, contextPlugin, targetElement, cover, container) || \"auto\");\n      this.util.changeTxt(contextResizing.resizeDisplay, this.lang.dialogBox[align] + \" (\" + displayX + displayY + \")\"); // resizing display\n\n      contextResizing.resizeButtonGroup.style.display = contextPlugin._resizing ? \"\" : \"none\";\n      var resizeDotShow = contextPlugin._resizing && !contextPlugin._resizeDotHide && !contextPlugin._onlyPercentage ? \"flex\" : \"none\";\n      var resizeHandles = contextResizing.resizeHandles;\n\n      for (var i = 0, len = resizeHandles.length; i < len; i++) {\n        resizeHandles[i].style.display = resizeDotShow;\n      }\n\n      if (contextPlugin._resizing) {\n        var rotations = contextResizing.rotationButtons;\n        rotations[0].style.display = rotations[1].style.display = contextPlugin._rotation ? \"\" : \"none\";\n      } // align icon\n\n\n      var alignList = contextResizing.alignMenuList;\n      this.util.changeElement(contextResizing.alignButton.firstElementChild, contextResizing.alignIcons[align]);\n\n      for (var _i = 0, _len = alignList.length; _i < _len; _i++) {\n        if (alignList[_i].getAttribute(\"data-value\") === align) {\n          this.util.addClass(alignList[_i], \"on\");\n        } else {\n          this.util.removeClass(alignList[_i], \"on\");\n        }\n      } // percentage active\n\n\n      var pButtons = contextResizing.percentageButtons;\n      var value = /%$/.test(targetElement.style.width) && /%$/.test(container.style.width) ? this.util.getNumber(container.style.width, 0) / 100 + \"\" : \"\";\n\n      for (var _i2 = 0, _len2 = pButtons.length; _i2 < _len2; _i2++) {\n        if (pButtons[_i2].getAttribute(\"data-value\") === value) {\n          this.util.addClass(pButtons[_i2], \"active\");\n        } else {\n          this.util.removeClass(pButtons[_i2], \"active\");\n        }\n      } // caption display, active\n\n\n      if (!contextPlugin._captionShow) {\n        contextResizing.captionButton.style.display = \"none\";\n      } else {\n        contextResizing.captionButton.style.display = \"\";\n\n        if (this.util.getChildElement(targetElement.parentNode, \"figcaption\")) {\n          this.util.addClass(contextResizing.captionButton, \"active\");\n          contextPlugin._captionChecked = true;\n        } else {\n          this.util.removeClass(contextResizing.captionButton, \"active\");\n          contextPlugin._captionChecked = false;\n        }\n      }\n\n      resizeContainer.style.display = \"block\";\n      var addOffset = {\n        left: 0,\n        top: 50\n      };\n\n      if (this.options.iframe) {\n        addOffset.left -= this.context.element.wysiwygFrame.parentElement.offsetLeft;\n        addOffset.top -= this.context.element.wysiwygFrame.parentElement.offsetTop;\n      }\n\n      this.setControllerPosition(contextResizing.resizeButton, resizeContainer, \"bottom\", addOffset);\n      this.controllersOn(resizeContainer, contextResizing.resizeButton, this.util.setDisabledButtons.bind(this, false, this.resizingDisabledButtons), targetElement, plugin);\n      this.util.setDisabledButtons(true, this.resizingDisabledButtons);\n      contextResizing._resize_w = w;\n      contextResizing._resize_h = h;\n      var originSize = (targetElement.getAttribute(\"origin-size\") || \"\").split(\",\");\n      contextResizing._origin_w = originSize[0] || targetElement.naturalWidth;\n      contextResizing._origin_h = originSize[1] || targetElement.naturalHeight;\n      return {\n        w: w,\n        h: h,\n        t: t,\n        l: l\n      };\n    },\n    _closeAlignMenu: null,\n\n    /**\r\n     * @description Open align submenu of module\r\n     */\n    openAlignMenu: function openAlignMenu() {\n      var alignButton = this.context.resizing.alignButton;\n      this.util.addClass(alignButton, \"on\");\n      this.context.resizing.alignMenu.style.top = alignButton.offsetTop + alignButton.offsetHeight + \"px\";\n      this.context.resizing.alignMenu.style.left = alignButton.offsetLeft - alignButton.offsetWidth / 2 + \"px\";\n      this.context.resizing.alignMenu.style.display = \"block\";\n\n      this.plugins.resizing._closeAlignMenu = function () {\n        this.util.removeClass(this.context.resizing.alignButton, \"on\");\n        this.context.resizing.alignMenu.style.display = \"none\";\n        this.removeDocEvent(\"click\", this.plugins.resizing._closeAlignMenu);\n        this.plugins.resizing._closeAlignMenu = null;\n      }.bind(this);\n\n      this.addDocEvent(\"click\", this.plugins.resizing._closeAlignMenu);\n    },\n\n    /**\r\n     * @description Click event of resizing toolbar\r\n     * Performs the action of the clicked toolbar button.\r\n     * @param {MouseEvent} e Event object\r\n     */\n    onClick_resizeButton: function onClick_resizeButton(e) {\n      e.stopPropagation();\n      var target = e.target;\n      var command = target.getAttribute(\"data-command\") || target.parentNode.getAttribute(\"data-command\");\n\n      if (!command) {\n        return;\n      }\n\n      var value = target.getAttribute(\"data-value\") || target.parentNode.getAttribute(\"data-value\");\n      var pluginName = this.context.resizing._resize_plugin;\n      var currentContext = this.context[pluginName];\n      var contextEl = currentContext._element;\n      var currentModule = this.plugins[pluginName];\n      e.preventDefault();\n\n      if (typeof this.plugins.resizing._closeAlignMenu === \"function\") {\n        this.plugins.resizing._closeAlignMenu();\n\n        if (command === \"onalign\") {\n          return;\n        }\n      }\n\n      switch (command) {\n        case \"auto\":\n          this.plugins.resizing.resetTransform.call(this, contextEl);\n          currentModule.setAutoSize.call(this);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"percent\":\n          var percentY = this.plugins.resizing._module_getSizeY.call(this, currentContext);\n\n          if (this.context.resizing._rotateVertical) {\n            var percentage = contextEl.getAttribute(\"data-percentage\");\n\n            if (percentage) {\n              percentY = percentage.split(\",\")[1];\n            }\n          }\n\n          this.plugins.resizing.resetTransform.call(this, contextEl);\n          currentModule.setPercentSize.call(this, value * 100, this.util.getNumber(percentY, 0) === null || !/%$/.test(percentY) ? \"\" : percentY);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"mirror\":\n          var r = contextEl.getAttribute(\"data-rotate\") || \"0\";\n          var x = contextEl.getAttribute(\"data-rotateX\") || \"\";\n          var y = contextEl.getAttribute(\"data-rotateY\") || \"\";\n\n          if (value === \"h\" && !this.context.resizing._rotateVertical || value === \"v\" && this.context.resizing._rotateVertical) {\n            y = y ? \"\" : \"180\";\n          } else {\n            x = x ? \"\" : \"180\";\n          }\n\n          contextEl.setAttribute(\"data-rotateX\", x);\n          contextEl.setAttribute(\"data-rotateY\", y);\n\n          this.plugins.resizing._setTransForm(contextEl, r, x, y);\n\n          break;\n\n        case \"rotate\":\n          var contextResizing = this.context.resizing;\n          var slope = contextEl.getAttribute(\"data-rotate\") * 1 + value * 1;\n          var deg = this._w.Math.abs(slope) >= 360 ? 0 : slope;\n          contextEl.setAttribute(\"data-rotate\", deg);\n          contextResizing._rotateVertical = /^(90|270)$/.test(this._w.Math.abs(deg).toString());\n          this.plugins.resizing.setTransformSize.call(this, contextEl, null, null);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"onalign\":\n          this.plugins.resizing.openAlignMenu.call(this);\n          return;\n\n        case \"align\":\n          var alignValue = value === \"basic\" ? \"none\" : value;\n          currentModule.setAlign.call(this, alignValue, null, null, null);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"caption\":\n          var caption = !currentContext._captionChecked;\n          currentModule.openModify.call(this, true);\n          currentContext._captionChecked = currentContext.captionCheckEl.checked = caption;\n          currentModule.update_image.call(this, false, false, false);\n\n          if (caption) {\n            var captionText = this.util.getChildElement(currentContext._caption, function (current) {\n              return current.nodeType === 3;\n            });\n\n            if (!captionText) {\n              currentContext._caption.focus();\n            } else {\n              this.setRange(captionText, 0, captionText, captionText.textContent.length);\n            }\n\n            this.controllersOff();\n          } else {\n            this.selectComponent(contextEl, pluginName);\n            currentModule.openModify.call(this, true);\n          }\n\n          break;\n\n        case \"revert\":\n          currentModule.setOriginSize.call(this);\n          this.selectComponent(contextEl, pluginName);\n          break;\n\n        case \"update\":\n          currentModule.openModify.call(this);\n          this.controllersOff();\n          break;\n\n        case \"delete\":\n          currentModule.destroy.call(this);\n          break;\n      } // history stack\n\n\n      this.history.push(false);\n    },\n\n    /**\r\n     * @description Initialize the transform style (rotation) of the element.\r\n     * @param {Element} element Target element\r\n     */\n    resetTransform: function resetTransform(element) {\n      var size = (element.getAttribute(\"data-size\") || element.getAttribute(\"data-origin\") || \"\").split(\",\");\n      this.context.resizing._rotateVertical = false;\n      element.style.maxWidth = \"\";\n      element.style.transform = \"\";\n      element.style.transformOrigin = \"\";\n      element.setAttribute(\"data-rotate\", \"\");\n      element.setAttribute(\"data-rotateX\", \"\");\n      element.setAttribute(\"data-rotateY\", \"\");\n\n      this.plugins[this.context.resizing._resize_plugin].setSize.call(this, size[0] ? size[0] : \"auto\", size[1] ? size[1] : \"\", true);\n    },\n\n    /**\r\n     * @description Set the transform style (rotation) of the element.\r\n     * @param {Element} element Target element\r\n     * @param {Number|null} width Element's width size\r\n     * @param {Number|null} height Element's height size\r\n     */\n    setTransformSize: function setTransformSize(element, width, height) {\n      var percentage = element.getAttribute(\"data-percentage\");\n      var isVertical = this.context.resizing._rotateVertical;\n      var deg = element.getAttribute(\"data-rotate\") * 1;\n      var transOrigin = \"\";\n\n      if (percentage && !isVertical) {\n        percentage = percentage.split(\",\");\n\n        if (percentage[0] === \"auto\" && percentage[1] === \"auto\") {\n          this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this);\n        } else {\n          this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this, percentage[0], percentage[1]);\n        }\n      } else {\n        var cover = this.util.getParentElement(element, \"FIGURE\");\n        var offsetW = width || element.offsetWidth;\n        var offsetH = height || element.offsetHeight;\n        var w = (isVertical ? offsetH : offsetW) + \"px\";\n        var h = (isVertical ? offsetW : offsetH) + \"px\";\n\n        this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this);\n\n        this.plugins[this.context.resizing._resize_plugin].setSize.call(this, offsetW + \"px\", offsetH + \"px\", true);\n\n        cover.style.width = w;\n        cover.style.height = this.context[this.context.resizing._resize_plugin]._caption ? \"\" : h;\n\n        if (isVertical) {\n          var transW = offsetW / 2 + \"px \" + offsetW / 2 + \"px 0\";\n          var transH = offsetH / 2 + \"px \" + offsetH / 2 + \"px 0\";\n          transOrigin = deg === 90 || deg === -270 ? transH : transW;\n        }\n      }\n\n      element.style.transformOrigin = transOrigin;\n\n      this.plugins.resizing._setTransForm(element, deg.toString(), element.getAttribute(\"data-rotateX\") || \"\", element.getAttribute(\"data-rotateY\") || \"\");\n\n      if (isVertical) {\n        element.style.maxWidth = \"none\";\n      } else {\n        element.style.maxWidth = \"\";\n      }\n\n      this.plugins.resizing.setCaptionPosition.call(this, element);\n    },\n    _setTransForm: function _setTransForm(element, r, x, y) {\n      var width = (element.offsetWidth - element.offsetHeight) * (/-/.test(r) ? 1 : -1);\n      var translate = \"\";\n\n      if (/[1-9]/.test(r) && (x || y)) {\n        translate = x ? \"Y\" : \"X\";\n\n        switch (r) {\n          case \"90\":\n            translate = x && y ? \"X\" : y ? translate : \"\";\n            break;\n\n          case \"270\":\n            width *= -1;\n            translate = x && y ? \"Y\" : x ? translate : \"\";\n            break;\n\n          case \"-90\":\n            translate = x && y ? \"Y\" : x ? translate : \"\";\n            break;\n\n          case \"-270\":\n            width *= -1;\n            translate = x && y ? \"X\" : y ? translate : \"\";\n            break;\n\n          default:\n            translate = \"\";\n        }\n      }\n\n      if (r % 180 === 0) {\n        element.style.maxWidth = \"\";\n      }\n\n      element.style.transform = \"rotate(\" + r + \"deg)\" + (x ? \" rotateX(\" + x + \"deg)\" : \"\") + (y ? \" rotateY(\" + y + \"deg)\" : \"\") + (translate ? \" translate\" + translate + \"(\" + width + \"px)\" : \"\");\n    },\n\n    /**\r\n     * @description The position of the caption is set automatically.\r\n     * @param {Element} element Target element (not caption element)\r\n     */\n    setCaptionPosition: function setCaptionPosition(element) {\n      var figcaption = this.util.getChildElement(this.util.getParentElement(element, \"FIGURE\"), \"FIGCAPTION\");\n\n      if (figcaption) {\n        figcaption.style.marginTop = (this.context.resizing._rotateVertical ? element.offsetWidth - element.offsetHeight : 0) + \"px\";\n      }\n    },\n\n    /**\r\n     * @description Mouse down event of resize handles\r\n     * @param {MouseEvent} e Event object\r\n     */\n    onMouseDown_resize_handle: function onMouseDown_resize_handle(e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var contextResizing = this.context.resizing;\n      var direction = contextResizing._resize_direction = e.target.classList[0];\n      contextResizing._resizeClientX = e.clientX;\n      contextResizing._resizeClientY = e.clientY;\n      this.context.element.resizeBackground.style.display = \"block\";\n      contextResizing.resizeButton.style.display = \"none\";\n      contextResizing.resizeDiv.style.float = /l/.test(direction) ? \"right\" : /r/.test(direction) ? \"left\" : \"none\";\n      var resizing_element_bind = this.plugins.resizing.resizing_element.bind(this, contextResizing, direction, this.context[contextResizing._resize_plugin]);\n\n      var closureFunc_bind = function closureFunc(e) {\n        if (e.type === \"keydown\" && e.keyCode !== 27) {\n          return;\n        }\n\n        var change = contextResizing._isChange;\n        contextResizing._isChange = false;\n        this.removeDocEvent(\"mousemove\", resizing_element_bind);\n        this.removeDocEvent(\"mouseup\", closureFunc_bind);\n        this.removeDocEvent(\"keydown\", closureFunc_bind);\n\n        if (e.type === \"keydown\") {\n          this.controllersOff();\n          this.context.element.resizeBackground.style.display = \"none\";\n\n          this.plugins[this.context.resizing._resize_plugin].init.call(this);\n        } else {\n          // element resize\n          this.plugins.resizing.cancel_controller_resize.call(this, direction); // history stack\n\n          if (change) {\n            this.history.push(false);\n          }\n        }\n      }.bind(this);\n\n      this.addDocEvent(\"mousemove\", resizing_element_bind);\n      this.addDocEvent(\"mouseup\", closureFunc_bind);\n      this.addDocEvent(\"keydown\", closureFunc_bind);\n    },\n\n    /**\r\n     * @description Mouse move event after call \"onMouseDown_resize_handle\" of resize handles\r\n     * The size of the module's \"div\" is adjusted according to the mouse move event.\r\n     * @param {Object} contextResizing \"core.context.resizing\" object (binding argument)\r\n     * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\") (binding argument)\r\n     * @param {Object} plugin \"core.context[currentPlugin]\" object (binding argument)\r\n     * @param {MouseEvent} e Event object\r\n     */\n    resizing_element: function resizing_element(contextResizing, direction, plugin, e) {\n      var clientX = e.clientX;\n      var clientY = e.clientY;\n      var resultW = plugin._element_w;\n      var resultH = plugin._element_h;\n      var w = plugin._element_w + (/r/.test(direction) ? clientX - contextResizing._resizeClientX : contextResizing._resizeClientX - clientX);\n      var h = plugin._element_h + (/b/.test(direction) ? clientY - contextResizing._resizeClientY : contextResizing._resizeClientY - clientY);\n      var wh = plugin._element_h / plugin._element_w * w;\n\n      if (/t/.test(direction)) {\n        contextResizing.resizeDiv.style.top = plugin._element_h - (/h/.test(direction) ? h : wh) + \"px\";\n      }\n\n      if (/l/.test(direction)) {\n        contextResizing.resizeDiv.style.left = plugin._element_w - w + \"px\";\n      }\n\n      if (/r|l/.test(direction)) {\n        contextResizing.resizeDiv.style.width = w + \"px\";\n        resultW = w;\n      }\n\n      if (/^(t|b)[^h]$/.test(direction)) {\n        contextResizing.resizeDiv.style.height = wh + \"px\";\n        resultH = wh;\n      } else if (/^(t|b)h$/.test(direction)) {\n        contextResizing.resizeDiv.style.height = h + \"px\";\n        resultH = h;\n      }\n\n      contextResizing._resize_w = resultW;\n      contextResizing._resize_h = resultH;\n      this.util.changeTxt(contextResizing.resizeDisplay, this._w.Math.round(resultW) + \" x \" + this._w.Math.round(resultH));\n      contextResizing._isChange = true;\n    },\n\n    /**\r\n     * @description Resize the element to the size of the \"div\" adjusted in the \"resizing_element\" method.\r\n     * Called at the mouse-up event registered in \"onMouseDown_resize_handle\".\r\n     * @param {String} direction Direction (\"tl\", \"tr\", \"bl\", \"br\", \"lw\", \"th\", \"rw\", \"bh\")\r\n     */\n    cancel_controller_resize: function cancel_controller_resize(direction) {\n      var isVertical = this.context.resizing._rotateVertical;\n      this.controllersOff();\n      this.context.element.resizeBackground.style.display = \"none\";\n\n      var w = this._w.Math.round(isVertical ? this.context.resizing._resize_h : this.context.resizing._resize_w);\n\n      var h = this._w.Math.round(isVertical ? this.context.resizing._resize_w : this.context.resizing._resize_h);\n\n      if (!isVertical && !/%$/.test(w)) {\n        var padding = 16;\n        var limit = this.context.element.wysiwygFrame.clientWidth - padding * 2 - 2;\n\n        if (this.util.getNumber(w, 0) > limit) {\n          h = this._w.Math.round(h / w * limit);\n          w = limit;\n        }\n      }\n\n      var pluginName = this.context.resizing._resize_plugin;\n      this.plugins[pluginName].setSize.call(this, w, h, false, direction);\n\n      if (isVertical) {\n        this.plugins.resizing.setTransformSize.call(this, this.context[this.context.resizing._resize_plugin]._element, w, h);\n      }\n\n      this.selectComponent(this.context[pluginName]._element, pluginName);\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"resizing\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: resizing\n    });\n  }\n\n  return resizing;\n});", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var fileManager = {\n    name: \"fileManager\",\n    _xmlHttp: null,\n    _checkMediaComponent: function _checkMediaComponent(tag) {\n      if (/IMG/i.test(tag)) {\n        return !/FIGURE/i.test(tag.parentElement.nodeName) || !/FIGURE/i.test(tag.parentElement.parentElement.nodeName);\n      } else if (/VIDEO/i.test(tag)) {\n        return !/FIGURE/i.test(tag.parentElement.nodeName);\n      }\n\n      return true;\n    },\n\n    /**\r\n     * @description Upload the file to the server.\r\n     * @param {String} uploadUrl Upload server url\r\n     * @param {Object|null} uploadHeader Request header\r\n     * @param {FormData} formData FormData in body\r\n     * @param {Function|null} callBack Success call back function\r\n     * @param {Function|null} errorCallBack Error call back function\r\n     * @example this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\r\n     */\n    upload: function upload(uploadUrl, uploadHeader, formData, callBack, errorCallBack) {\n      this.showLoading();\n      var filePlugin = this.plugins.fileManager;\n      var xmlHttp = filePlugin._xmlHttp = this.util.getXMLHttpRequest();\n      xmlHttp.onreadystatechange = filePlugin._callBackUpload.bind(this, xmlHttp, callBack, errorCallBack);\n      xmlHttp.open(\"post\", uploadUrl, true);\n\n      if (uploadHeader !== null && _typeof(uploadHeader) === \"object\" && this._w.Object.keys(uploadHeader).length > 0) {\n        for (var key in uploadHeader) {\n          xmlHttp.setRequestHeader(key, uploadHeader[key]);\n        }\n      }\n\n      xmlHttp.send(formData);\n    },\n    _callBackUpload: function _callBackUpload(xmlHttp, callBack, errorCallBack) {\n      if (xmlHttp.readyState === 4) {\n        if (xmlHttp.status === 200) {\n          try {\n            callBack(xmlHttp);\n          } catch (e) {\n            throw Error('[KothingEditor.fileManager.upload.callBack.fail] cause : \"' + e.message + '\"');\n          } finally {\n            this.closeLoading();\n          }\n        } else {\n          // exception\n          this.closeLoading();\n          var res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n\n          if (typeof errorCallBack !== \"function\" || errorCallBack(\"\", res, this)) {\n            var err = \"[KothingEditor.fileManager.upload.serverException] status: \" + xmlHttp.status + \", response: \" + (res.errorMessage || xmlHttp.responseText);\n            this.functions.noticeOpen(err);\n            throw Error(err);\n          }\n        }\n      }\n    },\n\n    /**\r\n     * @description Checke the file's information and modify the tag that does not fit the format.\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Array} tagNames Tag array to check\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info after checking (used in \"setInfo\")\r\n     * @param {Function} modifyHandler A function to modify a tag that does not fit the format (Argument value: Tag element)\r\n     * @param {Boolean} resizing True if the plugin is using a resizing module\r\n     * @example\r\n     * const modifyHandler = function (tag) {\r\n     *      imagePlugin.onModifyMode.call(this, tag, null);\r\n     *      imagePlugin.openModify.call(this, true);\r\n     *      imagePlugin.update_image.call(this, true, false, true);\r\n     *  }.bind(this);\r\n     *  this.plugins.fileManager.checkInfo.call(this, 'image', ['img'], this.functions.onImageUpload, modifyHandler, true);\r\n     */\n    checkInfo: function checkInfo(pluginName, tagNames, uploadEventHandler, modifyHandler, resizing) {\n      var tags = [];\n\n      for (var i = 0, len = tagNames.length; i < len; i++) {\n        tags = tags.concat([].slice.call(this.context.element.wysiwyg.getElementsByTagName(tagNames[i])));\n      }\n\n      var fileManagerPlugin = this.plugins.fileManager;\n      var context = this.context[pluginName];\n      var infoList = context._infoList;\n      var setFileInfo = fileManagerPlugin.setInfo.bind(this);\n\n      if (tags.length === infoList.length) {\n        // reset\n        if (this._componentsInfoReset) {\n          for (var _i = 0, _len = tags.length; _i < _len; _i++) {\n            setFileInfo(pluginName, tags[_i], uploadEventHandler, null, resizing);\n          }\n\n          return;\n        } else {\n          var infoUpdate = false;\n\n          var _loop = function _loop(_info, _i2, _len2) {\n            _info = infoList[_i2];\n\n            if (tags.filter(function (t) {\n              info = _info;\n              return _info.src === t.src && _info.index.toString() === t.getAttribute(\"data-index\");\n            }).length === 0) {\n              infoUpdate = true;\n              info = _info;\n              return \"break\";\n            }\n\n            info = _info;\n          };\n\n          for (var _i2 = 0, _len2 = infoList.length, info; _i2 < _len2; _i2++) {\n            var _ret = _loop(info, _i2, _len2);\n\n            if (_ret === \"break\") break;\n          } // pass\n\n\n          if (!infoUpdate) {\n            return;\n          }\n        }\n      } // check\n\n\n      var _resize_plugin = resizing ? this.context.resizing._resize_plugin : \"\";\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = pluginName;\n      }\n\n      var currentTags = [];\n      var infoIndex = [];\n\n      for (var _i3 = 0, _len3 = infoList.length; _i3 < _len3; _i3++) {\n        infoIndex[_i3] = infoList[_i3].index;\n      }\n\n      for (var _i4 = 0, _len4 = tags.length, tag; _i4 < _len4; _i4++) {\n        tag = tags[_i4];\n\n        if (!this.util.getParentElement(tag, this.util.isMediaComponent) || !fileManagerPlugin._checkMediaComponent(tag)) {\n          currentTags.push(context._infoIndex);\n          modifyHandler(tag);\n        } else if (!tag.getAttribute(\"data-index\") || infoIndex.indexOf(tag.getAttribute(\"data-index\") * 1) < 0) {\n          currentTags.push(context._infoIndex);\n          tag.removeAttribute(\"data-index\");\n          setFileInfo(pluginName, tag, uploadEventHandler, null, resizing);\n        } else {\n          currentTags.push(tag.getAttribute(\"data-index\") * 1);\n        }\n      }\n\n      for (var _i5 = 0, dataIndex; _i5 < infoList.length; _i5++) {\n        dataIndex = infoList[_i5].index;\n\n        if (currentTags.indexOf(dataIndex) > -1) {\n          continue;\n        }\n\n        infoList.splice(_i5, 1);\n\n        if (typeof uploadEventHandler === \"function\") {\n          uploadEventHandler(null, dataIndex, \"delete\", null, 0, this);\n        }\n\n        _i5--;\n      }\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = _resize_plugin;\n      }\n    },\n\n    /**\r\n     * @description Create info object of file and add it to \"_infoList\" (this.context[pluginName]._infoList[])\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Element} element\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     * @param {Object|null} file\r\n     * @param {Boolean} resizing True if the plugin is using a resizing module\r\n     * @example\r\n     * uploadCallBack {.. file = { name: fileList[i].name, size: fileList[i].size };\r\n     * this.plugins.fileManager.setInfo.call(this, 'image', oImg, this.functions.onImageUpload, file, true);\r\n     */\n    setInfo: function setInfo(pluginName, element, uploadEventHandler, file, resizing) {\n      var _resize_plugin = resizing ? this.context.resizing._resize_plugin : \"\";\n\n      if (resizing) {\n        this.context.resizing._resize_plugin = pluginName;\n      }\n\n      var plguin = this.plugins[pluginName];\n      var context = this.context[pluginName];\n      var infoList = context._infoList;\n      var dataIndex = element.getAttribute(\"data-index\");\n      var info = null;\n      var state = \"\";\n\n      if (!file) {\n        file = {\n          name: element.getAttribute(\"data-file-name\") || (typeof element.src === \"string\" ? element.src.split(\"/\").pop() : \"\"),\n          size: element.getAttribute(\"data-file-size\") || 0\n        };\n      } // create\n\n\n      if (!dataIndex || this._componentsInfoInit) {\n        state = \"create\";\n        dataIndex = context._infoIndex++;\n        element.setAttribute(\"data-index\", dataIndex);\n        element.setAttribute(\"data-file-name\", file.name);\n        element.setAttribute(\"data-file-size\", file.size);\n        info = {\n          src: element.src,\n          index: dataIndex * 1,\n          name: file.name,\n          size: file.size\n        };\n        infoList.push(info);\n      } else {\n        // update\n        state = \"update\";\n        dataIndex *= 1;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          if (dataIndex === infoList[i].index) {\n            info = infoList[i];\n            break;\n          }\n        }\n\n        if (!info) {\n          dataIndex = context._infoIndex++;\n          info = {\n            index: dataIndex\n          };\n          infoList.push(info);\n        }\n\n        info.src = element.src;\n        info.name = element.getAttribute(\"data-file-name\");\n        info.size = element.getAttribute(\"data-file-size\") * 1;\n      } // method bind\n\n\n      info.element = element;\n      info.delete = plguin.destroy.bind(this, element);\n\n      info.select = function (element) {\n        element.scrollIntoView(true);\n\n        this._w.setTimeout(plguin.select.bind(this, element));\n      }.bind(this, element);\n\n      if (resizing) {\n        if (!element.getAttribute(\"origin-size\") && element.naturalWidth) {\n          element.setAttribute(\"origin-size\", element.naturalWidth + \",\" + element.naturalHeight);\n        }\n\n        if (!element.getAttribute(\"data-origin\")) {\n          var container = this.util.getParentElement(element, this.util.isMediaComponent);\n          var cover = this.util.getParentElement(element, \"FIGURE\");\n\n          var w = this.plugins.resizing._module_getSizeX.call(this, context, element, cover, container);\n\n          var h = this.plugins.resizing._module_getSizeY.call(this, context, element, cover, container);\n\n          element.setAttribute(\"data-origin\", w + \",\" + h);\n          element.setAttribute(\"data-size\", w + \",\" + h);\n        }\n\n        if (!element.style.width) {\n          var size = (element.getAttribute(\"data-size\") || element.getAttribute(\"data-origin\") || \"\").split(\",\");\n          plguin.onModifyMode.call(this, element, null);\n          plguin.applySize.call(this, size[0], size[1]);\n        }\n\n        this.context.resizing._resize_plugin = _resize_plugin;\n      }\n\n      if (typeof uploadEventHandler === \"function\") {\n        uploadEventHandler(element, dataIndex, state, info, --context._uploadFileLength < 0 ? 0 : context._uploadFileLength, this);\n      }\n    },\n\n    /**\r\n     * @description Delete info object at \"_infoList\"\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Number} index index of info object (this.context[pluginName]._infoList[].index)\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     */\n    deleteInfo: function deleteInfo(pluginName, index, uploadEventHandler) {\n      if (index >= 0) {\n        var infoList = this.context[pluginName]._infoList;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          if (index === infoList[i].index) {\n            infoList.splice(i, 1);\n\n            if (typeof uploadEventHandler === \"function\") {\n              uploadEventHandler(null, index, \"delete\", null, 0, this);\n            }\n\n            return;\n          }\n        }\n      }\n    },\n\n    /**\r\n     * @description Reset info object and \"_infoList = []\", \"_infoIndex = 0\"\r\n     * @param {String} pluginName Plugin name\r\n     * @param {Function|null} uploadEventHandler Event handler to process updated file info (created in setInfo)\r\n     */\n    resetInfo: function resetInfo(pluginName, uploadEventHandler) {\n      var context = this.context[pluginName];\n\n      if (typeof uploadEventHandler === \"function\") {\n        var infoList = context._infoList;\n\n        for (var i = 0, len = infoList.length; i < len; i++) {\n          uploadEventHandler(null, infoList[i].index, \"delete\", null, 0, this);\n        }\n      }\n\n      context._infoList = [];\n      context._infoIndex = 0;\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"fileManager\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: fileManager\n    });\n  }\n\n  return fileManager;\n});", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _anchor = _interopRequireDefault(require(\"../modules/anchor\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _resizing = _interopRequireDefault(require(\"../modules/resizing\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"image\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _anchor.default, _component.default, _resizing.default, _fileManager.default]);\n    var options = core.options;\n    var context = core.context;\n    var contextImage = context.image = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      sizeUnit: options._imageSizeUnit,\n      _linkElement: \"\",\n      _altText: \"\",\n      _align: \"none\",\n      _floatClassRegExp: \"__ke__float\\\\-[a-z]+\",\n      _v_src: {\n        _linkValue: \"\"\n      },\n      svgDefaultSize: \"30%\",\n      base64RenderIndex: 0,\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null,\n      // @Override resizing properties\n      inputX: null,\n      inputY: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _defaultSizeX: \"auto\",\n      _defaultSizeY: \"auto\",\n      _origin_w: options.imageWidth === \"auto\" ? \"\" : options.imageWidth,\n      _origin_h: options.imageHeight === \"auto\" ? \"\" : options.imageHeight,\n      _proportionChecked: true,\n      _resizing: options.imageResizing,\n      _resizeDotHide: !options.imageHeightShow,\n      _rotation: options.imageRotation,\n      _onlyPercentage: options.imageSizeOnlyPercentage,\n      _ratio: false,\n      _ratioX: 1,\n      _ratioY: 1,\n      _captionShow: true,\n      _captionChecked: false,\n      _caption: null,\n      captionCheckEl: null\n    };\n    /** image dialog */\n\n    var image_dialog = this.setDialog(core);\n    contextImage.modal = image_dialog;\n    contextImage.imgInputFile = image_dialog.querySelector(\"._ke_image_file\");\n    contextImage.imgUrlFile = image_dialog.querySelector(\"._ke_image_url\");\n    contextImage.focusElement = contextImage.imgInputFile || contextImage.imgUrlFile;\n    contextImage.altText = image_dialog.querySelector(\"._ke_image_alt\");\n    contextImage.captionCheckEl = image_dialog.querySelector(\"._ke_image_check_caption\");\n    contextImage.previewSrc = image_dialog.querySelector(\"._ke_tab_content_image .ke-link-preview\");\n    /** add event listeners */\n\n    image_dialog.querySelector(\".ke-dialog-tabs\").addEventListener(\"click\", this.openTab.bind(core));\n    image_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextImage.imgInputFile) {\n      image_dialog.querySelector(\".ke-file-remove\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextImage.imgInputFile, contextImage.imgUrlFile, contextImage.previewSrc));\n    }\n\n    if (contextImage.imgUrlFile) {\n      contextImage.imgUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextImage.previewSrc, contextImage._v_src, options.linkProtocol));\n    }\n\n    if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n      contextImage.imgInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextImage));\n    }\n\n    var imageGalleryButton = image_dialog.querySelector(\".__ke__gallery\");\n\n    if (imageGalleryButton) {\n      imageGalleryButton.addEventListener(\"click\", this._openGallery.bind(core));\n    }\n\n    contextImage.proportion = {};\n    contextImage.inputX = {};\n    contextImage.inputY = {};\n\n    if (options.imageResizing) {\n      contextImage.proportion = image_dialog.querySelector(\"._ke_image_check_proportion\");\n      contextImage.inputX = image_dialog.querySelector(\"._ke_image_size_x\");\n      contextImage.inputY = image_dialog.querySelector(\"._ke_image_size_y\");\n      contextImage.inputX.value = options.imageWidth;\n      contextImage.inputY.value = options.imageHeight;\n      contextImage.inputX.addEventListener(\"keyup\", this.setInputSize.bind(core, \"x\"));\n      contextImage.inputY.addEventListener(\"keyup\", this.setInputSize.bind(core, \"y\"));\n      contextImage.inputX.addEventListener(\"change\", this.setRatio.bind(core));\n      contextImage.inputY.addEventListener(\"change\", this.setRatio.bind(core));\n      contextImage.proportion.addEventListener(\"change\", this.setRatio.bind(core));\n      image_dialog.querySelector(\".ke-dialog-btn-revert\").addEventListener(\"click\", this.sizeRevert.bind(core));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(image_dialog);\n    /** link event */\n\n    core.plugins.anchor.initEvent.call(core, \"image\", image_dialog.querySelector(\"._ke_tab_content_url\"));\n    contextImage.anchorCtx = core.context.anchor.caller.image;\n    /** empty memory */\n\n    image_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content ke-dialog-image\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.imageBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-tabs\">' + '<button type=\"button\" class=\"_ke_tab_link active\" data-tab-link=\"image\">' + lang.toolbar.image + \"</button>\" + '<button type=\"button\" class=\"_ke_tab_link\" data-tab-link=\"url\">' + lang.toolbar.link + \"</button>\" + \"</div>\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"_ke_tab_content _ke_tab_content_image\">' + '<div class=\"ke-dialog-body\"><div style=\"border-bottom: 1px dashed #ccc;\">';\n\n    if (option.imageFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_image_file\" type=\"file\" accept=\"' + option.imageAccept + '\"' + (option.imageMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.imageUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.url + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form ke-input-url _ke_image_url\" type=\"text\" />' + (option.imageGalleryUrl && core.plugins.imageGallery ? '<button type=\"button\" class=\"ke-btn ke-dialog-files-edge-button __ke__gallery\" title=\"' + lang.toolbar.imageGallery + '\">' + core.icons.image_gallery + \"</button>\" : \"\") + \"</div>\" + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    html += \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.imageBox.altText + '</label><input class=\"ke-input-form _ke_image_alt\" type=\"text\" />' + \"</div>\";\n\n    if (option.imageResizing) {\n      var onlyPercentage = option.imageSizeOnlyPercentage;\n      var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : \"\";\n      var heightDisplay = !option.imageHeightShow ? ' style=\"display: none !important;\"' : \"\";\n      html += '<div class=\"ke-dialog-form\">';\n\n      if (onlyPercentage || !option.imageHeightShow) {\n        html += \"\" + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.size + \"</label>\" + \"</div>\";\n      } else {\n        html += \"\" + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + \"</label>\" + '<label class=\"ke-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\">' + lang.dialogBox.height + \"</label>\" + \"</div>\";\n      }\n\n      html += \"\" + '<input class=\"ke-input-control _ke_image_size_x\" placeholder=\"auto\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + \" />\" + '<label class=\"ke-dialog-size-x\"' + heightDisplay + \">\" + (onlyPercentage ? \"%\" : \"x\") + \"</label>\" + '<input type=\"text\" class=\"ke-input-control _ke_image_size_y\" placeholder=\"auto\"' + onlyPercentDisplay + (onlyPercentage ? ' max=\"100\"' : \"\") + heightDisplay + \"/>\" + \"<label\" + onlyPercentDisplay + heightDisplay + '><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_image_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + \"</label>\" + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"ke-btn ke-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + \"</button>\" + \"</div>\";\n    }\n\n    html += \"\" + '<div class=\"ke-dialog-form ke-dialog-form-footer\">' + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_image_check_caption\" />&nbsp;' + lang.dialogBox.caption + \"</label>\" + \"</div>\" + \"</div>\" + \"</div>\" + '<div class=\"_ke_tab_content _ke_tab_content_url\" style=\"display: none\">' + core.context.anchor.forms.innerHTML + \"</div>\" + '<div class=\"ke-dialog-footer\">' + \"<div>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_image_radio\" class=\"ke-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + \"</label>\" + \"</div>\" + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  _fileInputChange: function _fileInputChange() {\n    if (!this.imgInputFile.value) {\n      this.imgUrlFile.removeAttribute(\"disabled\");\n      this.previewSrc.style.textDecoration = \"\";\n    } else {\n      this.imgUrlFile.setAttribute(\"disabled\", true);\n      this.previewSrc.style.textDecoration = \"line-through\";\n    }\n  },\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, previewSrc) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      previewSrc.style.textDecoration = \"\";\n    }\n  },\n  _openGallery: function _openGallery() {\n    this.callPlugin(\"imageGallery\", this.plugins.imageGallery.open.bind(this, this.plugins.image._setUrlInput.bind(this.context.image)), null);\n  },\n  _setUrlInput: function _setUrlInput(target) {\n    this.altText.value = target.alt;\n    this._v_src._linkValue = this.previewSrc.textContent = this.imgUrlFile.value = target.src;\n    this.imgUrlFile.focus();\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n    context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n  },\n\n  /**\r\n   * @Override @Required fileManager\r\n   */\n  fileTags: [\"img\"],\n\n  /**\r\n   * @Override core, fileManager, resizing\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.image.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, \"image\"));\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    var imageEl = element || this.context.image._element;\n    var imageContainer = this.util.getParentElement(imageEl, this.util.isMediaComponent) || imageEl;\n    var dataIndex = imageEl.getAttribute(\"data-index\") * 1;\n    var focusEl = imageContainer.previousElementSibling || imageContainer.nextElementSibling;\n    var emptyDiv = imageContainer.parentNode;\n    this.util.removeItem(imageContainer);\n    this.plugins.image.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"image\", dataIndex, this.functions.onImageUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextImage = this.context.image;\n\n    if (!update) {\n      contextImage.inputX.value = contextImage._origin_w = this.options.imageWidth === contextImage._defaultSizeX ? \"\" : this.options.imageWidth;\n      contextImage.inputY.value = contextImage._origin_h = this.options.imageHeight === contextImage._defaultSizeY ? \"\" : this.options.imageHeight;\n\n      if (contextImage.imgInputFile && this.options.imageMultipleFile) {\n        contextImage.imgInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else {\n      if (contextImage.imgInputFile && this.options.imageMultipleFile) {\n        contextImage.imgInputFile.removeAttribute(\"multiple\");\n      }\n    }\n\n    this.plugins.anchor.on.call(this, contextImage.anchorCtx, update);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"image\", \"image\" === this.currentControllerName);\n  },\n  openTab: function openTab(e) {\n    var modal = this.context.image.modal;\n    var targetElement = e === \"init\" ? modal.querySelector(\"._ke_tab_link\") : e.target;\n\n    if (!/^BUTTON$/i.test(targetElement.tagName)) {\n      return false;\n    } // Declare all variables\n\n\n    var tabName = targetElement.getAttribute(\"data-tab-link\");\n    var contentClassName = \"_ke_tab_content\";\n    var i, tabContent, tabLinks; // Get all elements with class=\"tabcontent\" and hide them\n\n    tabContent = modal.getElementsByClassName(contentClassName);\n\n    for (i = 0; i < tabContent.length; i++) {\n      tabContent[i].style.display = \"none\";\n    } // Get all elements with class=\"tablinks\" and remove the class \"active\"\n\n\n    tabLinks = modal.getElementsByClassName(\"_ke_tab_link\");\n\n    for (i = 0; i < tabLinks.length; i++) {\n      this.util.removeClass(tabLinks[i], \"active\");\n    } // Show the current tab, and add an \"active\" class to the button that opened the tab\n\n\n    modal.querySelector(\".\" + contentClassName + \"_\" + tabName).style.display = \"block\";\n    this.util.addClass(targetElement, \"active\"); // focus\n\n    if (tabName === \"image\" && this.context.image.focusElement) {\n      this.context.image.focusElement.focus();\n    } else if (tabName === \"url\") {\n      this.context.anchor.caller.image.urlInput.focus();\n    }\n\n    return false;\n  },\n  submit: function submit(e) {\n    var contextImage = this.context.image;\n    var imagePlugin = this.plugins.image;\n    e.preventDefault();\n    e.stopPropagation();\n    contextImage._altText = contextImage.altText.value;\n    contextImage._align = contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"]:checked').value;\n    contextImage._captionChecked = contextImage.captionCheckEl.checked;\n\n    if (contextImage._resizing) {\n      contextImage._proportionChecked = contextImage.proportion.checked;\n    }\n\n    try {\n      if (this.context.dialog.updateModal) {\n        imagePlugin.update_image.call(this, false, true, false);\n      }\n\n      if (contextImage.imgInputFile && contextImage.imgInputFile.files.length > 0) {\n        this.showLoading();\n        imagePlugin.submitAction.call(this, this.context.image.imgInputFile.files);\n      } else if (contextImage.imgUrlFile && contextImage._v_src._linkValue.length > 0) {\n        this.showLoading();\n        imagePlugin.onRender_imgUrl.call(this);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.image.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/image/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.imageUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var imagesInfo = this.context.image._infoList;\n\n      for (var _i = 0, _len = imagesInfo.length; _i < _len; _i++) {\n        infoSize += imagesInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.imageUpload.fail] Size of uploadable total images: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onImageUploadError !== \"function\" || this.functions.onImageUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextImage = this.context.image;\n    contextImage._uploadFileLength = files.length;\n    var anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n    var info = {\n      anchor: anchor,\n      inputWidth: contextImage.inputX.value,\n      inputHeight: contextImage.inputY.value,\n      align: contextImage._align,\n      isUpdate: this.context.dialog.updateModal,\n      element: contextImage._element\n    };\n\n    if (typeof this.functions.onImageUploadBefore === \"function\") {\n      var result = this.functions.onImageUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.image.register.call(this, info, data);\n        } else {\n          this.plugins.image.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (this._w.Array.isArray(result) && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.image.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onImageUploadError !== \"function\" || this.functions.onImageUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.image.error] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.image.error.call(this, files, null);\n      return;\n    }\n\n    var imageUploadUrl = this.options.imageUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n    if (typeof imageUploadUrl === \"string\" && imageUploadUrl.length > 0) {\n      var formData = new FormData();\n\n      for (var i = 0; i < filesLen; i++) {\n        formData.append(\"file-\" + i, files[i]);\n      }\n\n      this.plugins.fileManager.upload.call(this, imageUploadUrl, this.options.imageUploadHeader, formData, this.plugins.image.callBack_imgUpload.bind(this, info), this.functions.onImageUploadError);\n    } else {\n      // base64\n      this.plugins.image.setup_reader.call(this, files, info.anchor, info.inputWidth, info.inputHeight, info.align, filesLen, info.isUpdate);\n    }\n  },\n  callBack_imgUpload: function callBack_imgUpload(info, xmlHttp) {\n    if (typeof this.functions.imageUploadHandler === \"function\") {\n      this.functions.imageUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.image.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.image.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n\n    for (var i = 0, len = fileList.length, file; i < len; i++) {\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n\n      if (info.isUpdate) {\n        this.plugins.image.update_src.call(this, fileList[i].url, info.element, file);\n        break;\n      } else {\n        this.plugins.image.create_image.call(this, fileList[i].url, info.anchor, info.inputWidth, info.inputHeight, info.align, file);\n      }\n    }\n\n    this.closeLoading();\n  },\n  setup_reader: function setup_reader(files, anchor, width, height, align, filesLen, isUpdate) {\n    var _this = this;\n\n    try {\n      (function () {\n        _this.context.image.base64RenderIndex = filesLen;\n        var wFileReader = _this._w.FileReader;\n        var filesStack = [filesLen];\n        _this.context.image.inputX.value = width;\n        _this.context.image.inputY.value = height;\n\n        for (var i = 0, reader, file; i < filesLen; i++) {\n          reader = new wFileReader();\n          file = files[i];\n\n          reader.onload = function (reader, update, updateElement, file, index) {\n            filesStack[index] = {\n              result: reader.result,\n              file: file\n            };\n\n            if (--this.context.image.base64RenderIndex === 0) {\n              this.plugins.image.onRender_imgBase64.call(this, update, filesStack, updateElement, anchor, width, height, align);\n              this.closeLoading();\n            }\n          }.bind(_this, reader, isUpdate, _this.context.image._element, file, i);\n\n          reader.readAsDataURL(file);\n        }\n      })();\n    } catch (e) {\n      this.closeLoading();\n      throw Error('[KothingEditor.image.setup_reader.fail] cause : \"' + e.message + '\"');\n    }\n  },\n  onRender_imgBase64: function onRender_imgBase64(update, filesStack, updateElement, anchor, width, height, align) {\n    var updateMethod = this.plugins.image.update_src;\n    var createMethod = this.plugins.image.create_image;\n\n    for (var i = 0, len = filesStack.length; i < len; i++) {\n      if (update) {\n        this.context.image._element.setAttribute(\"data-file-name\", filesStack[i].file.name);\n\n        this.context.image._element.setAttribute(\"data-file-size\", filesStack[i].file.size);\n\n        updateMethod.call(this, filesStack[i].result, updateElement, filesStack[i].file);\n      } else {\n        createMethod.call(this, filesStack[i].result, anchor, width, height, align, filesStack[i].file);\n      }\n    }\n  },\n  onRender_imgUrl: function onRender_imgUrl() {\n    var contextImage = this.context.image;\n\n    if (contextImage._v_src._linkValue.length === 0) {\n      return false;\n    }\n\n    try {\n      var file = {\n        name: contextImage._v_src._linkValue.split(\"/\").pop(),\n        size: 0\n      };\n\n      if (this.context.dialog.updateModal) {\n        this.plugins.image.update_src.call(this, contextImage._v_src._linkValue, contextImage._element, file);\n      } else {\n        this.plugins.image.create_image.call(this, contextImage._v_src._linkValue, this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true), contextImage.inputX.value, contextImage.inputY.value, contextImage._align, file);\n      }\n    } catch (e) {\n      throw Error('[KothingEditor.image.URLRendering.fail] cause : \"' + e.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  onRender_link: function onRender_link(imgTag, anchor) {\n    if (anchor) {\n      anchor.setAttribute(\"data-image-link\", \"image\");\n      imgTag.setAttribute(\"data-image-link\", anchor.href);\n      anchor.appendChild(imgTag);\n      return anchor;\n    }\n\n    return imgTag;\n  },\n\n  /**\r\n   * @Override resizing\r\n   * @param {String} xy 'x': width, 'y': height\r\n   * @param {KeyboardEvent} e Event object\r\n   */\n  setInputSize: function setInputSize(xy, e) {\n    if (e && e.keyCode === 32) {\n      e.preventDefault();\n      return;\n    }\n\n    this.plugins.resizing._module_setInputSize.call(this, this.context.image, xy);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setRatio: function setRatio() {\n    this.plugins.resizing._module_setRatio.call(this, this.context.image);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    var imagePlugin = this.plugins.image;\n    var contextImage = this.context.image;\n\n    var modifyHandler = function (tag) {\n      imagePlugin.onModifyMode.call(this, tag, null);\n      imagePlugin.openModify.call(this, true); // get size\n\n      contextImage.inputX.value = contextImage._origin_w;\n      contextImage.inputY.value = contextImage._origin_h; // get align\n\n      var format = this.util.getFormatElement(tag);\n\n      if (format) {\n        contextImage._align = format.style.textAlign || format.style.float;\n      } // link\n\n\n      var link = this.util.getParentElement(tag, this.util.isAnchor);\n\n      if (link && !contextImage.anchorCtx.linkValue) {\n        contextImage.anchorCtx.linkValue = \" \";\n      }\n\n      imagePlugin.update_image.call(this, true, false, true);\n    }.bind(this);\n\n    this.plugins.fileManager.checkInfo.call(this, \"image\", [\"img\"], this.functions.onImageUpload, modifyHandler, true);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"image\", this.functions.onImageUpload);\n  },\n  create_image: function create_image(src, anchor, width, height, align, file) {\n    var imagePlugin = this.plugins.image;\n    var contextImage = this.context.image;\n    this.context.resizing._resize_plugin = \"image\";\n    var oImg = this.util.createElement(\"IMG\");\n    oImg.src = src;\n    oImg.alt = contextImage._altText;\n    oImg.setAttribute(\"data-rotate\", \"0\");\n    anchor = imagePlugin.onRender_link.call(this, oImg, anchor);\n\n    if (contextImage._resizing) {\n      oImg.setAttribute(\"data-proportion\", contextImage._proportionChecked);\n    }\n\n    var cover = this.plugins.component.set_cover.call(this, anchor);\n    var container = this.plugins.component.set_container.call(this, cover, \"ke-image-container\"); // caption\n\n    if (contextImage._captionChecked) {\n      contextImage._caption = this.plugins.component.create_caption.call(this);\n\n      contextImage._caption.setAttribute(\"contenteditable\", false);\n\n      cover.appendChild(contextImage._caption);\n    }\n\n    contextImage._element = oImg;\n    contextImage._cover = cover;\n    contextImage._container = container; // set size\n\n    imagePlugin.applySize.call(this, width, height); // align\n\n    imagePlugin.setAlign.call(this, align, oImg, cover, container);\n    oImg.onload = imagePlugin._image_create_onload.bind(this, oImg, contextImage.svgDefaultSize, container);\n\n    if (this.insertComponent(container, true, true, true)) {\n      this.plugins.fileManager.setInfo.call(this, \"image\", oImg, this.functions.onImageUpload, file, true);\n    }\n\n    this.context.resizing._resize_plugin = \"\";\n  },\n  _image_create_onload: function _image_create_onload(oImg, svgDefaultSize, container) {\n    // svg exception handling\n    if (oImg.offsetWidth === 0) {\n      this.plugins.image.applySize.call(this, svgDefaultSize, \"\");\n    }\n\n    if (this.options.mediaAutoSelect) {\n      this.selectComponent(oImg, \"image\");\n    } else {\n      var line = this.appendFormatTag(container, null);\n      this.setRange(line, 0, line, 0);\n    }\n  },\n  update_image: function update_image(init, openController, notHistoryPush) {\n    var contextImage = this.context.image;\n    var imageEl = contextImage._element;\n    var cover = contextImage._cover;\n    var container = contextImage._container;\n    var isNewContainer = false;\n\n    if (cover === null) {\n      isNewContainer = true;\n      imageEl = contextImage._element.cloneNode(true);\n      cover = this.plugins.component.set_cover.call(this, imageEl);\n    }\n\n    if (container === null) {\n      cover = cover.cloneNode(true);\n      imageEl = cover.querySelector(\"img\");\n      isNewContainer = true;\n      container = this.plugins.component.set_container.call(this, cover, \"ke-image-container\");\n    } else if (isNewContainer) {\n      container.innerHTML = \"\";\n      container.appendChild(cover);\n      contextImage._cover = cover;\n      contextImage._element = imageEl;\n      isNewContainer = false;\n    } // check size\n\n\n    var changeSize;\n    var x = this.util.isNumber(contextImage.inputX.value) ? contextImage.inputX.value + contextImage.sizeUnit : contextImage.inputX.value;\n    var y = this.util.isNumber(contextImage.inputY.value) ? contextImage.inputY.value + contextImage.sizeUnit : contextImage.inputY.value;\n\n    if (/%$/.test(imageEl.style.width)) {\n      changeSize = x !== container.style.width || y !== container.style.height;\n    } else {\n      changeSize = x !== imageEl.style.width || y !== imageEl.style.height;\n    } // alt\n\n\n    imageEl.alt = contextImage._altText; // caption\n\n    var modifiedCaption = false;\n\n    if (contextImage._captionChecked) {\n      if (!contextImage._caption) {\n        contextImage._caption = this.plugins.component.create_caption.call(this);\n        cover.appendChild(contextImage._caption);\n        modifiedCaption = true;\n      }\n    } else {\n      if (contextImage._caption) {\n        this.util.removeItem(contextImage._caption);\n        contextImage._caption = null;\n        modifiedCaption = true;\n      }\n    } // link\n\n\n    var anchor = this.plugins.anchor.createAnchor.call(this, contextImage.anchorCtx, true);\n\n    if (anchor) {\n      contextImage._linkElement = contextImage._linkElement === anchor ? anchor.cloneNode(false) : anchor;\n      cover.insertBefore(this.plugins.image.onRender_link.call(this, imageEl, contextImage._linkElement), contextImage._caption);\n    } else if (contextImage._linkElement !== null) {\n      var imageElement = imageEl;\n      imageElement.setAttribute(\"data-image-link\", \"\");\n\n      if (cover.contains(contextImage._linkElement)) {\n        var newEl = imageElement.cloneNode(true);\n        cover.removeChild(contextImage._linkElement);\n        cover.insertBefore(newEl, contextImage._caption);\n        imageEl = newEl;\n      }\n    }\n\n    if (isNewContainer) {\n      var existElement = this.util.isRangeFormatElement(contextImage._element.parentNode) || this.util.isWysiwygDiv(contextImage._element.parentNode) ? contextImage._element : /^A$/i.test(contextImage._element.parentNode.nodeName) ? contextImage._element.parentNode : this.util.getFormatElement(contextImage._element) || contextImage._element;\n\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(contextImage._element); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        if (this.util.isFormatElement(existElement.parentNode)) {\n          var formats = existElement.parentNode;\n          formats.parentNode.insertBefore(container, existElement.previousSibling ? formats.nextElementSibling : formats);\n          this.util.removeItem(existElement);\n        } else {\n          existElement.parentNode.replaceChild(container, existElement);\n        }\n      }\n\n      imageEl = container.querySelector(\"img\");\n      contextImage._element = imageEl;\n      contextImage._cover = cover;\n      contextImage._container = container;\n    } // transform\n\n\n    if (modifiedCaption || !contextImage._onlyPercentage && changeSize) {\n      if (!init && (/\\d+/.test(imageEl.style.height) || this.context.resizing._rotateVertical && contextImage._captionChecked)) {\n        if (/%$/.test(contextImage.inputX.value) || /%$/.test(contextImage.inputY.value)) {\n          this.plugins.resizing.resetTransform.call(this, imageEl);\n        } else {\n          this.plugins.resizing.setTransformSize.call(this, imageEl, this.util.getNumber(contextImage.inputX.value, 0), this.util.getNumber(contextImage.inputY.value, 0));\n        }\n      }\n    } // size\n\n\n    if (contextImage._resizing) {\n      imageEl.setAttribute(\"data-proportion\", contextImage._proportionChecked);\n\n      if (changeSize) {\n        this.plugins.image.applySize.call(this);\n      }\n    } // align\n\n\n    this.plugins.image.setAlign.call(this, null, imageEl, null, null); // set imagesInfo\n\n    if (init) {\n      this.plugins.fileManager.setInfo.call(this, \"image\", imageEl, this.functions.onImageUpload, null, true);\n    }\n\n    if (openController) {\n      this.selectComponent(imageEl, \"image\");\n    } // history stack\n\n\n    if (!notHistoryPush) {\n      this.history.push(false);\n    }\n  },\n  update_src: function update_src(src, element, file) {\n    element.src = src;\n\n    this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this, \"image\", element, this.functions.onImageUpload, file, true));\n\n    this.selectComponent(element, \"image\");\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(element, size) {\n    if (!element) {\n      return;\n    }\n\n    var contextImage = this.context.image;\n    contextImage._linkElement = contextImage.anchorCtx.linkAnchor = /^A$/i.test(element.parentNode.nodeName) ? element.parentNode : null;\n    contextImage._element = element;\n    contextImage._cover = this.util.getParentElement(element, \"FIGURE\");\n    contextImage._container = this.util.getParentElement(element, this.util.isMediaComponent);\n    contextImage._caption = this.util.getChildElement(contextImage._cover, \"FIGCAPTION\");\n    contextImage._align = element.style.float || element.getAttribute(\"data-align\") || \"none\";\n    element.style.float = \"\";\n    this.plugins.anchor.setCtx(contextImage._linkElement, contextImage.anchorCtx);\n\n    if (size) {\n      contextImage._element_w = size.w;\n      contextImage._element_h = size.h;\n      contextImage._element_t = size.t;\n      contextImage._element_l = size.l;\n    }\n\n    var userSize = contextImage._element.getAttribute(\"data-size\") || contextImage._element.getAttribute(\"data-origin\");\n\n    var w, h;\n\n    if (userSize) {\n      userSize = userSize.split(\",\");\n      w = userSize[0];\n      h = userSize[1];\n    } else if (size) {\n      w = size.w;\n      h = size.h;\n    }\n\n    contextImage._origin_w = w || element.style.width || element.width || \"\";\n    contextImage._origin_h = h || element.style.height || element.height || \"\";\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    var contextImage = this.context.image;\n\n    if (contextImage.imgUrlFile) {\n      contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = contextImage._element.src;\n    }\n\n    contextImage._altText = contextImage.altText.value = contextImage._element.alt;\n    contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"][value=\"' + contextImage._align + '\"]').checked = true;\n    contextImage._align = contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"]:checked').value;\n    contextImage._captionChecked = contextImage.captionCheckEl.checked = !!contextImage._caption;\n\n    if (contextImage._resizing) {\n      this.plugins.resizing._module_setModifyInputSize.call(this, contextImage, this.plugins.image);\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"image\", true);\n    }\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  applySize: function applySize(w, h) {\n    var contextImage = this.context.image;\n\n    if (!w) {\n      w = contextImage.inputX.value || this.options.imageWidth;\n    }\n\n    if (!h) {\n      h = contextImage.inputY.value || this.options.imageHeight;\n    }\n\n    if (contextImage._onlyPercentage && !!w || /%$/.test(w)) {\n      this.plugins.image.setPercentSize.call(this, w, h);\n      return true;\n    } else if ((!w || w === \"auto\") && (!h || h === \"auto\")) {\n      this.plugins.image.setAutoSize.call(this);\n    } else {\n      this.plugins.image.setSize.call(this, w, h, false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  sizeRevert: function sizeRevert() {\n    this.plugins.resizing._module_sizeRevert.call(this, this.context.image);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setSize: function setSize(w, h, notResetPercentage, direction) {\n    var contextImage = this.context.image;\n    var onlyW = /^(rw|lw)$/.test(direction);\n    var onlyH = /^(th|bh)$/.test(direction);\n\n    if (!onlyH) {\n      contextImage._element.style.width = this.util.isNumber(w) ? w + contextImage.sizeUnit : w;\n      this.plugins.image.cancelPercentAttr.call(this);\n    }\n\n    if (!onlyW) {\n      contextImage._element.style.height = this.util.isNumber(h) ? h + contextImage.sizeUnit : /%$/.test(h) ? \"\" : h;\n    }\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n\n    if (!notResetPercentage) {\n      contextImage._element.removeAttribute(\"data-percentage\");\n    } // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAutoSize: function setAutoSize() {\n    var contextImage = this.context.image;\n    this.plugins.resizing.resetTransform.call(this, contextImage._element);\n    this.plugins.image.cancelPercentAttr.call(this);\n    contextImage._element.style.maxWidth = \"\";\n    contextImage._element.style.width = \"\";\n    contextImage._element.style.height = \"\";\n    contextImage._cover.style.width = \"\";\n    contextImage._cover.style.height = \"\";\n    this.plugins.image.setAlign.call(this, null, null, null, null);\n\n    contextImage._element.setAttribute(\"data-percentage\", \"auto,auto\"); // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setOriginSize: function setOriginSize() {\n    var contextImage = this.context.image;\n\n    contextImage._element.removeAttribute(\"data-percentage\");\n\n    this.plugins.resizing.resetTransform.call(this, contextImage._element);\n    this.plugins.image.cancelPercentAttr.call(this);\n    var originSize = (contextImage._element.getAttribute(\"data-origin\") || \"\").split(\",\");\n    var w = originSize[0];\n    var h = originSize[1];\n\n    if (originSize) {\n      if (contextImage._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n        this.plugins.image.setPercentSize.call(this, w, h);\n      } else {\n        this.plugins.image.setSize.call(this, w, h);\n      } // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setPercentSize: function setPercentSize(w, h) {\n    var contextImage = this.context.image;\n    h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + \"%\" : h : this.util.isNumber(h) ? h + contextImage.sizeUnit : h || \"\";\n    var heightPercentage = /%$/.test(h);\n    contextImage._container.style.width = this.util.isNumber(w) ? w + \"%\" : w;\n    contextImage._container.style.height = \"\";\n    contextImage._cover.style.width = \"100%\";\n    contextImage._cover.style.height = !heightPercentage ? \"\" : h;\n    contextImage._element.style.width = \"100%\";\n    contextImage._element.style.height = heightPercentage ? \"\" : h;\n    contextImage._element.style.maxWidth = \"\";\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n\n    contextImage._element.setAttribute(\"data-percentage\", w + \",\" + h);\n\n    this.plugins.resizing.setCaptionPosition.call(this, contextImage._element); // save current size\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextImage);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  cancelPercentAttr: function cancelPercentAttr() {\n    var contextImage = this.context.image;\n    contextImage._cover.style.width = \"\";\n    contextImage._cover.style.height = \"\";\n    contextImage._container.style.width = \"\";\n    contextImage._container.style.height = \"\";\n    this.util.removeClass(contextImage._container, this.context.image._floatClassRegExp);\n    this.util.addClass(contextImage._container, \"__ke__float-\" + contextImage._align);\n\n    if (contextImage._align === \"center\") {\n      this.plugins.image.setAlign.call(this, null, null, null, null);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAlign: function setAlign(align, element, cover, container) {\n    var contextImage = this.context.image;\n\n    if (!align) {\n      align = contextImage._align;\n    }\n\n    if (!element) {\n      element = contextImage._element;\n    }\n\n    if (!cover) {\n      cover = contextImage._cover;\n    }\n\n    if (!container) {\n      container = contextImage._container;\n    }\n\n    if (align && align !== \"none\") {\n      cover.style.margin = \"auto\";\n    } else {\n      cover.style.margin = \"0\";\n    }\n\n    if (/%$/.test(element.style.width) && align === \"center\") {\n      container.style.minWidth = \"100%\";\n      cover.style.width = container.style.width;\n    } else {\n      container.style.minWidth = \"\";\n      cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : !element.style.width || element.style.width === \"auto\" ? \"\" : element.style.width || \"100%\";\n    }\n\n    if (!this.util.hasClass(container, \"__ke__float-\" + align)) {\n      this.util.removeClass(container, contextImage._floatClassRegExp);\n      this.util.addClass(container, \"__ke__float-\" + align);\n    }\n\n    element.setAttribute(\"data-align\", align);\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    var contextImage = this.context.image;\n\n    if (contextImage.imgInputFile) {\n      contextImage.imgInputFile.value = \"\";\n    }\n\n    if (contextImage.imgUrlFile) {\n      contextImage._v_src._linkValue = contextImage.previewSrc.textContent = contextImage.imgUrlFile.value = \"\";\n    }\n\n    if (contextImage.imgInputFile && contextImage.imgUrlFile) {\n      contextImage.imgUrlFile.removeAttribute(\"disabled\");\n      contextImage.previewSrc.style.textDecoration = \"\";\n    }\n\n    contextImage.altText.value = \"\";\n    contextImage.modal.querySelector('input[name=\"kothingEditor_image_radio\"][value=\"none\"]').checked = true;\n    contextImage.captionCheckEl.checked = false;\n    contextImage._element = null;\n    this.plugins.image.openTab.call(this, \"init\");\n\n    if (contextImage._resizing) {\n      contextImage.inputX.value = this.options.imageWidth === contextImage._defaultSizeX ? \"\" : this.options.imageWidth;\n      contextImage.inputY.value = this.options.imageHeight === contextImage._defaultSizeY ? \"\" : this.options.imageHeight;\n      contextImage.proportion.checked = true;\n      contextImage._ratio = false;\n      contextImage._ratioX = 1;\n      contextImage._ratioY = 1;\n    }\n\n    this.plugins.anchor.init.call(this, contextImage.anchorCtx);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _resizing = _interopRequireDefault(require(\"../modules/resizing\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  name: \"video\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _component.default, _resizing.default, _fileManager.default]);\n    var options = core.options;\n    var context = core.context;\n    var contextVideo = context.video = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      sizeUnit: options._videoSizeUnit,\n      _align: \"none\",\n      _floatClassRegExp: \"__ke__float\\\\-[a-z]+\",\n      _youtubeQuery: options.youtubeQuery,\n      _videoRatio: options.videoRatio * 100 + \"%\",\n      _defaultRatio: options.videoRatio * 100 + \"%\",\n      _linkValue: \"\",\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null,\n      // @Override resizing properties\n      inputX: null,\n      inputY: null,\n      _element_w: 1,\n      _element_h: 1,\n      _element_l: 0,\n      _element_t: 0,\n      _defaultSizeX: \"100%\",\n      _defaultSizeY: options.videoRatio * 100 + \"%\",\n      _origin_w: options.videoWidth === \"100%\" ? \"\" : options.videoWidth,\n      _origin_h: options.videoHeight === \"56.25%\" ? \"\" : options.videoHeight,\n      _proportionChecked: true,\n      _resizing: options.videoResizing,\n      _resizeDotHide: !options.videoHeightShow,\n      _rotation: options.videoRotation,\n      _onlyPercentage: options.videoSizeOnlyPercentage,\n      _ratio: false,\n      _ratioX: 1,\n      _ratioY: 1,\n      _captionShow: false\n    };\n    /** video dialog */\n\n    var video_dialog = this.setDialog(core);\n    contextVideo.modal = video_dialog;\n    contextVideo.videoInputFile = video_dialog.querySelector(\"._ke_video_file\");\n    contextVideo.videoUrlFile = video_dialog.querySelector(\".ke-input-url\");\n    contextVideo.focusElement = contextVideo.videoUrlFile || contextVideo.videoInputFile;\n    contextVideo.preview = video_dialog.querySelector(\".ke-link-preview\");\n    /** add event listeners */\n\n    video_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextVideo.videoInputFile) {\n      video_dialog.querySelector(\".ke-dialog-files-edge-button\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextVideo.videoInputFile, contextVideo.videoUrlFile, contextVideo.preview));\n    }\n\n    if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n      contextVideo.videoInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextVideo));\n    }\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo.videoUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextVideo.preview, contextVideo, options.linkProtocol));\n    }\n\n    contextVideo.proportion = {};\n    contextVideo.videoRatioOption = {};\n    contextVideo.inputX = {};\n    contextVideo.inputY = {};\n\n    if (options.videoResizing) {\n      contextVideo.proportion = video_dialog.querySelector(\"._ke_video_check_proportion\");\n      contextVideo.videoRatioOption = video_dialog.querySelector(\".ke-video-ratio\");\n      contextVideo.inputX = video_dialog.querySelector(\"._ke_video_size_x\");\n      contextVideo.inputY = video_dialog.querySelector(\"._ke_video_size_y\");\n      contextVideo.inputX.value = options.videoWidth;\n      contextVideo.inputY.value = options.videoHeight;\n      contextVideo.inputX.addEventListener(\"keyup\", this.setInputSize.bind(core, \"x\"));\n      contextVideo.inputY.addEventListener(\"keyup\", this.setInputSize.bind(core, \"y\"));\n      contextVideo.inputX.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.inputY.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.proportion.addEventListener(\"change\", this.setRatio.bind(core));\n      contextVideo.videoRatioOption.addEventListener(\"change\", this.setVideoRatio.bind(core));\n      video_dialog.querySelector(\".ke-dialog-btn-revert\").addEventListener(\"click\", this.sizeRevert.bind(core));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(video_dialog);\n    /** empty memory */\n\n    video_dialog = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.videoBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">';\n\n    if (option.videoFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.videoBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_video_file\" type=\"file\" accept=\"' + option.videoAccept + '\"' + (option.videoMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" data-command=\"filesRemove\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.videoUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.videoBox.url + \"</label>\" + '<input class=\"ke-input-form ke-input-url\" type=\"text\" />' + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    if (option.videoResizing) {\n      var ratioList = option.videoRatioList || [{\n        name: \"16:9\",\n        value: 0.5625\n      }, {\n        name: \"4:3\",\n        value: 0.75\n      }, {\n        name: \"21:9\",\n        value: 0.4285\n      }];\n      var ratio = option.videoRatio;\n      var onlyPercentage = option.videoSizeOnlyPercentage;\n      var onlyPercentDisplay = onlyPercentage ? ' style=\"display: none !important;\"' : \"\";\n      var heightDisplay = !option.videoHeightShow ? ' style=\"display: none !important;\"' : \"\";\n      var ratioDisplay = !option.videoRatioShow ? ' style=\"display: none !important;\"' : \"\";\n      var onlyWidthDisplay = !onlyPercentage && !option.videoHeightShow && !option.videoRatioShow ? ' style=\"display: none !important;\"' : \"\";\n      html += \"\" + '<div class=\"ke-dialog-form\">' + '<div class=\"ke-dialog-size-text\">' + '<label class=\"size-w\">' + lang.dialogBox.width + \"</label>\" + '<label class=\"ke-dialog-size-x\">&nbsp;</label>' + '<label class=\"size-h\"' + heightDisplay + \">\" + lang.dialogBox.height + \"</label>\" + '<label class=\"size-h\"' + ratioDisplay + \">(\" + lang.dialogBox.ratio + \")</label>\" + \"</div>\" + '<input class=\"ke-input-control _ke_video_size_x\" placeholder=\"100%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + \"/>\" + '<label class=\"ke-dialog-size-x\"' + onlyWidthDisplay + \">\" + (onlyPercentage ? \"%\" : \"x\") + \"</label>\" + '<input class=\"ke-input-control _ke_video_size_y\" placeholder=\"' + option.videoRatio * 100 + '%\"' + (onlyPercentage ? ' type=\"number\" min=\"1\"' : 'type=\"text\"') + (onlyPercentage ? ' max=\"100\"' : \"\") + heightDisplay + \"/>\" + '<select class=\"ke-input-select ke-video-ratio\" title=\"' + lang.dialogBox.ratio + '\"' + ratioDisplay + \">\";\n\n      if (!heightDisplay) {\n        html += '<option value=\"\"> - </option>';\n      }\n\n      for (var i = 0, len = ratioList.length; i < len; i++) {\n        html += '<option value=\"' + ratioList[i].value + '\"' + (ratio.toString() === ratioList[i].value.toString() ? \" selected\" : \"\") + \">\" + ratioList[i].name + \"</option>\";\n      }\n\n      html += \"</select>\" + '<button type=\"button\" title=\"' + lang.dialogBox.revertButton + '\" class=\"ke-btn ke-dialog-btn-revert\" style=\"float: right;\">' + core.icons.revert + \"</button>\" + \"</div>\" + '<div class=\"ke-dialog-form ke-dialog-form-footer\"' + onlyPercentDisplay + onlyWidthDisplay + \">\" + '<label><input type=\"checkbox\" class=\"ke-dialog-btn-check _ke_video_check_proportion\" checked/>&nbsp;' + lang.dialogBox.proportion + \"</label>\" + \"</div>\";\n    }\n\n    html += \"\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + \"<div>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"none\" checked>' + lang.dialogBox.basic + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"left\">' + lang.dialogBox.left + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"center\">' + lang.dialogBox.center + \"</label>\" + '<label><input type=\"radio\" name=\"kothingEditor_video_radio\" class=\"ke-dialog-btn-radio\" value=\"right\">' + lang.dialogBox.right + \"</label>\" + \"</div>\" + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n  _fileInputChange: function _fileInputChange() {\n    if (!this.videoInputFile.value) {\n      this.videoUrlFile.removeAttribute(\"disabled\");\n      this.preview.style.textDecoration = \"\";\n    } else {\n      this.videoUrlFile.setAttribute(\"disabled\", true);\n      this.preview.style.textDecoration = \"line-through\";\n    }\n  },\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, preview) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      preview.style.textDecoration = \"\";\n    }\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n\n    if (/^<iframe.*\\/iframe>$/.test(value)) {\n      context._linkValue = value;\n      this.textContent = '<IFrame :src=\"..\"></IFrame>';\n    } else {\n      context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n    }\n  },\n  _setTagAttrs: function _setTagAttrs(element) {\n    element.setAttribute(\"controls\", true);\n    var attrs = this.options.videoTagAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  createVideoTag: function createVideoTag() {\n    var videoTag = this.util.createElement(\"VIDEO\");\n\n    this.plugins.video._setTagAttrs.call(this, videoTag);\n\n    return videoTag;\n  },\n  _setIframeAttrs: function _setIframeAttrs(element) {\n    element.frameBorder = \"0\";\n    element.allowFullscreen = true;\n    var attrs = this.options.videoIframeAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  createIframeTag: function createIframeTag() {\n    var iframeTag = this.util.createElement(\"IFRAME\");\n\n    this.plugins.video._setIframeAttrs.call(this, iframeTag);\n\n    return iframeTag;\n  },\n\n  /**\r\n   * @Override @Required fileManager\r\n   */\n  fileTags: [\"iframe\", \"video\"],\n\n  /**\r\n   * @Override core, resizing, fileManager\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.video.onModifyMode.call(this, element, this.plugins.resizing.call_controller_resize.call(this, element, \"video\"));\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    var frame = element || this.context.video._element;\n    var container = this.context.video._container;\n    var dataIndex = frame.getAttribute(\"data-index\") * 1;\n    var focusEl = container.previousElementSibling || container.nextElementSibling;\n    var emptyDiv = container.parentNode;\n    this.util.removeItem(container);\n    this.plugins.video.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"video\", dataIndex, this.functions.onVideoUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextVideo = this.context.video;\n\n    if (!update) {\n      contextVideo.inputX.value = contextVideo._origin_w = this.options.videoWidth === contextVideo._defaultSizeX ? \"\" : this.options.videoWidth;\n      contextVideo.inputY.value = contextVideo._origin_h = this.options.videoHeight === contextVideo._defaultSizeY ? \"\" : this.options.videoHeight;\n      contextVideo.proportion.disabled = true;\n\n      if (contextVideo.videoInputFile && this.options.videoMultipleFile) {\n        contextVideo.videoInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else {\n      if (contextVideo.videoInputFile && this.options.videoMultipleFile) {\n        contextVideo.videoInputFile.removeAttribute(\"multiple\");\n      }\n    }\n\n    if (contextVideo._resizing) {\n      this.plugins.video.setVideoRatioSelect.call(this, contextVideo._origin_h || contextVideo._defaultRatio);\n    }\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"video\", \"video\" === this.currentControllerName);\n  },\n  setVideoRatio: function setVideoRatio(e) {\n    var contextVideo = this.context.video;\n    var value = e.target.options[e.target.selectedIndex].value;\n    contextVideo._defaultSizeY = contextVideo._videoRatio = !value ? contextVideo._defaultSizeY : value * 100 + \"%\";\n    contextVideo.inputY.placeholder = !value ? \"\" : value * 100 + \"%\";\n    contextVideo.inputY.value = \"\";\n  },\n\n  /**\r\n   * @Override resizing\r\n   * @param {String} xy 'x': width, 'y': height\r\n   * @param {KeyboardEvent} e Event object\r\n   */\n  setInputSize: function setInputSize(xy, e) {\n    if (e && e.keyCode === 32) {\n      e.preventDefault();\n      return;\n    }\n\n    var contextVideo = this.context.video;\n\n    this.plugins.resizing._module_setInputSize.call(this, contextVideo, xy);\n\n    if (xy === \"y\") {\n      this.plugins.video.setVideoRatioSelect.call(this, e.target.value || contextVideo._defaultRatio);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setRatio: function setRatio() {\n    this.plugins.resizing._module_setRatio.call(this, this.context.video);\n  },\n  submit: function submit(e) {\n    var contextVideo = this.context.video;\n    var videoPlugin = this.plugins.video;\n    e.preventDefault();\n    e.stopPropagation();\n    contextVideo._align = contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"]:checked').value;\n\n    try {\n      if (contextVideo.videoInputFile && contextVideo.videoInputFile.files.length > 0) {\n        this.showLoading();\n        videoPlugin.submitAction.call(this, this.context.video.videoInputFile.files);\n      } else if (contextVideo.videoUrlFile && contextVideo._linkValue.length > 0) {\n        this.showLoading();\n        videoPlugin.setup_url.call(this);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.video.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/video/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.videoUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var videosInfo = this.context.video._infoList;\n\n      for (var _i = 0, _len = videosInfo.length; _i < _len; _i++) {\n        infoSize += videosInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.videoUpload.fail] Size of uploadable total videos: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onVideoUploadError !== \"function\" || this.functions.onVideoUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextVideo = this.context.video;\n    contextVideo._uploadFileLength = files.length;\n    var info = {\n      inputWidth: contextVideo.inputX.value,\n      inputHeight: contextVideo.inputY.value,\n      align: contextVideo._align,\n      isUpdate: this.context.dialog.updateModal,\n      element: contextVideo._element\n    };\n\n    if (typeof this.functions.onVideoUploadBefore === \"function\") {\n      var result = this.functions.onVideoUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.video.register.call(this, info, data);\n        } else {\n          this.plugins.video.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (_typeof(result) === \"object\" && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.video.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onVideoUploadError !== \"function\" || this.functions.onVideoUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.video.error] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.video.error.call(this, files, null);\n      return;\n    }\n\n    var videoUploadUrl = this.options.videoUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // server upload\n\n    if (typeof videoUploadUrl === \"string\" && videoUploadUrl.length > 0) {\n      var formData = new FormData();\n\n      for (var i = 0; i < filesLen; i++) {\n        formData.append(\"file-\" + i, files[i]);\n      }\n\n      this.plugins.fileManager.upload.call(this, videoUploadUrl, this.options.videoUploadHeader, formData, this.plugins.video.callBack_videoUpload.bind(this, info), this.functions.onVideoUploadError);\n    } else {\n      throw Error('[KothingEditor.videoUpload.fail] cause : There is no \"videoUploadUrl\" option.');\n    }\n  },\n  callBack_videoUpload: function callBack_videoUpload(info, xmlHttp) {\n    if (typeof this.functions.videoUploadHandler === \"function\") {\n      this.functions.videoUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.video.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.video.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n    var videoTag = this.plugins.video.createVideoTag.call(this);\n\n    for (var i = 0, len = fileList.length, file; i < len; i++) {\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n      this.plugins.video.create_video.call(this, info.isUpdate ? info.element : videoTag.cloneNode(false), fileList[i].url, info.inputWidth, info.inputHeight, info.align, file, info.isUpdate);\n    }\n\n    this.closeLoading();\n  },\n  setup_url: function setup_url() {\n    try {\n      var contextVideo = this.context.video;\n      var url = contextVideo._linkValue;\n\n      if (url.length === 0) {\n        return false;\n      }\n      /** iframe source */\n\n\n      if (/^<iframe.*\\/iframe>$/.test(url)) {\n        var oIframe = new this._w.DOMParser().parseFromString(url, \"text/html\").querySelector(\"iframe\");\n        url = oIframe.src;\n\n        if (url.length === 0) {\n          return false;\n        }\n      }\n      /** youtube */\n\n\n      if (/youtu\\.?be/.test(url)) {\n        if (!/^http/.test(url)) {\n          url = \"https://\" + url;\n        }\n\n        url = url.replace(\"watch?v=\", \"\");\n\n        if (!/^\\/\\/.+\\/embed\\//.test(url)) {\n          url = url.replace(url.match(/\\/\\/.+\\//)[0], \"//www.youtube.com/embed/\").replace(\"&\", \"?&\");\n        }\n\n        if (contextVideo._youtubeQuery.length > 0) {\n          if (/\\?/.test(url)) {\n            var splitUrl = url.split(\"?\");\n            url = splitUrl[0] + \"?\" + contextVideo._youtubeQuery + \"&\" + splitUrl[1];\n          } else {\n            url += \"?\" + contextVideo._youtubeQuery;\n          }\n        }\n      } else if (/vimeo\\.com/.test(url)) {\n        if (url.endsWith(\"/\")) {\n          url = url.slice(0, -1);\n        }\n\n        url = \"https://player.vimeo.com/video/\" + url.slice(url.lastIndexOf(\"/\") + 1);\n      }\n\n      this.plugins.video.create_video.call(this, this.plugins.video.createIframeTag.call(this), url, contextVideo.inputX.value, contextVideo.inputY.value, contextVideo._align, null, this.context.dialog.updateModal);\n    } catch (error) {\n      throw Error('[KothingEditor.video.upload.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  create_video: function create_video(oFrame, src, width, height, align, file, isUpdate) {\n    this.context.resizing._resize_plugin = \"video\";\n    var contextVideo = this.context.video;\n    var cover = null;\n    var container = null;\n    var init = false;\n    /** update */\n\n    if (isUpdate) {\n      oFrame = contextVideo._element;\n\n      if (oFrame.src !== src) {\n        init = true;\n        var isYoutube = /youtu\\.?be/.test(src);\n        var isVimeo = /vimeo\\.com/.test(src);\n\n        if ((isYoutube || isVimeo) && !/^iframe$/i.test(oFrame.nodeName)) {\n          var newTag = this.plugins.video.createIframeTag.call(this);\n          newTag.src = src;\n          oFrame.parentNode.replaceChild(newTag, oFrame);\n          contextVideo._element = oFrame = newTag;\n        } else if (!isYoutube && !isVimeo && !/^videoo$/i.test(oFrame.nodeName)) {\n          var _newTag = this.plugins.video.createVideoTag.call(this);\n\n          _newTag.src = src;\n          oFrame.parentNode.replaceChild(_newTag, oFrame);\n          contextVideo._element = oFrame = _newTag;\n        } else {\n          oFrame.src = src;\n        }\n      }\n\n      container = contextVideo._container;\n      cover = this.util.getParentElement(oFrame, \"FIGURE\");\n    } else {\n      /** create */\n      init = true;\n      oFrame.src = src;\n      contextVideo._element = oFrame;\n      cover = this.plugins.component.set_cover.call(this, oFrame);\n      container = this.plugins.component.set_container.call(this, cover, \"ke-video-container\");\n    }\n    /** rendering */\n\n\n    contextVideo._cover = cover;\n    contextVideo._container = container;\n\n    var inputUpdate = this.plugins.resizing._module_getSizeX.call(this, contextVideo) !== (width || contextVideo._defaultSizeX) || this.plugins.resizing._module_getSizeY.call(this, contextVideo) !== (height || contextVideo._videoRatio);\n\n    var changeSize = !isUpdate || inputUpdate;\n\n    if (contextVideo._resizing) {\n      this.context.video._proportionChecked = contextVideo.proportion.checked;\n      oFrame.setAttribute(\"data-proportion\", contextVideo._proportionChecked);\n    } // size\n\n\n    var isPercent = false;\n\n    if (changeSize) {\n      isPercent = this.plugins.video.applySize.call(this);\n    } // align\n\n\n    if (!(isPercent && align === \"center\")) {\n      this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n    }\n\n    var changed = true;\n\n    if (!isUpdate) {\n      changed = this.insertComponent(container, false, true, !this.options.mediaAutoSelect);\n\n      if (!this.options.mediaAutoSelect) {\n        var line = this.appendFormatTag(container, null);\n        this.setRange(line, 0, line, 0);\n      }\n    } else if (contextVideo._resizing && this.context.resizing._rotateVertical && changeSize) {\n      this.plugins.resizing.setTransformSize.call(this, oFrame, null, null);\n    }\n\n    if (changed) {\n      if (init) {\n        this.plugins.fileManager.setInfo.call(this, \"video\", oFrame, this.functions.onVideoUpload, file, true);\n      }\n\n      if (isUpdate) {\n        this.selectComponent(oFrame, \"video\"); // history stack\n\n        this.history.push(false);\n      }\n    }\n\n    this.context.resizing._resize_plugin = \"\";\n  },\n  _update_videoCover: function _update_videoCover(oFrame) {\n    if (!oFrame) {\n      return;\n    }\n\n    var contextVideo = this.context.video;\n\n    if (/^video$/i.test(oFrame.nodeName)) {\n      this.plugins.video._setTagAttrs.call(this, oFrame);\n    } else {\n      this.plugins.video._setIframeAttrs.call(this, oFrame);\n    }\n\n    var existElement = this.util.getParentElement(oFrame, this.util.isMediaComponent) || this.util.getParentElement(oFrame, function (current) {\n      return this.isWysiwygDiv(current.parentNode);\n    }.bind(this.util));\n    var prevFrame = oFrame;\n    contextVideo._element = oFrame = oFrame.cloneNode(true);\n    var cover = contextVideo._cover = this.plugins.component.set_cover.call(this, oFrame);\n    var container = contextVideo._container = this.plugins.component.set_container.call(this, cover, \"ke-video-container\");\n\n    try {\n      var figcaption = existElement.querySelector(\"figcaption\");\n      var caption = null;\n\n      if (figcaption) {\n        caption = this.util.createElement(\"DIV\");\n        caption.innerHTML = figcaption.innerHTML;\n        this.util.removeItem(figcaption);\n      } // size\n\n\n      var size = (oFrame.getAttribute(\"data-size\") || oFrame.getAttribute(\"data-origin\") || \"\").split(\",\");\n      this.plugins.video.applySize.call(this, size[0] || prevFrame.style.width || prevFrame.width || \"\", size[1] || prevFrame.style.height || prevFrame.height || \"\"); // align\n\n      var format = this.util.getFormatElement(prevFrame);\n\n      if (format) {\n        contextVideo._align = format.style.textAlign || format.style.float;\n      }\n\n      this.plugins.video.setAlign.call(this, null, oFrame, cover, container);\n\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(prevFrame); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        existElement.parentNode.replaceChild(container, existElement);\n      }\n\n      if (caption) {\n        existElement.parentNode.insertBefore(caption, container.nextElementSibling);\n      }\n    } catch (error) {\n      console.warn(\"[KothingEditor.video.error] Maybe the video tag is nested.\", error);\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"video\", oFrame, this.functions.onVideoUpload, null, true);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(element, size) {\n    var contextVideo = this.context.video;\n    contextVideo._element = element;\n    contextVideo._cover = this.util.getParentElement(element, \"FIGURE\");\n    contextVideo._container = this.util.getParentElement(element, this.util.isMediaComponent);\n    contextVideo._align = element.style.float || element.getAttribute(\"data-align\") || \"none\";\n    element.style.float = \"\";\n\n    if (size) {\n      contextVideo._element_w = size.w;\n      contextVideo._element_h = size.h;\n      contextVideo._element_t = size.t;\n      contextVideo._element_l = size.l;\n    }\n\n    var origin = contextVideo._element.getAttribute(\"data-size\") || contextVideo._element.getAttribute(\"data-origin\");\n\n    var w, h;\n\n    if (origin) {\n      origin = origin.split(\",\");\n      w = origin[0];\n      h = origin[1];\n    } else if (size) {\n      w = size.w;\n      h = size.h;\n    }\n\n    contextVideo._origin_w = w || element.style.width || element.width || \"\";\n    contextVideo._origin_h = h || element.style.height || element.height || \"\";\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    var contextVideo = this.context.video;\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = contextVideo._element.src || (contextVideo._element.querySelector(\"source\") || \"\").src || \"\";\n    }\n\n    contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"][value=\"' + contextVideo._align + '\"]').checked = true;\n\n    if (contextVideo._resizing) {\n      this.plugins.resizing._module_setModifyInputSize.call(this, contextVideo, this.plugins.video);\n\n      var y = contextVideo._videoRatio = this.plugins.resizing._module_getSizeY.call(this, contextVideo);\n\n      var ratioSelected = this.plugins.video.setVideoRatioSelect.call(this, y);\n\n      if (!ratioSelected) {\n        contextVideo.inputY.value = contextVideo._onlyPercentage ? this.util.getNumber(y, 2) : y;\n      }\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"video\", true);\n    }\n  },\n  setVideoRatioSelect: function setVideoRatioSelect(value) {\n    var ratioSelected = false;\n    var contextVideo = this.context.video;\n    var ratioOptions = contextVideo.videoRatioOption.options;\n\n    if (/%$/.test(value) || contextVideo._onlyPercentage) {\n      value = this.util.getNumber(value, 2) / 100 + \"\";\n    } else if (!this.util.isNumber(value) || value * 1 >= 1) {\n      value = \"\";\n    }\n\n    contextVideo.inputY.placeholder = \"\";\n\n    for (var i = 0, len = ratioOptions.length; i < len; i++) {\n      if (ratioOptions[i].value === value) {\n        ratioSelected = ratioOptions[i].selected = true;\n        contextVideo.inputY.placeholder = !value ? \"\" : value * 100 + \"%\";\n      } else {\n        ratioOptions[i].selected = false;\n      }\n    }\n\n    return ratioSelected;\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    this.plugins.fileManager.checkInfo.call(this, \"video\", [\"iframe\", \"video\"], this.functions.onVideoUpload, this.plugins.video._update_videoCover.bind(this), true);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"video\", this.functions.onVideoUpload);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  applySize: function applySize(w, h) {\n    var contextVideo = this.context.video;\n\n    if (!w) {\n      w = contextVideo.inputX.value || this.options.videoWidth;\n    }\n\n    if (!h) {\n      h = contextVideo.inputY.value || this.options.videoHeight;\n    }\n\n    if (contextVideo._onlyPercentage || /%$/.test(w) || !w) {\n      this.plugins.video.setPercentSize.call(this, w || \"100%\", h || (/%$/.test(contextVideo._videoRatio) ? contextVideo._videoRatio : contextVideo._defaultRatio));\n      return true;\n    } else if ((!w || w === \"auto\") && (!h || h === \"auto\")) {\n      this.plugins.video.setAutoSize.call(this);\n    } else {\n      this.plugins.video.setSize.call(this, w, h || contextVideo._videoRatio || contextVideo._defaultRatio, false);\n    }\n\n    return false;\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  sizeRevert: function sizeRevert() {\n    this.plugins.resizing._module_sizeRevert.call(this, this.context.video);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setSize: function setSize(w, h, notResetPercentage, direction) {\n    var contextVideo = this.context.video;\n    var onlyW = /^(rw|lw)$/.test(direction);\n    var onlyH = /^(th|bh)$/.test(direction);\n\n    if (!onlyH) {\n      w = this.util.getNumber(w, 0);\n    }\n\n    if (!onlyW) {\n      h = this.util.isNumber(h) ? h + contextVideo.sizeUnit : !h ? \"\" : h;\n    }\n\n    if (!onlyH) {\n      contextVideo._element.style.width = w ? w + contextVideo.sizeUnit : \"\";\n    }\n\n    if (!onlyW) {\n      contextVideo._cover.style.paddingBottom = contextVideo._cover.style.height = h;\n    }\n\n    if (!onlyH && !/%$/.test(w)) {\n      contextVideo._cover.style.width = \"\";\n      contextVideo._container.style.width = \"\";\n    }\n\n    if (!onlyW && !/%$/.test(h)) {\n      contextVideo._element.style.height = h;\n    } else {\n      contextVideo._element.style.height = \"\";\n    }\n\n    if (!notResetPercentage) {\n      contextVideo._element.removeAttribute(\"data-percentage\");\n    } // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAutoSize: function setAutoSize() {\n    this.plugins.video.setPercentSize.call(this, 100, this.context.video._defaultRatio);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setOriginSize: function setOriginSize(dataSize) {\n    var contextVideo = this.context.video;\n\n    contextVideo._element.removeAttribute(\"data-percentage\");\n\n    this.plugins.resizing.resetTransform.call(this, contextVideo._element);\n    this.plugins.video.cancelPercentAttr.call(this);\n    var originSize = ((dataSize ? contextVideo._element.getAttribute(\"data-size\") : \"\") || contextVideo._element.getAttribute(\"data-origin\") || \"\").split(\",\");\n\n    if (originSize) {\n      var w = originSize[0];\n      var h = originSize[1];\n\n      if (contextVideo._onlyPercentage || /%$/.test(w) && (/%$/.test(h) || !/\\d/.test(h))) {\n        this.plugins.video.setPercentSize.call(this, w, h);\n      } else {\n        this.plugins.video.setSize.call(this, w, h);\n      } // save current size\n\n\n      this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setPercentSize: function setPercentSize(w, h) {\n    var contextVideo = this.context.video;\n    h = !!h && !/%$/.test(h) && !this.util.getNumber(h, 0) ? this.util.isNumber(h) ? h + \"%\" : h : this.util.isNumber(h) ? h + contextVideo.sizeUnit : h || contextVideo._defaultRatio;\n    contextVideo._container.style.width = this.util.isNumber(w) ? w + \"%\" : w;\n    contextVideo._container.style.height = \"\";\n    contextVideo._cover.style.width = \"100%\";\n    contextVideo._cover.style.height = h;\n    contextVideo._cover.style.paddingBottom = h;\n    contextVideo._element.style.width = \"100%\";\n    contextVideo._element.style.height = \"100%\";\n    contextVideo._element.style.maxWidth = \"\";\n\n    if (contextVideo._align === \"center\") {\n      this.plugins.video.setAlign.call(this, null, null, null, null);\n    }\n\n    contextVideo._element.setAttribute(\"data-percentage\", w + \",\" + h); // save current size\n\n\n    this.plugins.resizing._module_saveCurrentSize.call(this, contextVideo);\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  cancelPercentAttr: function cancelPercentAttr() {\n    var contextVideo = this.context.video;\n    contextVideo._cover.style.width = \"\";\n    contextVideo._cover.style.height = \"\";\n    contextVideo._cover.style.paddingBottom = \"\";\n    contextVideo._container.style.width = \"\";\n    contextVideo._container.style.height = \"\";\n    this.util.removeClass(contextVideo._container, this.context.video._floatClassRegExp);\n    this.util.addClass(contextVideo._container, \"__ke__float-\" + contextVideo._align);\n\n    if (contextVideo._align === \"center\") {\n      this.plugins.video.setAlign.call(this, null, null, null, null);\n    }\n  },\n\n  /**\r\n   * @Override resizing\r\n   */\n  setAlign: function setAlign(align, element, cover, container) {\n    var contextVideo = this.context.video;\n\n    if (!align) {\n      align = contextVideo._align;\n    }\n\n    if (!element) {\n      element = contextVideo._element;\n    }\n\n    if (!cover) {\n      cover = contextVideo._cover;\n    }\n\n    if (!container) {\n      container = contextVideo._container;\n    }\n\n    if (align && align !== \"none\") {\n      cover.style.margin = \"auto\";\n    } else {\n      cover.style.margin = \"0\";\n    }\n\n    if (/%$/.test(element.style.width) && align === \"center\") {\n      container.style.minWidth = \"100%\";\n      cover.style.width = container.style.width;\n      cover.style.height = container.style.height;\n      cover.style.paddingBottom = !/%$/.test(cover.style.height) ? cover.style.height : this.util.getNumber(this.util.getNumber(cover.style.height, 2) / 100 * this.util.getNumber(cover.style.width, 2), 2) + \"%\";\n    } else {\n      container.style.minWidth = \"\";\n      cover.style.width = this.context.resizing._rotateVertical ? element.style.height || element.offsetHeight : element.style.width || \"100%\";\n      cover.style.paddingBottom = cover.style.height;\n    }\n\n    if (!this.util.hasClass(container, \"__ke__float-\" + align)) {\n      this.util.removeClass(container, contextVideo._floatClassRegExp);\n      this.util.addClass(container, \"__ke__float-\" + align);\n    }\n\n    element.setAttribute(\"data-align\", align);\n  },\n\n  /**\r\n   * @Override dialog\r\n   */\n  init: function init() {\n    var contextVideo = this.context.video;\n\n    if (contextVideo.videoInputFile) {\n      contextVideo.videoInputFile.value = \"\";\n    }\n\n    if (contextVideo.videoUrlFile) {\n      contextVideo._linkValue = contextVideo.preview.textContent = contextVideo.videoUrlFile.value = \"\";\n    }\n\n    if (contextVideo.videoInputFile && contextVideo.videoUrlFile) {\n      contextVideo.videoUrlFile.removeAttribute(\"disabled\");\n      contextVideo.preview.style.textDecoration = \"\";\n    }\n\n    contextVideo._origin_w = this.options.videoWidth;\n    contextVideo._origin_h = this.options.videoHeight;\n    contextVideo.modal.querySelector('input[name=\"kothingEditor_video_radio\"][value=\"none\"]').checked = true;\n\n    if (contextVideo._resizing) {\n      contextVideo.inputX.value = this.options.videoWidth === contextVideo._defaultSizeX ? \"\" : this.options.videoWidth;\n      contextVideo.inputY.value = this.options.videoHeight === contextVideo._defaultSizeY ? \"\" : this.options.videoHeight;\n      contextVideo.proportion.checked = true;\n      contextVideo.proportion.disabled = true;\n      this.plugins.video.setVideoRatioSelect.call(this, contextVideo._defaultRatio);\n    }\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nvar _component = _interopRequireDefault(require(\"../modules/component\"));\n\nvar _fileManager = _interopRequireDefault(require(\"../modules/fileManager\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar _default = {\n  name: \"audio\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default, _component.default, _fileManager.default]);\n    var context = core.context;\n    var contextAudio = context.audio = {\n      _infoList: [],\n      // @Override fileManager\n      _infoIndex: 0,\n      // @Override fileManager\n      _uploadFileLength: 0,\n      // @Override fileManager\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      targetSelect: null,\n      _origin_w: core.options.audioWidth,\n      _origin_h: core.options.audioHeight,\n      _linkValue: \"\",\n      // @require @Override component\n      _element: null,\n      _cover: null,\n      _container: null\n    };\n    /** dialog */\n\n    var audio_dialog = this.setDialog(core);\n    contextAudio.modal = audio_dialog;\n    contextAudio.audioInputFile = audio_dialog.querySelector(\"._ke_audio_files\");\n    contextAudio.audioUrlFile = audio_dialog.querySelector(\".ke-input-url\");\n    contextAudio.focusElement = contextAudio.audioInputFile || contextAudio.audioUrlFile;\n    contextAudio.preview = audio_dialog.querySelector(\".ke-link-preview\");\n    /** controller */\n\n    var audio_controller = this.setController(core);\n    contextAudio.controller = audio_controller;\n    /** add event listeners */\n\n    audio_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core));\n\n    if (contextAudio.audioInputFile) {\n      audio_dialog.querySelector(\".ke-dialog-files-edge-button\").addEventListener(\"click\", this._removeSelectedFiles.bind(contextAudio.audioInputFile, contextAudio.audioUrlFile, contextAudio.preview));\n    }\n\n    if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n      contextAudio.audioInputFile.addEventListener(\"change\", this._fileInputChange.bind(contextAudio));\n    }\n\n    audio_controller.addEventListener(\"click\", this.onClick_controller.bind(core));\n\n    if (contextAudio.audioUrlFile) {\n      contextAudio.audioUrlFile.addEventListener(\"input\", this._onLinkPreview.bind(contextAudio.preview, contextAudio, core.options.linkProtocol));\n    }\n    /** append html */\n\n\n    context.dialog.modal.appendChild(audio_dialog);\n    /** append controller */\n\n    context.element.relative.appendChild(audio_controller);\n    /** empty memory */\n\n    audio_dialog = null, audio_controller = null;\n  },\n\n  /** HTML - dialog */\n  setDialog: function setDialog(core) {\n    var option = core.options;\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + '<form method=\"post\" enctype=\"multipart/form-data\">' + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.audioBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">';\n\n    if (option.audioFileInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.audioBox.file + \"</label>\" + '<div class=\"ke-dialog-form-files\">' + '<input class=\"ke-input-form _ke_audio_files\" type=\"file\" accept=\"' + option.audioAccept + '\"' + (option.audioMultipleFile ? ' multiple=\"multiple\"' : \"\") + \"/>\" + '<button type=\"button\" data-command=\"filesRemove\" class=\"ke-btn ke-dialog-files-edge-button ke-file-remove\" title=\"' + lang.controller.remove + '\">' + core.icons.cancel + \"</button>\" + \"</div>\" + \"</div>\";\n    }\n\n    if (option.audioUrlInput) {\n      html += \"\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.audioBox.url + \"</label>\" + '<input class=\"ke-input-form ke-input-url\" type=\"text\" />' + '<pre class=\"ke-link-preview\"></pre>' + \"</div>\";\n    }\n\n    html += \"\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** HTML - controller */\n  setController: function setController(core) {\n    var lang = core.lang;\n    var icons = core.icons;\n    var link_btn = core.util.createElement(\"DIV\");\n    link_btn.className = \"ke-controller ke-controller-link\";\n    link_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-tooltip\">' + icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-tooltip\">' + icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\";\n    return link_btn;\n  },\n  // Disable url input when uploading files\n  _fileInputChange: function _fileInputChange() {\n    if (!this.audioInputFile.value) {\n      this.audioUrlFile.removeAttribute(\"disabled\");\n      this.preview.style.textDecoration = \"\";\n    } else {\n      this.audioUrlFile.setAttribute(\"disabled\", true);\n      this.preview.style.textDecoration = \"line-through\";\n    }\n  },\n  // Disable url input when uploading files\n  _removeSelectedFiles: function _removeSelectedFiles(urlInput, preview) {\n    this.value = \"\";\n\n    if (urlInput) {\n      urlInput.removeAttribute(\"disabled\");\n      preview.style.textDecoration = \"\";\n    }\n  },\n  // create new audio tag\n  _createAudioTag: function _createAudioTag() {\n    var oAudio = this.util.createElement(\"AUDIO\");\n\n    this.plugins.audio._setTagAttrs.call(this, oAudio);\n\n    var w = this.context.audio._origin_w;\n    var h = this.context.audio._origin_h;\n    oAudio.setAttribute(\"origin-size\", w + \",\" + h);\n    oAudio.style.cssText = (w ? \"width:\" + w + \"; \" : \"\") + (h ? \"height:\" + h + \";\" : \"\");\n    return oAudio;\n  },\n  _setTagAttrs: function _setTagAttrs(element) {\n    element.setAttribute(\"controls\", true);\n    var attrs = this.options.audioTagAttrs;\n\n    if (!attrs) {\n      return;\n    }\n\n    for (var key in attrs) {\n      if (!this.util.hasOwn(attrs, key)) {\n        continue;\n      }\n\n      element.setAttribute(key, attrs[key]);\n    }\n  },\n  _onLinkPreview: function _onLinkPreview(context, protocol, e) {\n    var value = e.target.value.trim();\n    context._linkValue = this.textContent = !value ? \"\" : protocol && value.indexOf(\"://\") === -1 && value.indexOf(\"#\") !== 0 ? protocol + value : value.indexOf(\"://\") === -1 ? \"/\" + value : value;\n  },\n\n  /**\r\n   * @Required @Override fileManager\r\n   */\n  fileTags: [\"audio\"],\n\n  /**\r\n   * @Override core, fileManager, resizing\r\n   * @description It is called from core.selectComponent.\r\n   * @param {Element} element Target element\r\n   */\n  select: function select(element) {\n    this.plugins.audio.onModifyMode.call(this, element);\n  },\n\n  /**\r\n   * @Override fileManager, resizing\r\n   */\n  destroy: function destroy(element) {\n    element = element || this.context.audio._element;\n    var container = this.util.getParentElement(element, this.util.isComponent) || element;\n    var dataIndex = element.getAttribute(\"data-index\") * 1;\n    var focusEl = container.previousElementSibling || container.nextElementSibling;\n    var emptyDiv = container.parentNode;\n    this.util.removeItem(container);\n    this.plugins.audio.init.call(this);\n    this.controllersOff();\n\n    if (emptyDiv !== this.context.element.wysiwyg) {\n      this.util.removeItemAllParents(emptyDiv, function (current) {\n        return current.childNodes.length === 0;\n      }, null);\n    } // focus\n\n\n    this.focusEdge(focusEl); // fileManager event\n\n    this.plugins.fileManager.deleteInfo.call(this, \"audio\", dataIndex, this.functions.onAudioUpload); // history stack\n\n    this.history.push(false);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  checkFileInfo: function checkFileInfo() {\n    this.plugins.fileManager.checkInfo.call(this, \"audio\", [\"audio\"], this.functions.onAudioUpload, this.plugins.audio.updateCover.bind(this), false);\n  },\n\n  /**\r\n   * @Override fileManager\r\n   */\n  resetFileInfo: function resetFileInfo() {\n    this.plugins.fileManager.resetInfo.call(this, \"audio\", this.functions.onAudioUpload);\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  on: function on(update) {\n    var contextAudio = this.context.audio;\n\n    if (!update) {\n      this.plugins.audio.init.call(this);\n\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.setAttribute(\"multiple\", \"multiple\");\n      }\n    } else if (contextAudio._element) {\n      this.context.dialog.updateModal = true;\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.removeAttribute(\"multiple\");\n      }\n    } else {\n      if (contextAudio.audioInputFile && this.options.audioMultipleFile) {\n        contextAudio.audioInputFile.removeAttribute(\"multiple\");\n      }\n    }\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"audio\", \"audio\" === this.currentControllerName);\n  },\n  submit: function submit(e) {\n    var contextAudio = this.context.audio;\n    e.preventDefault();\n    e.stopPropagation();\n\n    try {\n      if (contextAudio.audioInputFile && contextAudio.audioInputFile.files.length > 0) {\n        this.showLoading();\n        this.plugins.audio.submitAction.call(this, contextAudio.audioInputFile.files);\n      } else if (contextAudio.audioUrlFile && contextAudio._linkValue.length > 0) {\n        this.showLoading();\n        this.plugins.audio.setupUrl.call(this, contextAudio._linkValue);\n      }\n    } catch (error) {\n      this.closeLoading();\n      throw Error('[KothingEditor.audio.submit.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.plugins.dialog.close.call(this);\n    }\n\n    return false;\n  },\n  submitAction: function submitAction(fileList) {\n    if (fileList.length === 0) {\n      return;\n    }\n\n    var fileSize = 0;\n    var files = [];\n\n    for (var i = 0, len = fileList.length; i < len; i++) {\n      if (/audio/i.test(fileList[i].type)) {\n        files.push(fileList[i]);\n        fileSize += fileList[i].size;\n      }\n    }\n\n    var limitSize = this.options.audioUploadSizeLimit;\n\n    if (limitSize > 0) {\n      var infoSize = 0;\n      var audiosInfo = this.context.audio._infoList;\n\n      for (var _i = 0, _len = audiosInfo.length; _i < _len; _i++) {\n        infoSize += audiosInfo[_i].size * 1;\n      }\n\n      if (fileSize + infoSize > limitSize) {\n        this.closeLoading();\n        var err = \"[KothingEditor.audioUpload.fail] Size of uploadable total audios: \" + limitSize / 1000 + \"KB\";\n\n        if (typeof this.functions.onAudioUploadError !== \"function\" || this.functions.onAudioUploadError(err, {\n          limitSize: limitSize,\n          currentSize: infoSize,\n          uploadSize: fileSize\n        }, this)) {\n          this.functions.noticeOpen(err);\n        }\n\n        return;\n      }\n    }\n\n    var contextAudio = this.context.audio;\n    contextAudio._uploadFileLength = files.length;\n    var info = {\n      isUpdate: this.context.dialog.updateModal,\n      element: contextAudio._element\n    };\n\n    if (typeof this.functions.onAudioUploadBefore === \"function\") {\n      var result = this.functions.onAudioUploadBefore(files, info, this, function (data) {\n        if (data && this._w.Array.isArray(data.result)) {\n          this.plugins.audio.register.call(this, info, data);\n        } else {\n          this.plugins.audio.upload.call(this, info, data);\n        }\n      }.bind(this));\n\n      if (typeof result === \"undefined\") {\n        return;\n      }\n\n      if (!result) {\n        this.closeLoading();\n        return;\n      }\n\n      if (_typeof(result) === \"object\" && result.length > 0) {\n        files = result;\n      }\n    }\n\n    this.plugins.audio.upload.call(this, info, files);\n  },\n  error: function error(message, response) {\n    this.closeLoading();\n\n    if (typeof this.functions.onAudioUploadError !== \"function\" || this.functions.onAudioUploadError(message, response, this)) {\n      this.functions.noticeOpen(message);\n      throw Error(\"[KothingEditor.plugin.audio.exception] response: \" + message);\n    }\n  },\n  upload: function upload(info, files) {\n    if (!files) {\n      this.closeLoading();\n      return;\n    }\n\n    if (typeof files === \"string\") {\n      this.plugins.audio.error.call(this, files, null);\n      return;\n    }\n\n    var audioUploadUrl = this.options.audioUploadUrl;\n    var filesLen = this.context.dialog.updateModal ? 1 : files.length; // create formData\n\n    var formData = new FormData();\n\n    for (var i = 0; i < filesLen; i++) {\n      formData.append(\"file-\" + i, files[i]);\n    } // server upload\n\n\n    this.plugins.fileManager.upload.call(this, audioUploadUrl, this.options.audioUploadHeader, formData, this.plugins.audio.callBack_upload.bind(this, info), this.functions.onAudioUploadError);\n  },\n  callBack_upload: function callBack_upload(info, xmlHttp) {\n    if (typeof this.functions.audioUploadHandler === \"function\") {\n      this.functions.audioUploadHandler(xmlHttp, info, this);\n    } else {\n      var response = JSON.parse(xmlHttp.responseText);\n\n      if (response.errorMessage) {\n        this.plugins.audio.error.call(this, response.errorMessage, response);\n      } else {\n        this.plugins.audio.register.call(this, info, response);\n      }\n    }\n  },\n  register: function register(info, response) {\n    var fileList = response.result;\n\n    for (var i = 0, len = fileList.length, file, oAudio; i < len; i++) {\n      if (info.isUpdate) {\n        oAudio = info.element;\n      } else {\n        oAudio = this.plugins.audio._createAudioTag.call(this);\n      }\n\n      file = {\n        name: fileList[i].name,\n        size: fileList[i].size\n      };\n      this.plugins.audio.create_audio.call(this, oAudio, fileList[i].url, file, info.isUpdate);\n    }\n\n    this.closeLoading();\n  },\n  setupUrl: function setupUrl(src) {\n    try {\n      if (src.length === 0) {\n        return false;\n      }\n\n      this.plugins.audio.create_audio.call(this, this.plugins.audio._createAudioTag.call(this), src, null, this.context.dialog.updateModal);\n    } catch (error) {\n      throw Error('[KothingEditor.audio.audio.fail] cause : \"' + error.message + '\"');\n    } finally {\n      this.closeLoading();\n    }\n  },\n  create_audio: function create_audio(element, src, file, isUpdate) {\n    var contextAudio = this.context.audio; // create new tag\n\n    if (!isUpdate) {\n      element.src = src;\n      var cover = this.plugins.component.set_cover.call(this, element);\n      var container = this.plugins.component.set_container.call(this, cover, \"\");\n\n      if (!this.insertComponent(container, false, true, !this.options.mediaAutoSelect)) {\n        this.focus();\n        return;\n      }\n\n      if (!this.options.mediaAutoSelect) {\n        var line = this.appendFormatTag(container, null);\n        this.setRange(line, 0, line, 0);\n      }\n    } else {\n      // update\n      if (contextAudio._element) {\n        element = contextAudio._element;\n      }\n\n      if (element && element.src !== src) {\n        element.src = src;\n        this.selectComponent(element, \"audio\");\n      } else {\n        this.selectComponent(element, \"audio\");\n        return;\n      }\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"audio\", element, this.functions.onAudioUpload, file, false);\n\n    if (isUpdate) {\n      this.history.push(false);\n    }\n  },\n  updateCover: function updateCover(element) {\n    var contextAudio = this.context.audio;\n\n    this.plugins.audio._setTagAttrs.call(this, element); // find component element\n\n\n    var existElement = this.util.getParentElement(element, this.util.isMediaComponent) || this.util.getParentElement(element, function (current) {\n      return this.isWysiwygDiv(current.parentNode);\n    }.bind(this.util)); // clone element\n\n    var prevElement = element;\n    contextAudio._element = element = element.cloneNode(false);\n    var cover = this.plugins.component.set_cover.call(this, element);\n    var container = this.plugins.component.set_container.call(this, cover, \"ke-audio-container\");\n\n    try {\n      if (this.util.isFormatElement(existElement) && existElement.childNodes.length > 0) {\n        existElement.parentNode.insertBefore(container, existElement);\n        this.util.removeItem(prevElement); // clean format tag\n\n        this.util.removeEmptyNode(existElement, null);\n\n        if (existElement.children.length === 0) {\n          existElement.innerHTML = this.util.htmlRemoveWhiteSpace(existElement.innerHTML);\n        }\n      } else {\n        existElement.parentNode.replaceChild(container, existElement);\n      }\n    } catch (error) {\n      console.warn(\"[KothingEditor.audio.error] Maybe the audio tag is nested.\", error);\n    }\n\n    this.plugins.fileManager.setInfo.call(this, \"audio\", element, this.functions.onAudioUpload, null, false);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  onModifyMode: function onModifyMode(selectionTag) {\n    var contextAudio = this.context.audio;\n    this.setControllerPosition(contextAudio.controller, selectionTag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(contextAudio.controller, selectionTag, this.plugins.audio.onControllerOff.bind(this, selectionTag), \"audio\");\n    this.util.addClass(selectionTag, \"active\");\n    contextAudio._element = selectionTag;\n    contextAudio._cover = this.util.getParentElement(selectionTag, \"FIGURE\");\n    contextAudio._container = this.util.getParentElement(selectionTag, this.util.isComponent);\n  },\n\n  /**\r\n   * @Required @Override fileManager, resizing\r\n   */\n  openModify: function openModify(notOpen) {\n    if (this.context.audio.audioUrlFile) {\n      var contextAudio = this.context.audio;\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = contextAudio._element.src;\n    }\n\n    if (!notOpen) {\n      this.plugins.dialog.open.call(this, \"audio\", true);\n    }\n  },\n  onClick_controller: function onClick_controller(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.plugins.audio.openModify.call(this, false);\n    } else {\n      /** delete */\n      this.plugins.audio.destroy.call(this, this.context.audio._element);\n    }\n\n    this.controllersOff();\n  },\n  onControllerOff: function onControllerOff(selectionTag) {\n    this.util.removeClass(selectionTag, \"active\");\n    this.context.audio.controller.style.display = \"none\";\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  init: function init() {\n    if (this.context.dialog.updateModal) {\n      return;\n    }\n\n    var contextAudio = this.context.audio;\n\n    if (contextAudio.audioInputFile) {\n      contextAudio.audioInputFile.value = \"\";\n    }\n\n    if (contextAudio.audioUrlFile) {\n      contextAudio._linkValue = contextAudio.preview.textContent = contextAudio.audioUrlFile.value = \"\";\n    }\n\n    if (contextAudio.audioInputFile && contextAudio.audioUrlFile) {\n      contextAudio.audioUrlFile.removeAttribute(\"disabled\");\n      contextAudio.preview.style.textDecoration = \"\";\n    }\n\n    contextAudio._element = null;\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dialog = _interopRequireDefault(require(\"../modules/dialog\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"math\",\n  display: \"dialog\",\n  add: function add(core) {\n    core.addModule([_dialog.default]);\n    var context = core.context;\n    context.math = {\n      focusElement: null,\n      // @Override dialog // This element has focus when the dialog is opened.\n      previewElement: null,\n      fontSizeElement: null,\n      defaultFontSize: \"\",\n      _mathExp: null\n    };\n    /** math dialog */\n\n    var math_dialog = this.setDialog(core);\n    context.math.modal = math_dialog;\n    context.math.focusElement = math_dialog.querySelector(\".ke-math-exp\");\n    context.math.previewElement = math_dialog.querySelector(\".ke-math-preview\");\n    context.math.fontSizeElement = math_dialog.querySelector(\".ke-math-size\");\n    context.math.focusElement.addEventListener(\"keyup\", this._renderMathExp.bind(core, context.math), false);\n    context.math.focusElement.addEventListener(\"change\", this._renderMathExp.bind(core, context.math), false);\n    context.math.fontSizeElement.addEventListener(\"change\", function (e) {\n      this.fontSize = e.target.value;\n    }.bind(context.math.previewElement.style), false);\n    /** math controller */\n\n    var math_controller = this.setController_MathButton(core);\n    context.math.mathController = math_controller;\n    context.math._mathExp = null;\n    /** add event listeners */\n\n    math_dialog.querySelector(\"form\").addEventListener(\"submit\", this.submit.bind(core), false);\n    math_controller.addEventListener(\"click\", this.onClick_mathController.bind(core));\n    context.math.previewElement.style.fontSize = context.math.defaultFontSize;\n    /** append html */\n\n    context.dialog.modal.appendChild(math_dialog);\n    context.element.relative.appendChild(math_controller);\n    /** empty memory */\n\n    math_dialog = null, math_controller = null;\n  },\n\n  /** dialog */\n  setDialog: function setDialog(core) {\n    var lang = core.lang;\n    var dialog = core.util.createElement(\"DIV\");\n    var fontSize = core.options.mathFontSize;\n    var defaultFontSize = fontSize[0].value;\n    dialog.className = \"ke-dialog-content\";\n    dialog.style.display = \"none\";\n    var html = \"\" + \"<form>\" + '<div class=\"ke-dialog-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-dialog-close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-modal-title\">' + lang.dialogBox.mathBox.title + \"</span>\" + \"</div>\" + '<div class=\"ke-dialog-body\">' + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.inputLabel + ' (<a href=\"https://katex.org/docs/supported.html\" target=\"_blank\">KaTeX</a>)</label>' + '<textarea class=\"ke-input-form ke-math-exp\" type=\"text\"></textarea>' + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.fontSizeLabel + \"</label>\" + '<select class=\"ke-input-select ke-math-size\">';\n\n    for (var i = 0, len = fontSize.length, f; i < len; i++) {\n      f = fontSize[i];\n\n      if (f.default) {\n        defaultFontSize = f.value;\n      }\n\n      html += '<option value=\"' + f.value + '\"' + (f.default ? \" selected\" : \"\") + \">\" + f.text + \"</option>\";\n    }\n\n    html += \"</select>\" + \"</div>\" + '<div class=\"ke-dialog-form\">' + \"<label>\" + lang.dialogBox.mathBox.previewLabel + \"</label>\" + '<p class=\"ke-math-preview\"></p>' + \"</div>\" + \"</div>\" + '<div class=\"ke-dialog-footer\">' + '<button type=\"submit\" class=\"ke-btn-primary\" title=\"' + lang.dialogBox.submitButton + '\"><span>' + lang.dialogBox.submitButton + \"</span></button>\" + \"</div>\" + \"</form>\";\n    core.context.math.defaultFontSize = defaultFontSize;\n    dialog.innerHTML = html;\n    return dialog;\n  },\n\n  /** modify controller button */\n  setController_MathButton: function setController_MathButton(core) {\n    var lang = core.lang;\n    var math_btn = core.util.createElement(\"DIV\");\n    math_btn.className = \"ke-controller ke-controller-link\";\n    math_btn.innerHTML = \"\" + '<div class=\"ke-arrow ke-arrow-up\"></div>' + '<div class=\"link-content\">' + '<div class=\"ke-btn-group\">' + '<button type=\"button\" data-command=\"update\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + core.icons.edit + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.edit + \"</span></span>\" + \"</button>\" + '<button type=\"button\" data-command=\"delete\" tabindex=\"-1\" class=\"ke-btn ke-tooltip\">' + core.icons.delete + '<span class=\"ke-tooltip-inner\"><span class=\"ke-tooltip-text\">' + lang.controller.remove + \"</span></span>\" + \"</button>\" + \"</div>\" + \"</div>\" + \"\";\n    return math_btn;\n  },\n\n  /**\r\n   * @Required @Override dialog\r\n   */\n  open: function open() {\n    this.plugins.dialog.open.call(this, \"math\", \"math\" === this.currentControllerName);\n  },\n\n  /**\r\n   * @Override core - managedTagsInfo\r\n   */\n  managedTags: function managedTags() {\n    return {\n      className: \"katex\",\n      method: function method(element) {\n        if (!element.getAttribute(\"data-exp\") || !this.options.katex) {\n          return;\n        }\n\n        var dom = this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this, this.util.HTMLDecoder(element.getAttribute(\"data-exp\"))));\n\n        element.innerHTML = dom.querySelector(\".katex\").innerHTML;\n      }\n    };\n  },\n  _renderer: function _renderer(exp) {\n    var katex = this.options.katex;\n    return katex.src.renderToString(exp, katex.options);\n  },\n  _renderMathExp: function _renderMathExp(contextMath, e) {\n    contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, e.target.value);\n  },\n  submit: function submit(e) {\n    this.showLoading();\n    e.preventDefault();\n    e.stopPropagation();\n\n    var submitAction = function () {\n      if (this.context.math.focusElement.value.trim().length === 0) {\n        return false;\n      }\n\n      var contextMath = this.context.math;\n      var mathExp = contextMath.focusElement.value;\n      var katexEl = contextMath.previewElement.querySelector(\".katex\");\n\n      if (!katexEl) {\n        return false;\n      }\n\n      katexEl.className = \"__ke__katex \" + katexEl.className;\n      katexEl.setAttribute(\"contenteditable\", false);\n      katexEl.setAttribute(\"data-exp\", this.util.HTMLEncoder(mathExp));\n      katexEl.setAttribute(\"data-font-size\", contextMath.fontSizeElement.value);\n      katexEl.style.fontSize = contextMath.fontSizeElement.value;\n\n      if (!this.context.dialog.updateModal) {\n        var selectedFormats = this.getSelectedElements();\n\n        if (selectedFormats.length > 1) {\n          var oFormat = this.util.createElement(selectedFormats[0].nodeName);\n          oFormat.appendChild(katexEl);\n\n          if (!this.insertNode(oFormat, null, true)) {\n            return false;\n          }\n        } else {\n          if (!this.insertNode(katexEl, null, true)) {\n            return false;\n          }\n        }\n\n        var empty = this.util.createTextNode(this.util.zeroWidthSpace);\n        katexEl.parentNode.insertBefore(empty, katexEl.nextSibling);\n        this.setRange(katexEl, 0, katexEl, 1);\n      } else {\n        var containerEl = this.util.getParentElement(contextMath._mathExp, \".katex\");\n        containerEl.parentNode.replaceChild(katexEl, containerEl);\n        this.setRange(katexEl, 0, katexEl, 1);\n      }\n\n      contextMath.focusElement.value = \"\";\n      contextMath.fontSizeElement.value = \"1em\";\n      contextMath.previewElement.style.fontSize = \"1em\";\n      contextMath.previewElement.innerHTML = \"\";\n      return true;\n    }.bind(this);\n\n    try {\n      if (submitAction()) {\n        this.plugins.dialog.close.call(this); // history stack\n\n        this.history.push(false);\n      }\n    } catch (e) {\n      this.plugins.dialog.close.call(this);\n    } finally {\n      this.closeLoading();\n    }\n\n    return false;\n  },\n  active: function active(element) {\n    if (!element) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) > -1) {\n        this.controllersOff();\n      }\n    } else if (element.getAttribute(\"data-exp\")) {\n      if (this.controllerArray.indexOf(this.context.math.mathController) < 0) {\n        this.setRange(element, 0, element, 1);\n        this.plugins.math.call_controller.call(this, element);\n      }\n\n      return true;\n    }\n\n    return false;\n  },\n  on: function on(update) {\n    if (!update) {\n      this.plugins.math.init.call(this);\n    } else {\n      var contextMath = this.context.math;\n\n      if (contextMath._mathExp) {\n        var exp = this.util.HTMLDecoder(contextMath._mathExp.getAttribute(\"data-exp\"));\n        var fontSize = contextMath._mathExp.getAttribute(\"data-font-size\") || \"1em\";\n        this.context.dialog.updateModal = true;\n        contextMath.focusElement.value = exp;\n        contextMath.fontSizeElement.value = fontSize;\n        contextMath.previewElement.innerHTML = this.plugins.math._renderer.call(this, exp);\n        contextMath.previewElement.style.fontSize = fontSize;\n      }\n    }\n  },\n  call_controller: function call_controller(mathTag) {\n    this.context.math._mathExp = mathTag;\n    var mathBtn = this.context.math.mathController;\n    this.setControllerPosition(mathBtn, mathTag, \"bottom\", {\n      left: 0,\n      top: 0\n    });\n    this.controllersOn(mathBtn, mathTag, \"math\");\n  },\n  onClick_mathController: function onClick_mathController(e) {\n    e.stopPropagation();\n    var command = e.target.getAttribute(\"data-command\") || e.target.parentNode.getAttribute(\"data-command\");\n\n    if (!command) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (/update/.test(command)) {\n      this.context.math.focusElement.value = this.util.HTMLDecoder(this.context.math._mathExp.getAttribute(\"data-exp\"));\n      this.plugins.dialog.open.call(this, \"math\", true);\n    } else {\n      /** delete */\n      this.util.removeItem(this.context.math._mathExp);\n      this.context.math._mathExp = null;\n      this.focus(); // history stack\n\n      this.history.push(false);\n    }\n\n    this.controllersOff();\n  },\n  init: function init() {\n    var contextMath = this.context.math;\n    contextMath.mathController.style.display = \"none\";\n    contextMath._mathExp = null;\n    contextMath.focusElement.value = \"\";\n    contextMath.previewElement.innerHTML = \"\";\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n(function (global, factory) {\n  if ((typeof module === \"undefined\" ? \"undefined\" : _typeof(module)) === \"object\" && _typeof(module.exports) === \"object\") {\n    module.exports = global.document ? factory(global, true) : function (w) {\n      if (!w.document) {\n        throw new Error(\"KothingEditor_MODULES a window with a document\");\n      }\n\n      return factory(w);\n    };\n  } else {\n    factory(global);\n  }\n})(typeof window !== \"undefined\" ? window : void 0, function (window, noGlobal) {\n  var fileBrowser = {\n    name: \"fileBrowser\",\n    _xmlHttp: null,\n    loading: null,\n\n    /**\r\n     * @description Constructor\r\n     * @param {Object} core Core object\r\n     */\n    add: function add(core) {\n      var context = core.context;\n      context.fileBrowser = {\n        _closeSignal: false,\n        area: null,\n        header: null,\n        tagArea: null,\n        body: null,\n        list: null,\n        tagElements: null,\n        items: [],\n        selectedTags: [],\n        selectorHandler: null,\n        contextPlugin: \"\",\n        columnSize: 4\n      };\n      /** fileBrowser */\n\n      var browser_div = core.util.createElement(\"DIV\");\n      browser_div.className = \"ke-file-browser kothing-editor-common\";\n      var back = core.util.createElement(\"DIV\");\n      back.className = \"ke-file-browser-back\";\n      var content = core.util.createElement(\"DIV\");\n      content.className = \"ke-file-browser-inner\";\n      content.innerHTML = this.set_browser(core);\n      browser_div.appendChild(back);\n      browser_div.appendChild(content);\n      this.loading = browser_div.querySelector(\".ke-loading-box\");\n      context.fileBrowser.area = browser_div;\n      context.fileBrowser.header = content.querySelector(\".ke-file-browser-header\");\n      context.fileBrowser.titleArea = content.querySelector(\".ke-file-browser-title\");\n      context.fileBrowser.tagArea = content.querySelector(\".ke-file-browser-tags\");\n      context.fileBrowser.body = content.querySelector(\".ke-file-browser-body\");\n      context.fileBrowser.list = content.querySelector(\".ke-file-browser-list\");\n      /** add event listeners */\n\n      context.fileBrowser.tagArea.addEventListener(\"click\", this.onClickTag.bind(core));\n      context.fileBrowser.list.addEventListener(\"click\", this.onClickFile.bind(core));\n      content.addEventListener(\"mousedown\", this._onMouseDown_browser.bind(core));\n      content.addEventListener(\"click\", this._onClick_browser.bind(core));\n      /** append html */\n\n      context.element.relative.appendChild(browser_div);\n      /** empty memory */\n\n      browser_div = null, back = null, content = null;\n    },\n    set_browser: function set_browser(core) {\n      var lang = core.lang;\n      return '<div class=\"ke-file-browser-content\">' + '<div class=\"ke-file-browser-header\">' + '<button type=\"button\" data-command=\"close\" class=\"ke-btn ke-file-browser-close\" class=\"close\" aria-label=\"Close\" title=\"' + lang.dialogBox.close + '\">' + core.icons.cancel + \"</button>\" + '<span class=\"ke-file-browser-title\"></span>' + '<div class=\"ke-file-browser-tags\"></div>' + \"</div>\" + '<div class=\"ke-file-browser-body\">' + '<div class=\"ke-loading-box kothing-editor-common\"><div class=\"ke-loading-effect\"></div></div>' + '<div class=\"ke-file-browser-list\"></div>' + \"</div>\" + \"</div>\";\n    },\n\n    /**\r\n     * @description Event to control the behavior of closing the browser\r\n     * @param {MouseEvent} e Event object\r\n     * @private\r\n     */\n    _onMouseDown_browser: function _onMouseDown_browser(e) {\n      if (/ke-file-browser-inner/.test(e.target.className)) {\n        this.context.fileBrowser._closeSignal = true;\n      } else {\n        this.context.fileBrowser._closeSignal = false;\n      }\n    },\n\n    /**\r\n     * @description Event to close the window when the outside area of the browser or close button is click\r\n     * @param {MouseEvent} e Event object\r\n     * @private\r\n     */\n    _onClick_browser: function _onClick_browser(e) {\n      e.stopPropagation();\n\n      if (/close/.test(e.target.getAttribute(\"data-command\")) || this.context.fileBrowser._closeSignal) {\n        this.plugins.fileBrowser.close.call(this);\n      }\n    },\n\n    /**\r\n     * @description Open a file browser plugin\r\n     * @param {String} pluginName Plugin name using the file browser\r\n     * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n     */\n    open: function open(pluginName, selectorHandler) {\n      if (this.plugins.fileBrowser._bindClose) {\n        this._d.removeEventListener(\"keydown\", this.plugins.fileBrowser._bindClose);\n\n        this.plugins.fileBrowser._bindClose = null;\n      }\n\n      this.plugins.fileBrowser._bindClose = function (e) {\n        if (!/27/.test(e.keyCode)) {\n          return;\n        }\n\n        this.plugins.fileBrowser.close.call(this);\n      }.bind(this);\n\n      this._d.addEventListener(\"keydown\", this.plugins.fileBrowser._bindClose);\n\n      var fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.contextPlugin = pluginName;\n      fileBrowserContext.selectorHandler = selectorHandler;\n      var pluginContext = this.context[pluginName];\n      var listClassName = pluginContext.listClass;\n\n      if (!this.util.hasClass(fileBrowserContext.list, listClassName)) {\n        fileBrowserContext.list.className = \"ke-file-browser-list \" + listClassName;\n      }\n\n      if (this.options.popupDisplay === \"full\") {\n        fileBrowserContext.area.style.position = \"fixed\";\n      } else {\n        fileBrowserContext.area.style.position = \"absolute\";\n      }\n\n      fileBrowserContext.titleArea.textContent = pluginContext.title;\n      fileBrowserContext.area.style.display = \"block\";\n\n      this.plugins.fileBrowser._drawFileList.call(this, this.context[pluginName].url, this.context[pluginName].header);\n    },\n    _bindClose: null,\n\n    /**\r\n     * @description Close a fileBrowser plugin\r\n     * The plugin's \"init\" method is called.\r\n     */\n    close: function close() {\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n\n      if (fileBrowserPlugin._xmlHttp) {\n        fileBrowserPlugin._xmlHttp.abort();\n      }\n\n      if (fileBrowserPlugin._bindClose) {\n        this._d.removeEventListener(\"keydown\", fileBrowserPlugin._bindClose);\n\n        fileBrowserPlugin._bindClose = null;\n      }\n\n      var fileBrowserContext = this.context.fileBrowser;\n      fileBrowserContext.area.style.display = \"none\";\n      fileBrowserContext.selectorHandler = null;\n      fileBrowserContext.selectedTags = [];\n      fileBrowserContext.items = [];\n      fileBrowserContext.list.innerHTML = fileBrowserContext.tagArea.innerHTML = fileBrowserContext.titleArea.textContent = \"\";\n\n      if (typeof this.plugins[fileBrowserContext.contextPlugin].init === \"function\") {\n        this.plugins[fileBrowserContext.contextPlugin].init.call(this);\n      }\n\n      fileBrowserContext.contextPlugin = \"\";\n    },\n\n    /**\r\n     * @description Show file browser loading box\r\n     */\n    showBrowserLoading: function showBrowserLoading() {\n      this.loading.style.display = \"block\";\n    },\n\n    /**\r\n     * @description Close file browser loading box\r\n     */\n    closeBrowserLoading: function closeBrowserLoading() {\n      this.loading.style.display = \"none\";\n    },\n    _drawFileList: function _drawFileList(url, browserHeader) {\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n      var xmlHttp = fileBrowserPlugin._xmlHttp = this.util.getXMLHttpRequest();\n      xmlHttp.onreadystatechange = fileBrowserPlugin._callBackGet.bind(this, xmlHttp);\n      xmlHttp.open(\"get\", url, true);\n\n      if (browserHeader !== null && _typeof(browserHeader) === \"object\" && this._w.Object.keys(browserHeader).length > 0) {\n        for (var key in browserHeader) {\n          xmlHttp.setRequestHeader(key, browserHeader[key]);\n        }\n      }\n\n      xmlHttp.send(null);\n      this.plugins.fileBrowser.showBrowserLoading();\n    },\n    _callBackGet: function _callBackGet(xmlHttp) {\n      if (xmlHttp.readyState === 4) {\n        this.plugins.fileBrowser._xmlHttp = null;\n\n        if (xmlHttp.status === 200) {\n          try {\n            this.plugins.fileBrowser._drawListItem.call(this, JSON.parse(xmlHttp.responseText).result, true);\n          } catch (e) {\n            throw Error('[KothingEditor.fileBrowser.drawList.fail] cause : \"' + e.message + '\"');\n          } finally {\n            this.plugins.fileBrowser.closeBrowserLoading();\n            this.context.fileBrowser.body.style.maxHeight = this._w.innerHeight - this.context.fileBrowser.header.offsetHeight - 50 + \"px\";\n          }\n        } else {\n          // exception\n          this.plugins.fileBrowser.closeBrowserLoading();\n\n          if (xmlHttp.status !== 0) {\n            var res = !xmlHttp.responseText ? xmlHttp : JSON.parse(xmlHttp.responseText);\n            var err = \"[KothingEditor.fileBrowser.get.serverException] status: \" + xmlHttp.status + \", response: \" + (res.errorMessage || xmlHttp.responseText);\n            throw Error(err);\n          }\n        }\n      }\n    },\n    _drawListItem: function _drawListItem(items, update) {\n      var fileBrowserContext = this.context.fileBrowser;\n      var pluginContext = this.context[fileBrowserContext.contextPlugin];\n      var _tags = [];\n      var len = items.length;\n      var columnSize = pluginContext.columnSize || fileBrowserContext.columnSize;\n      var splitSize = columnSize <= 1 ? 1 : Math.round(len / columnSize) || 1;\n      var drawItemHandler = pluginContext.itemTemplateHandler;\n      var tagsHTML = \"\";\n      var listHTML = '<div class=\"ke-file-item-column\">';\n      var columns = 1;\n\n      for (var i = 0, item, tags; i < len; i++) {\n        item = items[i];\n        tags = !item.tag ? [] : typeof item.tag === \"string\" ? item.tag.split(\",\") : item.tag;\n        tags = item.tag = tags.map(function (v) {\n          return v.trim();\n        });\n        listHTML += drawItemHandler(item);\n\n        if ((i + 1) % splitSize === 0 && columns < columnSize && i + 1 < len) {\n          columns++;\n          listHTML += '</div><div class=\"ke-file-item-column\">';\n        }\n\n        if (update && tags.length > 0) {\n          for (var t = 0, tLen = tags.length, tag; t < tLen; t++) {\n            tag = tags[t];\n\n            if (tag && _tags.indexOf(tag) === -1) {\n              _tags.push(tag);\n\n              tagsHTML += '<a title=\"' + tag + '\">' + tag + \"</a>\";\n            }\n          }\n        }\n      }\n\n      listHTML += \"</div>\";\n      fileBrowserContext.list.innerHTML = listHTML;\n\n      if (update) {\n        fileBrowserContext.items = items;\n        fileBrowserContext.tagArea.innerHTML = tagsHTML;\n        fileBrowserContext.tagElements = fileBrowserContext.tagArea.querySelectorAll(\"A\");\n      }\n    },\n    onClickTag: function onClickTag(e) {\n      var target = e.target;\n\n      if (!this.util.isAnchor(target)) {\n        return;\n      }\n\n      var tagName = target.textContent;\n      var fileBrowserPlugin = this.plugins.fileBrowser;\n      var fileBrowserContext = this.context.fileBrowser;\n      var selectTag = fileBrowserContext.tagArea.querySelector('a[title=\"' + tagName + '\"]');\n      var selectedTags = fileBrowserContext.selectedTags;\n      var sTagIndex = selectedTags.indexOf(tagName);\n\n      if (sTagIndex > -1) {\n        selectedTags.splice(sTagIndex, 1);\n        this.util.removeClass(selectTag, \"on\");\n      } else {\n        selectedTags.push(tagName);\n        this.util.addClass(selectTag, \"on\");\n      }\n\n      fileBrowserPlugin._drawListItem.call(this, selectedTags.length === 0 ? fileBrowserContext.items : fileBrowserContext.items.filter(function (item) {\n        return item.tag.some(function (tag) {\n          return selectedTags.indexOf(tag) > -1;\n        });\n      }), false);\n    },\n    onClickFile: function onClickFile(e) {\n      e.preventDefault();\n      e.stopPropagation();\n      var fileBrowserContext = this.context.fileBrowser;\n      var listEl = fileBrowserContext.list;\n      var target = e.target;\n      var command = null;\n\n      if (target === listEl) {\n        return;\n      }\n\n      while (listEl !== target.parentNode) {\n        command = target.getAttribute(\"data-command\");\n\n        if (command) {\n          break;\n        }\n\n        target = target.parentNode;\n      }\n\n      if (!command) {\n        return;\n      }\n\n      var handler = fileBrowserContext.selectorHandler || this.context[fileBrowserContext.contextPlugin].selectorHandler;\n      this.plugins.fileBrowser.close.call(this);\n      handler(target);\n    }\n  };\n\n  if (_typeof(noGlobal) === (typeof undefined === \"undefined\" ? \"undefined\" : _typeof(undefined))) {\n    if (!window.KothingEditor_MODULES) {\n      Object.defineProperty(window, \"KothingEditor_MODULES\", {\n        enumerable: true,\n        writable: false,\n        configurable: false,\n        value: {}\n      });\n    }\n\n    Object.defineProperty(window.KothingEditor_MODULES, \"fileBrowser\", {\n      enumerable: true,\n      writable: false,\n      configurable: false,\n      value: fileBrowser\n    });\n  }\n\n  return fileBrowser;\n});", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _fileBrowser = _interopRequireDefault(require(\"../modules/fileBrowser\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\nvar _default = {\n  name: \"imageGallery\",\n\n  /**\r\n   * @description Constructor\r\n   * @param {Object} core Core object\r\n   */\n  add: function add(core) {\n    core.addModule([_fileBrowser.default]);\n    var context = core.context;\n    context.imageGallery = {\n      title: core.lang.toolbar.imageGallery,\n      // @Required @Override fileBrowser - File browser window title.\n      url: core.options.imageGalleryUrl,\n      // @Required @Override fileBrowser - File server url.\n      header: core.options.imageGalleryHeader,\n      // @Required @Override fileBrowser - File server http header.\n      listClass: \"ke-image-list\",\n      // @Required @Override fileBrowser - Class name of list div.\n      itemTemplateHandler: this.drawItems,\n      // @Required @Override fileBrowser - Function that defines the HTML of an file item.\n      selectorHandler: this.setImage.bind(core),\n      // @Required @Override fileBrowser - Function that action when item click.\n      columnSize: 4 // @Option @Override fileBrowser - Number of \"div.ke-file-item-column\" to be created (default: 4)\n\n    };\n  },\n\n  /**\r\n   * @Required @Override fileBrowser\r\n   * @description Open a file browser.\r\n   * @param {Function|null} selectorHandler When the function comes as an argument value, it substitutes \"context.selectorHandler\".\r\n   */\n  open: function open(selectorHandler) {\n    this.plugins.fileBrowser.open.call(this, \"imageGallery\", selectorHandler);\n  },\n\n  /**\r\n   * @Required @Override fileBrowser\r\n   * @description Define the HTML of the item to be put in \"div.ke-file-item-column\".\r\n   * Format: [\r\n   *      { src: \"image src\", name: \"name(@option)\", alt: \"image alt(@option)\", tag: \"tag name(@option)\" }\r\n   * ]\r\n   * @param {Object} item Item of the response data's array\r\n   */\n  drawItems: function drawItems(item) {\n    var srcName = item.src.split(\"/\").pop();\n    return '<div class=\"ke-file-item-img\"><img src=\"' + item.src + '\" alt=\"' + (item.alt || srcName) + '\" data-command=\"pick\">' + '<div class=\"ke-file-img-name ke-file-name-back\"></div>' + '<div class=\"ke-file-img-name __ke__img_name\">' + (item.name || srcName) + \"</div>\" + \"</div>\";\n  },\n  setImage: function setImage(target) {\n    this.callPlugin(\"image\", function () {\n      var file = {\n        name: target.parentNode.querySelector(\".__ke__img_name\").textContent,\n        size: 0\n      };\n      this.context.image._altText = target.alt;\n      this.plugins.image.create_image.call(this, target.src, null, this.context.image._origin_w, this.context.image._origin_h, \"none\", file);\n    }.bind(this), null);\n  }\n};\nexports.default = _default;", "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"blockquote\", {\n  enumerable: true,\n  get: function get() {\n    return _blockquote.default;\n  }\n});\nObject.defineProperty(exports, \"align\", {\n  enumerable: true,\n  get: function get() {\n    return _align.default;\n  }\n});\nObject.defineProperty(exports, \"font\", {\n  enumerable: true,\n  get: function get() {\n    return _font.default;\n  }\n});\nObject.defineProperty(exports, \"fontSize\", {\n  enumerable: true,\n  get: function get() {\n    return _fontSize.default;\n  }\n});\nObject.defineProperty(exports, \"fontColor\", {\n  enumerable: true,\n  get: function get() {\n    return _fontColor.default;\n  }\n});\nObject.defineProperty(exports, \"hiliteColor\", {\n  enumerable: true,\n  get: function get() {\n    return _hiliteColor.default;\n  }\n});\nObject.defineProperty(exports, \"horizontalRule\", {\n  enumerable: true,\n  get: function get() {\n    return _horizontalRule.default;\n  }\n});\nObject.defineProperty(exports, \"list\", {\n  enumerable: true,\n  get: function get() {\n    return _list.default;\n  }\n});\nObject.defineProperty(exports, \"table\", {\n  enumerable: true,\n  get: function get() {\n    return _table.default;\n  }\n});\nObject.defineProperty(exports, \"formatBlock\", {\n  enumerable: true,\n  get: function get() {\n    return _formatBlock.default;\n  }\n});\nObject.defineProperty(exports, \"lineHeight\", {\n  enumerable: true,\n  get: function get() {\n    return _lineHeight.default;\n  }\n});\nObject.defineProperty(exports, \"template\", {\n  enumerable: true,\n  get: function get() {\n    return _template.default;\n  }\n});\nObject.defineProperty(exports, \"paragraphStyle\", {\n  enumerable: true,\n  get: function get() {\n    return _paragraphStyle.default;\n  }\n});\nObject.defineProperty(exports, \"textStyle\", {\n  enumerable: true,\n  get: function get() {\n    return _textStyle.default;\n  }\n});\nObject.defineProperty(exports, \"link\", {\n  enumerable: true,\n  get: function get() {\n    return _link.default;\n  }\n});\nObject.defineProperty(exports, \"image\", {\n  enumerable: true,\n  get: function get() {\n    return _image.default;\n  }\n});\nObject.defineProperty(exports, \"video\", {\n  enumerable: true,\n  get: function get() {\n    return _video.default;\n  }\n});\nObject.defineProperty(exports, \"audio\", {\n  enumerable: true,\n  get: function get() {\n    return _audio.default;\n  }\n});\nObject.defineProperty(exports, \"math\", {\n  enumerable: true,\n  get: function get() {\n    return _math.default;\n  }\n});\nObject.defineProperty(exports, \"imageGallery\", {\n  enumerable: true,\n  get: function get() {\n    return _imageGallery.default;\n  }\n});\nexports.default = void 0;\n\nvar _blockquote = _interopRequireDefault(require(\"./command/blockquote\"));\n\nvar _align = _interopRequireDefault(require(\"./submenu/align\"));\n\nvar _font = _interopRequireDefault(require(\"./submenu/font\"));\n\nvar _fontSize = _interopRequireDefault(require(\"./submenu/fontSize\"));\n\nvar _fontColor = _interopRequireDefault(require(\"./submenu/fontColor\"));\n\nvar _hiliteColor = _interopRequireDefault(require(\"./submenu/hiliteColor\"));\n\nvar _horizontalRule = _interopRequireDefault(require(\"./submenu/horizontalRule\"));\n\nvar _list = _interopRequireDefault(require(\"./submenu/list\"));\n\nvar _table = _interopRequireDefault(require(\"./submenu/table\"));\n\nvar _formatBlock = _interopRequireDefault(require(\"./submenu/formatBlock\"));\n\nvar _lineHeight = _interopRequireDefault(require(\"./submenu/lineHeight\"));\n\nvar _template = _interopRequireDefault(require(\"./submenu/template\"));\n\nvar _paragraphStyle = _interopRequireDefault(require(\"./submenu/paragraphStyle\"));\n\nvar _textStyle = _interopRequireDefault(require(\"./submenu/textStyle\"));\n\nvar _link = _interopRequireDefault(require(\"./dialog/link\"));\n\nvar _image = _interopRequireDefault(require(\"./dialog/image\"));\n\nvar _video = _interopRequireDefault(require(\"./dialog/video\"));\n\nvar _audio = _interopRequireDefault(require(\"./dialog/audio\"));\n\nvar _math = _interopRequireDefault(require(\"./dialog/math\"));\n\nvar _imageGallery = _interopRequireDefault(require(\"./fileBrowser/imageGallery\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * KothingEditor\r\n *\r\n * The WYSIWYG Rich Text Editor\r\n * Copyright Kothing.\r\n * MIT license.\r\n */\n// command\n// submenu\n// dialog\n// file browser\nvar _default = {\n  blockquote: _blockquote.default,\n  align: _align.default,\n  font: _font.default,\n  fontSize: _fontSize.default,\n  fontColor: _fontColor.default,\n  hiliteColor: _hiliteColor.default,\n  horizontalRule: _horizontalRule.default,\n  list: _list.default,\n  table: _table.default,\n  formatBlock: _formatBlock.default,\n  lineHeight: _lineHeight.default,\n  template: _template.default,\n  paragraphStyle: _paragraphStyle.default,\n  textStyle: _textStyle.default,\n  link: _link.default,\n  image: _image.default,\n  video: _video.default,\n  audio: _audio.default,\n  math: _math.default,\n  imageGallery: _imageGallery.default\n};\nexports.default = _default;", "export default require(\"./node_modules/kothing-editor/lib/plugins/index.js\");"],
  "mappings": "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",
  "names": []
}
